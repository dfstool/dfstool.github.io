"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6545,2694],{53238:function(e,t,n){n.d(t,{Z:function(){return l}});var s=n(11774),r=n(59530),a=n(22181),c=n(62435),i=n(86074),o=function(){var e=(0,r.useSelector)((function(e){return e.global.session})),t=e?e.chain.name:"DFS",n=(0,r.useIntl)().formatMessage({id:"app.intlNotSupportChain"},{chainName:t});return(0,i.jsx)(s._z,{ghost:!0,children:(0,i.jsx)(a.ZP,{title:n})})},l=(0,c.memo)(o)},50390:function(e,t,n){n.r(t);var s=n(53238),r=n(59530),a=n(62435),c=n(91268),i=n(86074);t.default=function(){var e=(0,r.useSelector)((function(e){return e.global.session})),t=e?e.chain.name:"DFS";return(0,a.useCallback)((function(){return"DFS"===t?(0,i.jsx)(c.default,{}):(0,i.jsx)(s.Z,{})}),[t])()}},91268:function(e,t,n){n.r(t);var s=n(15009),r=n.n(s),a=n(99289),c=n.n(a),i=n(5574),o=n.n(i),l=n(19064),u=n(51869),f=n(39417),d=n(74563),x=n(19601),p=n(64119),h=n(11774),m=n(38345),v=n(59530),g=n(45360),j=n(2487),b=n(62435),S=n(86074);t.default=function(){var e=(0,v.useDispatch)(),t=g.ZP.useMessage(),n=o()(t,2),s=n[0],a=n[1],i=(0,v.useSelector)((function(e){return e.global.contractKit})),k=(0,b.useState)(!1),w=o()(k,2),N=w[0],C=w[1],Z=(0,v.useSelector)((function(e){return e.vote.kingDataSource})),y=(0,b.useRef)(),D=(0,v.useIntl)().formatMessage({id:"vote.intlTheKingOfVotes"}),_=(0,b.useCallback)(function(){var t=c()(r()().mark((function t(n){var a,c,i,o;return r()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.load("dfsbpsvoters");case 3:return a=t.sent,c=a.table("voters"),t.next=7,c.all();case 7:i=t.sent,(o=i.sort((function(e,t){return t.vote_power.value-e.vote_power.value}))).forEach((function(e,t){o[t].rank=t+1})),e(x.N.setKingDataSource(o)),C(!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),C(!1),(0,p.Tv)(t.t0,s);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),[s]),I=(0,b.useCallback)((function(e,t){return 1===e?(0,S.jsxs)("div",{className:"flex items-center ml-[-8px] font-semibold text-lg",children:[(0,S.jsx)("img",{src:l,width:"40px"}),t]}):2===e?(0,S.jsxs)("div",{className:"flex items-center ml-[-8px] font-semibold text-lg",children:[(0,S.jsx)("img",{src:f,width:"40px"}),t]}):3===e?(0,S.jsxs)("div",{className:"flex items-center ml-[-8px] font-semibold text-lg",children:[(0,S.jsx)("img",{src:u,width:"40px"}),t]}):"".concat(e,". ")+t}),[]);return(0,b.useEffect)((function(){i?(Z.length?C(!1):C(!0),_(i)):C(!0)}),[i,_]),(0,S.jsx)(h._z,{className:"",ghost:!0,children:(0,S.jsx)("div",{className:"flex justify-center",children:(0,S.jsxs)(m.Z,{className:"flex justify-center",title:(0,S.jsx)("span",{className:"text-xl font-semibold",children:D}),headerBordered:!0,headStyle:{justifyContent:"center"},style:{width:"500px"},children:[(0,S.jsx)(j.Z,{dataSource:Z,loading:{spinning:N,size:"large"},renderItem:function(e){return(0,S.jsxs)(j.Z.Item,{className:"hover:cursor-pointer",onClick:function(){return y.current.handleOpen(e)},children:[(0,S.jsx)(j.Z.Item.Meta,{title:I(e.rank,e.voter.toString()),description:"Last Vote: "+e.last_vote.toString()}),(0,S.jsx)("div",{className:"font-semibold",children:(e.vote_power.value/1e8).toFixed(0)})]})}}),(0,S.jsx)(d.gb,{ref:y}),a]})})})}},19064:function(e,t,n){e.exports=n.p+"static/one.796dbe39.png"},51869:function(e,t,n){e.exports=n.p+"static/three.1c34dbad.png"},39417:function(e,t,n){e.exports=n.p+"static/two.0435ef4a.png"}}]);