"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[255],{25897:function(e,r,t){t.r(r),t.d(r,{default:function(){return Q}});var s=t(15009),n=t.n(s),a=t(99289),c=t.n(a),o=t(5574),i=t.n(o),l=t(97857),u=t.n(l),m=t(19632),d=t.n(m),f=t(80107),p=t(64119),b=t(52688),g=t(5966),h=t(97269),x=t(59530),v=t(80507),y=t(45360),j=t(15867),S=t(71230),P=t(15746),N=t(62435),k=t(86074),w=function(){var e=(0,x.useDispatch)(),r=(0,x.useSelector)((function(e){return e.contract.batchActions})),t=(0,x.useSelector)((function(e){return e.global.session})),s=(0,x.useSelector)((function(e){return e.global.account})),a=y.ZP.useMessage(),o=i()(a,2),l=o[0],u=o[1],m=(0,x.useIntl)(),d=m.formatMessage({id:"contract.intlBatchActions"}),b=m.formatMessage({id:"common.intlTxSuccess"}),g=m.formatMessage({id:"common.intlTxFail"}),v=m.formatMessage({id:"common.intlPleaseConnectWallet"}),j=m.formatMessage({id:"common.intlPleaseConnectNetwork"}),S=(0,N.useCallback)(c()(n()().mark((function e(){var a,c,o,u,m;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.broadcast){e.next=5;break}return l.error("".concat(v)),e.abrupt("return");case 5:if(s){e.next=8;break}return l.error("".concat(j)),e.abrupt("return");case 8:return a=[],r.forEach((function(e){a.push(JSON.parse(e.typedAction))})),e.next=12,(0,p.zI)(t.transact({actions:a}));case 12:c=e.sent,o=i()(c,2),u=o[0],m=o[1],u?l.error(u):m&&m.response?l.success("".concat(b)):l.error("".concat(g));case 17:case"end":return e.stop()}}),e)}))),[t,s,r]),P=(0,N.useCallback)((function(t){var s=r.filter((function(e,r){return r!==t}));e(f.N.setBatchActions(s))}),[r]),w=(0,N.useCallback)((function(){e(f.N.setBatchActions([]))}),[]);return(0,k.jsxs)("div",{className:"tab-action",children:[(0,k.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:"".concat(d,"(").concat(r.length,")")}),(0,k.jsx)("div",{className:"px-[13px]",children:r.map((function(e,r){return(0,k.jsx)("div",{className:"mb-2",children:(0,k.jsxs)("div",{style:{background:"#e6f4ff",border:"1px solid #91caff",boxSizing:"border-box",margin:"0",padding:"8px 12px",color:"rgba(0, 0, 0, 0.88)",fontSize:"14px",lineHeight:"1.5714285714285714",listStyle:"none",position:"relative",display:"flex",alignItems:"center",wordWrap:"break-word",borderRadius:"8px"},children:[(0,k.jsx)("div",{style:{flex:1,minWidth:0,boxSizing:"border-box"},children:e.untypedAction}),(0,k.jsx)("button",{type:"button",onClick:function(){return P(r)},style:{marginInlineStart:"8px",padding:0,overflow:"hidden",fontSize:"12px",lineHeight:"12px",backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer"},children:(0,k.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.45)",transition:"color 0.2s"},children:(0,k.jsx)("svg",{fillRule:"evenodd",viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor",children:(0,k.jsx)("path",{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"})})})})]})},r)}))}),(0,k.jsx)(h.A,{className:"pl-[13px]",layout:"vertical",onFinish:c()(n()().mark((function e(){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S());case 1:case"end":return e.stop()}}),e)}))),onReset:w}),u]})},C=(0,N.memo)(w),_=function(){var e=(0,x.useSelector)((function(e){return e.contract.decodeData})),r=(0,x.useIntl)().formatMessage({id:"contract.intlDecodeResult"});return(0,k.jsxs)("div",{className:"tab-action",children:[(0,k.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:r}),(0,k.jsx)("div",{className:"px-[13px]",children:(0,k.jsx)("pre",{children:e})})]})},O=(0,N.memo)(_),T=function(){var e=(0,x.useSelector)((function(e){return e.contract.encodeData})),r=(0,x.useIntl)().formatMessage({id:"contract.intlEncodeResult"});return(0,k.jsxs)("div",{className:"tab-action",children:[(0,k.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:r}),(0,k.jsxs)("div",{className:"px-[13px]",children:[(0,k.jsx)("div",{className:"text-base font-semibold",children:"Action:"}),(0,k.jsx)("pre",{children:e.action}),(0,k.jsx)("div",{className:"text-base font-semibold",children:"Transaction:"}),(0,k.jsx)("pre",{children:e.transaction}),(0,k.jsx)("div",{className:"text-base font-semibold",children:"SigningData:"}),(0,k.jsx)("div",{className:" break-words mb-3",children:e.signingData}),(0,k.jsx)("div",{className:"text-base font-semibold",children:"SigningDigest:"}),(0,k.jsx)("pre",{children:e.signingDigest}),(0,k.jsx)("div",{className:"text-base font-semibold",children:"SignedTransaction:"}),(0,k.jsx)("pre",{children:e.signedTransaction}),(0,k.jsx)("div",{className:"text-base font-semibold",children:"PackedTransaction:"}),(0,k.jsx)("pre",{children:e.packedTransaction}),(0,k.jsx)("div",{className:"text-base font-semibold",children:"Transaction ID:"}),(0,k.jsx)("pre",{children:e.transactionId})]})]})},D=(0,N.memo)(T),A=t(37476),M=t(90672),Z=N.forwardRef((function(e,r){var t=(0,x.useDispatch)(),s=y.ZP.useMessage(),a=i()(s,2),o=a[0],l=a[1],u=(0,x.useSelector)((function(e){return e.contract.abi})),m=(0,x.useSelector)((function(e){return e.contract.actionSelection})),d=(0,x.useIntl)(),p=d.formatMessage({id:"contract.intlDecode"}),b=d.formatMessage({id:"common.intlInputException"}),g=d.formatMessage({id:"contract.intlDecodeSuccess"}),h=(0,N.useRef)(),j=(0,N.useState)(!1),S=i()(j,2),P=S[0],w=S[1],C=(0,N.useCallback)((function(){w(!0)}),[]);(0,N.useImperativeHandle)(r,(function(){return{handleOpen:C}}));var _=(0,N.useCallback)(function(){var e=c()(n()().mark((function e(r){var s,a;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=v.ei.decode({data:r.input,abi:u,type:m}),a=JSON.stringify(s,null,2),t(f.N.setDecodeData(a)),t(f.N.setBatchActions([])),t(f.N.setEncodeData(void 0)),o.success("".concat(g)),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),o.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),[u,m]);return(0,k.jsxs)(A.Y,{formRef:h,title:p,open:P,onFinish:_,onOpenChange:function(e){w(e)},layout:"horizontal",width:"600px",children:[(0,k.jsx)(M.Z,{placeholder:"example: 000000000090b1ca10270000000000000444465300000000",name:"input",fieldProps:{autoSize:{minRows:5},allowClear:!0,autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(b),pattern:/^[a-fA-F0-9]+$/}]}),l]})})),I=(0,N.memo)(Z),z=function(){var e,r=(0,N.useRef)(),t=(0,N.useRef)(),s=(0,x.useDispatch)(),a=(0,N.useState)(new Set),o=i()(a,1)[0],l=(0,x.useSelector)((function(e){return e.contract.abi})),m=(0,x.useSelector)((function(e){return e.contract.actionSelection})),w=(0,x.useSelector)((function(e){return e.contract.actionType})),_=(0,x.useSelector)((function(e){return e.global.session})),T=(0,x.useSelector)((function(e){return e.global.account})),A=(0,x.useSelector)((function(e){return e.contract.contract})),M=(0,x.useSelector)((function(e){return e.contract.batchActions})),Z=(0,x.useSelector)((function(e){return e.contract.encodeData})),z=(0,x.useSelector)((function(e){return e.contract.decodeData})),E=y.ZP.useMessage(),J=i()(E,2),B=J[0],F=J[1],R=(0,x.useIntl)(),$=R.formatMessage({id:"common.intlCopySuccess"}),L=R.formatMessage({id:"contract.intlSelectAction"}),V=R.formatMessage({id:"contract.intlEnterData"}),K=R.formatMessage({id:"common.intlCopy"}),U=R.formatMessage({id:"common.intlTxSuccess"}),G=R.formatMessage({id:"common.intlTxFail"}),W=R.formatMessage({id:"common.intlPleaseConnectWallet"}),H=R.formatMessage({id:"common.intlPleaseConnectNetwork"}),Q=R.formatMessage({id:"contract.intlAdd"}),Y=R.formatMessage({id:"contract.intlEncode"}),q=R.formatMessage({id:"contract.intlDecode"}),X=R.formatMessage({id:"contract.intlEncodeSuccess"}),ee=(0,N.useCallback)((function(e,r){var t=/(\$|\?)$/g,s=/^[a-z1-5.]{1,12}$/,n=/^\d+$/,a=/^-?\d+$/,c=/^(-?\d+)(.\d+)?$/,i=/^([0-9a-fA-F][0-9a-fA-F])+$/;if(t.test(e.message)&&!r)return Promise.resolve();switch(e.message.replace(t,"")){case"string":return Promise.resolve("");case"name":try{return s.test(r)?Promise.resolve(v.VG.from(r)):Promise.reject(e.message=String(s))}catch(r){return Promise.reject(e.message=r.message)}case"asset":try{return Promise.resolve(v.xR.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum160":try{return Promise.resolve(v.b9.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum256":try{return Promise.resolve(v.Nz.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum512":try{return Promise.resolve(v.W4.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"uint8":try{return n.test(r)?Promise.resolve(v._A.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"uint16":try{return n.test(r)?Promise.resolve(v.j8.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"uint32":try{return n.test(r)?Promise.resolve(v.xH.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"uint64":try{return n.test(r)?Promise.resolve(v.zM.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"uint128":try{return n.test(r)?Promise.resolve(v.pB.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varuint":try{return n.test(r)?Promise.resolve(v.mj.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varuint16":try{return n.test(r)?Promise.resolve(v.mj.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varuint32":try{return n.test(r)?Promise.resolve(v.mj.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varuint64":try{return n.test(r)?Promise.resolve(v.mj.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varuint128":try{return n.test(r)?Promise.resolve(v.mj.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"int8":try{return a.test(r)?Promise.resolve(v.tJ.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"int16":try{return a.test(r)?Promise.resolve(v.k6.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"int32":try{return a.test(r)?Promise.resolve(v.Vq.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"int64":try{return a.test(r)?Promise.resolve(v.ni.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"int128":try{return a.test(r)?Promise.resolve(v.Gm.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varint":try{return a.test(r)?Promise.resolve(v.yN.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varint16":try{return a.test(r)?Promise.resolve(v.yN.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varint32":try{return a.test(r)?Promise.resolve(v.yN.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varint64":try{return a.test(r)?Promise.resolve(v.yN.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"varint128":try{return a.test(r)?Promise.resolve(v.yN.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"float32":try{return c.test(r)?Promise.resolve(v.yA.from(r)):Promise.reject(e.message=String(c))}catch(r){return Promise.reject(e.message=r.message)}case"float64":try{return c.test(r)?Promise.resolve(v.Dh.from(r)):Promise.reject(e.message=String(c))}catch(r){return Promise.reject(e.message=r.message)}case"bytes":try{return i.test(r)?Promise.resolve(v.Jj.from(r)):Promise.reject(e.message=String(i))}catch(r){return Promise.reject(e.message=r.message)}case"block_timestamp_type":try{return n.test(r)?Promise.resolve(v.wm.from(Number(r))):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"time_point":try{return n.test(r)?Promise.resolve(v.hI.from(Number(r))):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"time_point_sec":try{return n.test(r)?Promise.resolve(v.AQ.from(Number(r))):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"public_key":try{return Promise.resolve(v.nh.from(r))}catch(r){return Promise.reject(e.message=r.message)}default:try{return JSON.parse(r),o.add(e.field),Promise.resolve()}catch(r){return Promise.reject(e.message=r.message)}}}),[m,o]),re=(0,N.useCallback)((function(e){switch(e.replace(/(\$|\?)$/g,"")){case"name":return"Enter account name...";case"asset":return"example: 1.00000000 DFS";case"uint8":case"uint16":case"uint32":case"uint64":case"uint128":case"varuint":case"varuint16":case"varuint32":case"varuint64":case"varuint128":case"int8":case"int16":case"int32":case"int64":case"int128":case"varint":case"varint16":case"varint32":case"varint64":case"varint128":case"float32":case"float64":return"Enter number...";case"string":return"Enter string...";case"permission_level":return'example: {"actor": "foo", "permission": "active"}';case"bytes":return"example: 1234abcdff";case"checksum256":return"example: 73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d";case"authority":return'example: {"threshold": 1, "keys": [{"key": "EOS6RrvujLQN1x5Tacbep1KAk8zzKpSThAQXBCKYFfGUYeABhJRin", "weight": 1}], "accounts": [], "waits": []}';case"name[]":return'example: ["david", "mary"]';case"asset[]":return'example: ["1.00000000 DFS", "2.00000000 USDT"]';case"uint8[]":case"uint16[]":case"uint32[]":case"uint64[]":case"uint128[]":case"varuint[]":case"varuint16[]":case"varuint32[]":case"varuint64[]":case"varuint128[]":return"example: [12, 34]";case"int8[]":case"int16[]":case"int32[]":case"int64[]":case"int128[]":case"varint[]":case"varint16[]":case"varint32[]":case"varint64[]":case"varint128[]":return"example: [12, -34]";case"float32[]":case"float64[]":return"example: [12.12, -34.34]";case"string[]":return'example: ["abc", "def"]';case"permission_level[]":return'example: [{"actor": "foo", "permission": "active"}, {"actor": "foo", "permission": "active"}]';case"bytes[]":return'example: ["123abc", "456def"]';case"checksum256[]":return'example: ["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d", "73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d"]';default:return"Enter ".concat(e,"...")}}),[]),te=(0,N.useCallback)((function(){var e,r=null==l||null===(e=l.structs)||void 0===e?void 0:e.find((function(e){return e.name===w})),t=null==r?void 0:r.fields,s=/.+(\$|\?)$/;return null==t?void 0:t.map((function(e,r){return"bool"===e.type?(0,k.jsx)(b.Z,{name:e.name,label:(0,k.jsx)("span",{className:"font-semibold",children:e.name})},r):(0,k.jsx)(g.Z,{placeholder:re(e.type),name:e.name,label:(0,k.jsx)("span",{className:"font-semibold",children:e.name}),rules:[{required:!s.test(e.type),message:e.type,validator:ee}],hasFeedback:!0,fieldProps:{allowClear:!0,autoFocus:!1,addonAfter:e.type,size:"large"}},r)}))}),[l,m,w]),se=(0,N.useCallback)(function(){var e=c()(n()().mark((function e(r){var t,s,a,c,u,d,f;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&_.broadcast){e.next=5;break}return B.error("".concat(W)),e.abrupt("return");case 5:if(T){e.next=8;break}return B.error("".concat(H)),e.abrupt("return");case 8:return t=Object.assign({},r),Object.keys(t).forEach((function(e){o.has(e)&&(t[e]=JSON.parse(t[e]))})),s={account:A,name:m,authorization:[_.permissionLevel],data:t},a=v.aU.from(s,l),e.next=14,(0,p.zI)(_.transact({actions:[a]}));case 14:c=e.sent,u=i()(c,2),d=u[0],f=u[1],d?B.error(d):f&&f.response?B.success("".concat(U)):B.error("".concat(G));case 19:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[m,l,o,A,_,T]),ne=(0,N.useCallback)(c()(n()().mark((function e(){var t,s,a,c;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null===(t=r.current)||void 0===t?void 0:t.getFieldsValue(),a=Object.assign({},s),Object.keys(a).forEach((function(e){o.has(e)&&(a[e]=JSON.parse(a[e]))})),_.broadcast){e.next=8;break}return e.next=6,window.navigator.clipboard.writeText(JSON.stringify(a));case 6:e.next=11;break;case 8:return c={account:A,name:m,authorization:[{actor:_.actor,permission:_.permission}],data:a},e.next=11,window.navigator.clipboard.writeText(JSON.stringify(c,null,2));case 11:B.success("".concat($));case 12:case"end":return e.stop()}}),e)}))),[B,_,A,m]),ae=(0,N.useCallback)(c()(n()().mark((function e(){var t,a,c,i,u,p;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:if(_&&_.broadcast){e.next=7;break}return B.error("".concat(W)),e.abrupt("return");case 7:if(T){e.next=10;break}return B.error("".concat(H)),e.abrupt("return");case 10:c=null===(a=r.current)||void 0===a?void 0:a.getFieldsValue(),i=Object.assign({},c),Object.keys(i).forEach((function(e){o.has(e)&&(i[e]=JSON.parse(i[e]))})),u={account:A,name:m,authorization:[{actor:_.actor,permission:_.permission}],data:i},p=v.aU.from(u,l),s(f.N.setEncodeData(void 0)),s(f.N.setDecodeData(void 0)),s(f.N.setBatchActions([].concat(d()(M),[{untypedAction:JSON.stringify(u),typedAction:JSON.stringify(p)}])));case 18:case"end":return e.stop()}}),e)}))),[B,l,_,T,A,m,M]),ce=(0,N.useCallback)(c()(n()().mark((function e(){var t,a,c,d,b,g,h,x,y,j,S,P,N,k,w,C,O,T,D,M,Z,I;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:if(c=null===(a=r.current)||void 0===a?void 0:a.getFieldsValue(),d=Object.assign({},c),Object.keys(d).forEach((function(e){o.has(e)&&(d[e]=JSON.parse(d[e]))})),b=_.broadcast?[_.permissionLevel]:[],g={account:A,name:m,authorization:b,data:d},h=v.aU.from(g,l),x=JSON.stringify(h,null,2),y={expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],transaction_extensions:[]},j=v.YW.from(u()(u()({},y),{},{actions:[h]})),S=JSON.stringify(j,null,2),P=j.id.toString(),N="",k="",w="",C="",!_||!_.broadcast){e.next=24;break}return e.next=20,(0,p.zI)(_.transact({actions:[h]},{broadcast:!1,transactPlugins:[]}));case 20:O=e.sent,T=i()(O,2),(D=T[1])&&(j=D.resolved.transaction,S=JSON.stringify(j,null,2),M=D.signatures[0],Z=v.uQ.from(u()(u()({},j),{},{signatures:[M]})),I=v.f1.fromSigned(Z),N=JSON.stringify(Z,null,2),k=JSON.stringify(I,null,2),w=D.resolved.signingData.toString(),C=D.resolved.signingDigest.toString());case 24:s(f.N.setEncodeData({action:x,transaction:S,transactionId:P,signedTransaction:N,packedTransaction:k,signingData:w,signingDigest:C})),s(f.N.setBatchActions([])),s(f.N.setDecodeData(void 0)),B.success("".concat(X));case 28:case"end":return e.stop()}}),e)}))),[m,l,o,A,_]),oe=(0,N.useCallback)((function(){var e;null===(e=r.current)||void 0===e||e.resetFields(),s(f.N.setEncodeData(void 0))}),[]);return(0,k.jsxs)("div",{className:"tab-action",children:[(0,k.jsx)("div",{className:"hardline text-lg font-semibold mb-3",children:L}),(0,k.jsx)("div",{className:"flex flex-start flex-wrap pl-[13px]",children:null==l||null===(e=l.actions)||void 0===e?void 0:e.map((function(e,r){return(0,k.jsx)(j.ZP,{className:"w-[150px] mr-2 mb-2",ghost:m!==e.name.toString(),type:"primary",size:"large",onClick:function(){s(f.N.setActionSelection(e.name.toString())),s(f.N.setActionType(e.type.toString()))},children:e.name.toString()},r)}))}),!!m&&(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:V}),(0,k.jsx)(S.Z,{gutter:10,className:"w-full",children:(0,k.jsx)(P.Z,{lg:{span:"12"},md:{span:"20"},sm:{span:"20"},xs:{span:"24"},children:(0,k.jsx)(h.A,{formRef:r,className:"pl-[13px]",layout:"vertical",onFinish:function(){var e=c()(n()().mark((function e(r){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),onReset:function(){return oe()},submitter:{render:function(e,r){return(0,k.jsxs)("div",{className:"flex flex-wrap",style:{marginTop:"10px"},children:[(0,k.jsx)("div",{className:"mr-[8px] mt-[14px]",children:r[1]}),(0,k.jsx)("div",{className:"mr-[8px] mt-[14px]",children:r[0]}),(0,k.jsx)(j.ZP,{className:"mr-[8px] mt-[14px]",onClick:ne,children:K},"copy"),(0,k.jsx)(j.ZP,{className:"mr-[8px] mt-[14px]",onClick:ae,children:Q},"add"),(0,k.jsx)(j.ZP,{className:"mr-[8px] mt-[14px]",onClick:ce,children:Y},"encode"),(0,k.jsx)(j.ZP,{className:"mr-[8px] mt-[14px]",onClick:function(){return t.current.handleOpen()},children:q},"decode"),","]})}},children:te()})})})]}),(0,k.jsx)(I,{ref:t}),!!z&&(0,k.jsx)(O,{}),!!Z&&(0,k.jsx)(D,{}),!!M.length&&(0,k.jsx)(C,{}),F]})},E=(0,N.memo)(z),J=t(64317),B=t(92340),F=t(72269),R=t(96486),$=function(){var e,r=(0,x.useDispatch)(),t=(0,N.useRef)(),s=(0,x.useSelector)((function(e){return e.contract.abi})),a=(0,x.useSelector)((function(e){return e.contract.contract})),o=(0,x.useSelector)((function(e){return e.global.session})),l=(0,x.useSelector)((function(e){return e.contract.tableSelection})),m=(0,x.useSelector)((function(e){return e.contract.tableDataSource})),d=(0,x.useSelector)((function(e){return e.contract.tableColumns})),v=(0,x.useSelector)((function(e){return e.contract.tableByScope})),S=(0,x.useSelector)((function(e){return e.contract.tableParams})),P=(0,x.useSelector)((function(e){return e.contract.tableByScopeParams})),w=y.ZP.useMessage(),C=i()(w,2),_=C[0],O=C[1],T=(0,x.useIntl)(),D=T.formatMessage({id:"common.intlCopySuccess"}),A=T.formatMessage({id:"contract.intlSelectTable"}),M=T.formatMessage({id:"contract.intlEnterParameters"}),Z=T.formatMessage({id:"common.intlCopy"}),I=T.formatMessage({id:"contract.intlTableResult"}),z=T.formatMessage({id:"contract.intlNoData"}),E=(0,N.useCallback)(function(){var e=c()(n()().mark((function e(t){var s,a,c,l,m,d,b,g;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],a=[],e.next=4,(0,p.zI)(o.client.v1.chain.get_table_rows(t));case 4:if(c=e.sent,l=i()(c,2),m=l[0],d=l[1],!m){e.next=11;break}return _.error(m),e.abrupt("return");case 11:if((b=d.rows).length){e.next=16;break}return r(f.N.setTableColumns(s)),r(f.N.setTableDataSource(b)),e.abrupt("return");case 16:t.json?(g=Object.keys(b[0]),s.push({title:"#",dataIndex:"key",key:"key",width:"50px",align:"center",render:function(e,r,t){return(0,k.jsx)("span",{children:t+1})}}),g.forEach((function(e){s.push({title:e,dataIndex:e,key:e,render:function(r,t){return(0,R.isObject)(t[e])?(0,k.jsx)("span",{children:JSON.stringify(t[e])}):(0,k.jsx)("span",{children:t[e]})}})})),t.show_payer?(s.push({title:"payer",dataIndex:"payer",key:"payer",render:function(e,r){return(0,k.jsx)("span",{children:r.payer})}}),b.forEach((function(e,r){e.hasOwnProperty("key")||(b[r].key=r),a.push(u()(u()({},b[r]),{},{payer:d.ram_payers[r].toString()}))}))):b.forEach((function(e,r){e.hasOwnProperty("key")||(b[r].key=r),a.push(u()({},b[r]))}))):(s.push({title:"#",dataIndex:"key",key:"key",width:"50px",align:"center",render:function(e,r,t){return(0,k.jsx)("span",{children:t+1})}}),s.push({title:"bytes",dataIndex:"bytes",key:"bytes",render:function(e,r){return(0,k.jsx)("span",{children:r.bytes})}}),t.show_payer?(s.push({title:"payer",dataIndex:"payer",key:"payer",render:function(e,r){return(0,k.jsx)("span",{children:r.payer})}}),b.forEach((function(e,r){a.push({key:r,bytes:e,payer:d.ram_payers[r].toString()})}))):b.forEach((function(e,r){a.push({key:r,bytes:e})}))),r(f.N.setTableColumns(s)),r(f.N.setTableDataSource(a));case 19:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[o,_]),$=(0,N.useCallback)(function(){var e=c()(n()().mark((function e(t){var s,a,c,l,m,d,b,g;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],a=[],e.next=4,(0,p.zI)(o.client.v1.chain.get_table_by_scope(t));case 4:if(c=e.sent,l=i()(c,2),m=l[0],d=l[1],!m){e.next=11;break}return _.error(m),e.abrupt("return");case 11:if((b=JSON.parse(JSON.stringify(d.rows))).length){e.next=16;break}return r(f.N.setTableColumns(s)),r(f.N.setTableDataSource(b)),e.abrupt("return");case 16:g=Object.keys(b[0]),s.push({title:"#",dataIndex:"key",key:"key",width:"50px",align:"center",render:function(e,r,t){return(0,k.jsx)("span",{children:t+1})}}),g.forEach((function(e){s.push({title:e,dataIndex:e,key:e,render:function(r,t){return(0,R.isObject)(t[e])?(0,k.jsx)("span",{children:JSON.stringify(t[e])}):(0,k.jsx)("span",{children:t[e]})}})})),b.forEach((function(e,r){e.hasOwnProperty("key")||(b[r].key=r),a.push(u()({},b[r]))})),r(f.N.setTableColumns(s)),r(f.N.setTableDataSource(a));case 22:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[o,_]),L=(0,N.useCallback)(c()(n()().mark((function e(){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v?$(P):E(S);case 1:case"end":return e.stop()}}),e)}))),[S,P,v,E,$]),V=(0,N.useCallback)((function(e){var t=u()(u()({},S),{},{code:a,table:e.name.toString(),scope:S.scope?S.scope:a}),s=u()(u()({},P),{},{code:a,table:e.name.toString()});r(f.N.setTableSelection(e.name.toString())),r(f.N.setTableParams(t)),r(f.N.setTableByScopeParams(s)),v?$(s):E(t)}),[a,E,$,S,P]),K=(0,N.useCallback)((function(e){r(f.N.setTableByScope(e)),l&&(e?$(P):E(S))}),[l,S,P]),U=(0,N.useCallback)((function(e,t){if(v){var s={};e.hasOwnProperty("lower_bound2")?s.lower_bound=e.lower_bound2:e.hasOwnProperty("upper_bound2")?s.upper_bound=e.upper_bound2:e.hasOwnProperty("limit2")?s.limit=e.limit2:e.hasOwnProperty("reverse2")&&(s.reverse=e.reverse2),r(f.N.setTableByScopeParams(u()(u()({},P),s)))}else r(f.N.setTableParams(u()(u()({},S),t)))}),[v,S,P]),G=(0,N.useCallback)(c()(n()().mark((function e(){var r;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},v?Object.keys(P).forEach((function(e){P[e]&&(r[e]=P[e])})):Object.keys(S).forEach((function(e){S[e]&&(r[e]=S[e])})),e.next=4,window.navigator.clipboard.writeText(JSON.stringify(r));case 4:_.success("".concat(D));case 5:case"end":return e.stop()}}),e)}))),[_,v,S,P]);return(0,k.jsxs)("div",{className:"tab-table",children:[(0,k.jsxs)("div",{className:"hardline text-lg font-semibold mb-3",children:[(0,k.jsx)("span",{children:A}),(0,k.jsx)("span",{className:"ml-[30px] mr-3",children:"Table by Scope"}),(0,k.jsx)(F.Z,{value:v,onChange:K})]}),(0,k.jsx)("div",{className:"flex flex-start flex-wrap pl-[13px]",children:null==s||null===(e=s.tables)||void 0===e?void 0:e.map((function(e,r){return(0,k.jsx)(j.ZP,{className:"w-[150px] mr-2 mb-2",ghost:l!==e.name.toString(),type:"primary",size:"large",onClick:function(){return V(e)},children:e.name.toString()},r)}))}),!!l&&(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:M}),(0,k.jsx)(h.A,{initialValues:{scope:void 0===S.scope?a:S.scope,lower_bound:S.lower_bound,upper_bound:S.upper_bound,limit:S.limit,reverse:S.reverse,index_position:S.index_position,json:S.json,show_payer:S.show_payer,lower_bound2:P.lower_bound,upper_bound2:P.upper_bound,limit2:P.limit,reverse2:P.reverse},className:"pl-[13px]",formRef:t,layout:"vertical",onValuesChange:U,onFinish:c()(n()().mark((function e(){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L());case 1:case"end":return e.stop()}}),e)}))),submitter:{render:function(e,r){return[r[1],r[0],(0,k.jsx)(j.ZP,{onClick:G,children:Z},"copy")]}},children:v?(0,k.jsxs)(h.A.Group,{children:[(0,k.jsx)(g.Z,{name:"lower_bound2",label:"Lower Bound",placeholder:"Search...",fieldProps:{autoFocus:!1}}),(0,k.jsx)(g.Z,{name:"upper_bound2",label:"Upper Bound",placeholder:"Search..."}),(0,k.jsx)(g.Z,{name:"limit2",label:"Limit",placeholder:"Search...",transform:function(e){return Number(e)},fieldProps:{type:"number"}}),(0,k.jsx)(b.Z,{name:"reverse2",label:"Reverse",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}})]}):(0,k.jsxs)(h.A.Group,{children:[(0,k.jsx)(g.Z,{name:"scope",label:"Scope",placeholder:"Search...",fieldProps:{defaultValue:"".concat(a),autoFocus:!1}}),(0,k.jsx)(g.Z,{name:"lower_bound",label:"Lower Bound",placeholder:"Search..."}),(0,k.jsx)(g.Z,{name:"upper_bound",label:"Upper Bound",placeholder:"Search..."}),(0,k.jsx)(g.Z,{name:"limit",label:"Limit",placeholder:"Search...",transform:function(e){return Number(e)},fieldProps:{type:"number"}}),(0,k.jsx)(J.Z,{name:"Index Position",label:"index_position",placeholder:"Search...",options:["primary","secondary","tertiary","fourth","fifth","sixth","seventh","eighth","ninth","tenth"]}),(0,k.jsxs)(h.A.Group,{children:[(0,k.jsx)(b.Z,{name:"reverse",label:"Reverse",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}}),(0,k.jsx)(b.Z,{name:"show_payer",label:"Show Payer",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}}),(0,k.jsx)(b.Z,{name:"json",label:"JSON",fieldProps:{defaultValue:!0,onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}})]})]})}),(0,k.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:I}),m.length?(0,k.jsx)(B.Z,{scroll:{x:!0},size:"small",columns:d,dataSource:m,defaultData:[],search:!1,options:!1,pagination:!1}):(0,k.jsx)("div",{className:"text-base pl-[13px]",children:z})]}),O]})},L=(0,N.memo)($),V=t(57132),K=t(11774),U=t(38345),G=t(69677),W=t(92398),H=t(79123),Q=(t(20034),function(){var e=y.ZP.useMessage(),r=i()(e,2),t=r[0],s=r[1],a=(0,x.useDispatch)(),o=(0,x.useSelector)((function(e){return e.global.session})),l=(0,x.useSelector)((function(e){return e.global.contractKit})),u=(0,x.useSelector)((function(e){return e.contract.rawAbi})),m=(0,x.useSelector)((function(e){return e.contract.contract})),d=(0,x.useSelector)((function(e){return e.contract.tableSelection})),b=(0,x.useSelector)((function(e){return e.contract.actionSelection})),g=(0,x.useSelector)((function(e){return e.contract.activeKey})),h=(0,N.useState)(""),v=i()(h,2),j=v[0],S=v[1],P=(0,N.useState)(!1),w=i()(P,2),C=w[0],_=w[1],O=(0,x.useSearchParams)(),T=i()(O,2),D=T[0],A=T[1],M=(0,x.useIntl)(),Z=M.formatMessage({id:"contract.intlContract"}),I=M.formatMessage({id:"contract.intlSearch"}),z=M.formatMessage({id:"contract.intlAccountFormatError"}),J=M.formatMessage({id:"contract.intlNonContractAccount"}),B=M.formatMessage({id:"contract.intlSearchContract"}),F=M.formatMessage({id:"common.intlCopySuccess"}),$=(0,N.useCallback)(function(){var e=c()(n()().mark((function e(r,s){var a,c,l,u;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^[a-z1-5.]{1,12}$/.test(r)){e.next=8;break}if(r||s.hasOwnProperty("type")){e.next=4;break}return e.abrupt("return",!0);case 4:return t.error("".concat(z)),e.abrupt("return",!1);case 8:return e.next=10,(0,p.zI)(o.client.v1.chain.get_abi(r));case 10:if(a=e.sent,c=i()(a,2),l=c[0],u=c[1],!l){e.next=17;break}return t.error(l),e.abrupt("return",!1);case 17:if(l||!u.hasOwnProperty("abi")){e.next=21;break}return e.abrupt("return",!0);case 21:return t.error("".concat(J)),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[o,t]),Q=(0,N.useCallback)(function(){var e=c()(n()().mark((function e(r,s){var c,o,u,m,d,b;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=16;break}return _(!0),e.next=4,$(r,s);case 4:if(e.sent){e.next=7;break}return _(!1),e.abrupt("return");case 7:return e.next=9,(0,p.zI)(l.load(r));case 9:c=e.sent,o=i()(c,2),u=o[0],m=o[1],u?t.error(u):(d=m.abi.toJSON(),b=JSON.stringify(d),b=JSON.parse(b),a(f.N.setContract(r)),a(f.N.setABI(d)),a(f.N.setRawABI(b)),a(f.N.setActionType("")),a(f.N.setActionSelection("")),a(f.N.setTableSelection("")),a(f.N.setTableDataSource([])),a(f.N.setTableColumns([])),a(f.N.setTableByScope(!1)),a(f.N.setTableParams({code:"",table:"",scope:void 0,lower_bound:void 0,upper_bound:void 0,limit:100,reverse:void 0,index_position:void 0,json:!0,show_payer:void 0})),a(f.N.setTableByScopeParams({code:"",table:"",lower_bound:void 0,upper_bound:void 0,limit:100,reverse:void 0}))),S(""),_(!1);case 16:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[l,$,t]),Y=(0,N.useCallback)((0,R.debounce)(function(){var e=c()(n()().mark((function e(r){var t,s,a,c,l;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.target.value,/^[a-z1-5.]{1,12}$/.test(t)){e.next=6;break}0===t.trim().length?S(""):S("error"),e.next=13;break;case 6:return e.next=8,(0,p.zI)(o.client.v1.chain.get_abi(t));case 8:s=e.sent,a=i()(s,2),c=a[0],l=a[1],!c&&l.hasOwnProperty("abi")?S(""):S("error");case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),1e3),[o]),q=(0,N.useMemo)((function(){return"tables"===g&&d?m+"::"+d:"actions"===g&&b?m+"::"+b:m||""}),[g,d,b,m]),X=(0,N.useCallback)(c()(n()().mark((function e(){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.clipboard.writeText(JSON.stringify(u));case 2:t.success("".concat(F));case 3:case"end":return e.stop()}}),e)}))),[u]),ee=[{key:"tables",label:(0,k.jsx)("span",{className:"text-lg font-semibold",children:"Tables"}),children:!!u&&(0,k.jsx)(L,{})},{key:"actions",label:(0,k.jsx)("span",{className:"text-lg font-semibold",children:"Actions"}),children:!!u&&(0,k.jsx)(E,{})},{key:"abi",label:(0,k.jsx)("span",{className:"text-lg font-semibold",children:"ABI"}),children:!!u&&(0,k.jsxs)("div",{className:"pl-[13px]",children:[(0,k.jsx)(V.Z,{className:"cursor-pointer",style:{color:"#1677ff"},onClick:X}),(0,k.jsx)(H.ZP,{className:"text-lg",src:u,collapsed:3,displaySize:!0,enableClipboard:!1})]})},{key:"tip",label:(0,k.jsx)("span",{className:"text-lg font-semibold",children:q}),disabled:!0}];return(0,N.useEffect)((function(){var e=D.get("search");e&&(Q(e,""),A({}))}),[Q]),(0,k.jsxs)(K._z,{className:"contract",ghost:!0,children:[(0,k.jsxs)(U.Z,{children:[(0,k.jsx)("div",{className:"hardline text-lg font-semibold mb-3",children:B}),(0,k.jsx)(G.Z.Search,{className:"pl-[13px] ",loading:C,addonBefore:Z,placeholder:"Search...",allowClear:!0,enterButton:I,size:"large",status:j,onSearch:Q,onChange:Y}),(0,k.jsx)(W.Z,{className:"mt-2",defaultActiveKey:"tables",items:ee,activeKey:g,onChange:function(e){return a(f.N.setActiveKey(e))}})]}),s]})})}}]);