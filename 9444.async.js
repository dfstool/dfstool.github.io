(self.webpackChunk=self.webpackChunk||[]).push([[9444],{49444:function(e,t,r){"use strict";r.d(t,{Wo:function(){return f},kh:function(){return R},Wr:function(){return S},tw:function(){return k},SX:function(){return N}});var n=r(62435),i=r(75633),o=r(5574),a=r.n(o),u=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function c(e,t){var r=t.format,n=void 0===r?"":r,i=new Date(e).getTime(),o=Date.now();return function(e,t){var r=e,n=/\[[^\]]*]/g,i=(t.match(n)||[]).map((function(e){return e.slice(1,-1)})),o=t.replace(n,"[]"),c=u.reduce((function(e,t){var n=a()(t,2),i=n[0],o=n[1];if(e.includes(i)){var u=Math.floor(r/o);return r-=u*o,e.replace(new RegExp("".concat(i,"+"),"g"),(function(e){var t=e.length;return u.toString().padStart(t,"0")}))}return e}),o),s=0;return c.replace(n,(function(){var e=i[s];return s+=1,e}))}(Math.max(i-o,0),n)}var s=r(51409),d=r(86074);var l=function(e){var t=e.value,r=e.format,o=void 0===r?"HH:mm:ss":r,a=e.onChange,u=e.onFinish,l=e.className,f=(0,i.N)(),p=n.useRef(null),m=function(){var e=function(e){return new Date(e).getTime()}(t);e>=Date.now()&&(p.current=(0,s.Zi)((function(){f(),null==a||a(e-Date.now()),e<Date.now()&&(null==u||u(),p.current&&((0,s.cv)(p.current),p.current=null))}),33.333333333333336))};return n.useEffect((function(){return m(),function(){p.current&&((0,s.cv)(p.current),p.current=null)}}),[t]),(0,d.jsx)("div",{className:l,children:c(t,{format:o})})},f=n.memo(l),p=r(40956),m=r(92340),v=r(59530),h=r(15867),x=r(27484),y=r.n(x),g=r(70178),j=r.n(g);y().extend(j());var w=(0,n.forwardRef)((function(e,t){var r=(0,v.useDispatch)(),i=(0,v.useNavigate)(),o=(0,v.useSelector)((function(e){return e.ppp.projectNft})),a=(0,v.useSelector)((function(e){return e.ppp.projectNftReset})),u=(0,v.useSelector)((function(e){return e.ppp.projectId})),c=(0,v.useSelector)((function(e){return e.ppp.projectSecToBurnNft})),s=(0,v.useSelector)((function(e){return e.ppp.projectAccountFilter})),l=(0,v.useSelector)((function(e){return e.ppp.projectNftLoading})),x=(0,v.useSelector)((function(e){return e.ppp.projectProfitRate})),g=(0,v.useIntl)().formatMessage({id:"tokens.intlUpdate"}),j=(0,n.useCallback)((function(e){var t=e.owner,n=o.filter((function(e){return e.owner===t}));r(p.N.setProjectNft(n))}),[o]),w=(0,n.useCallback)((function(){r(p.N.setProjectNft(a))}),[a]),k=(0,n.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",search:!1,render:function(e,t,r){return(0,d.jsx)("span",{children:r+1})}},{title:"ID",dataIndex:"id",key:"id",search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.id})}},{title:"CID",dataIndex:"cid",key:"cid",search:!1,render:function(e,t){return(0,d.jsxs)("div",{children:["#",t.cid]})}},{title:"状态",dataIndex:"status",key:"status",filters:[{text:"可买",value:"buy"},{text:"已售",value:"sell"},{text:"可拆分",value:"split"},{text:"可销毁",value:"burn"}],onFilter:function(e,t){return"buy"===e?t.status.includes("可买"):"sell"===e?"已售"===t.status:"split"===e?"可拆分"===t.status:"burn"!==e||t.status.includes("可销毁")},sorter:function(e,t){return e.status.localeCompare(t.status)},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.status})}},{title:"持有者",dataIndex:"owner",key:"owner",filters:s,onFilter:function(e,t){return e===t.owner},sorter:function(e,t){return e.owner.localeCompare(t.owner)},render:function(e,t){return(0,d.jsx)("a",{onClick:function(){return i("/query/account?search=".concat(t.owner,"&tab=info"))},children:t.owner})}},{title:"投入成本",dataIndex:"invest",key:"invest",sorter:function(e,t){return e.invest.localeCompare(t.invest)},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.invest})}},{title:"当前价格",dataIndex:"current_price",key:"current_price",sorter:function(e,t){return e.current_price.localeCompare(t.current_price)},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.current_price})}},{title:"卖出利润(".concat(x.toFixed(2),"%)"),dataIndex:"profit",key:"profit",sorter:function(e,t){return e.profit.localeCompare(t.profit)},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.profit})}},{title:"购买时间",dataIndex:"last_trade",key:"last_trade",sorter:function(e,t){return y()(t.last_trade).valueOf()-y()(e.last_trade).valueOf()},search:!1,render:function(e,t){var r=y().utc(t.last_trade).local().format("YYYY-MM-DDTHH:mm:ss");return(0,d.jsx)("div",{children:r})}},{title:"销毁时间",dataIndex:"last_trade",key:"last_trade",sorter:function(e,t){return y()(e.last_trade).valueOf()-y()(t.last_trade).valueOf()},search:!1,render:function(e,t){var r=y().utc(t.last_trade).add(c,"seconds").local().format("YYYY-MM-DDTHH:mm:ss");return(0,d.jsx)("div",{children:r})}},{title:"销毁倒计时",dataIndex:"last_trade",key:"last_trade",search:!1,render:function(e,t){var r=y().utc(t.last_trade).add(c,"seconds").local().valueOf();return(0,d.jsx)(f,{value:r})}}]}),[o,c,s,x]);return(0,d.jsx)("div",{className:"ppp-tab-nft",children:(0,d.jsx)(m.Z,{loading:{spinning:l,size:"large"},scroll:{x:!0},size:"small",columns:k,dataSource:o,defaultData:[],search:{defaultCollapsed:!1,layout:"horizontal",labelWidth:"auto",collapseRender:!1,className:"p-[0px]",optionRender:function(t,r,n){return[n[1],(0,d.jsx)(h.ZP,{type:"primary",onClick:function(){e.handleGetProjectNft(u)},children:g},"update"),n[0]]}},onSubmit:j,onReset:w,options:!1,tableAlertRender:!1,tableAlertOptionRender:!1,pagination:!1})})})),k=(0,n.memo)(w);y().extend(j());var I=(0,n.forwardRef)((function(e,t){var r=(0,v.useDispatch)(),i=(0,v.useNavigate)(),o=(0,v.useSelector)((function(e){return e.ppp.projectNftRank})),a=(0,v.useSelector)((function(e){return e.ppp.projectNftRankReset})),u=(0,v.useSelector)((function(e){return e.ppp.projectId})),c=(0,v.useSelector)((function(e){return e.ppp.projectAccountFilter})),s=(0,v.useSelector)((function(e){return e.ppp.projectNftLoading})),l=(0,v.useSelector)((function(e){return e.ppp.projectTotalHolder})),f=(0,v.useSelector)((function(e){return e.ppp.projectTotalInvest})),x=(0,v.useSelector)((function(e){return e.ppp.projectTotalProfit})),y=(0,v.useIntl)().formatMessage({id:"tokens.intlUpdate"}),g=(0,n.useCallback)((function(e){var t=e.owner,n=o.filter((function(e){return e.owner===t}));r(p.N.setProjectNftRank(n))}),[o]),j=(0,n.useCallback)((function(){r(p.N.setProjectNftRank(a))}),[a]),w=(0,n.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",search:!1,render:function(e,t,r){return(0,d.jsx)("span",{children:r+1})}},{title:"持有者(".concat(l,")"),dataIndex:"owner",key:"owner",filters:c,onFilter:function(e,t){return e===t.owner},sorter:function(e,t){return e.owner.localeCompare(t.owner)},render:function(e,t){return(0,d.jsx)("a",{onClick:function(){return i("/query/account?search=".concat(t.owner,"&tab=info"))},children:t.owner})}},{title:"持有数量",dataIndex:"number",key:"number",sorter:function(e,t){return e.number-t.number},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.number})}},{title:"持有占比",dataIndex:"percent",key:"percent",search:!1,render:function(e,t){return(0,d.jsxs)("div",{children:[t.percent.toFixed(2),"%"]})}},{title:"投入成本(".concat(f.toFixed(0),")"),dataIndex:"invest",key:"invest",sorter:function(e,t){return e.invest-t.invest},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.investAsset})}},{title:"卖出利润(".concat(x.toFixed(0),")"),dataIndex:"profit",key:"profit",sorter:function(e,t){return e.profit-t.profit},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.profitAsset})}}]}),[o,c,x,f,l]);return(0,d.jsx)("div",{className:"ppp-tab-rank",children:(0,d.jsx)(m.Z,{loading:{spinning:s,size:"large"},scroll:{x:!0},size:"small",columns:w,dataSource:o,defaultData:[],search:{defaultCollapsed:!1,layout:"horizontal",labelWidth:"auto",collapseRender:!1,className:"p-[0px]",optionRender:function(t,r,n){return[n[1],(0,d.jsx)(h.ZP,{type:"primary",onClick:function(){e.handleGetProjectNft(u)},children:y},"update"),n[0]]}},onSubmit:g,onReset:j,options:!1,tableAlertRender:!1,tableAlertOptionRender:!1,pagination:!1})})})),N=(0,n.memo)(I),T=r(98097);y().extend(j());var b=(0,n.forwardRef)((function(e,t){var r=(0,v.useSelector)((function(e){return e.ppp.project})),i=(0,v.useSelector)((function(e){return e.ppp.projectNftLoading})),o=((0,v.useIntl)(),(0,n.useMemo)((function(){return[{title:"创建者",dataIndex:"creator",key:"creator",render:function(e,t,r){return(0,d.jsx)("span",{children:t.creator})}},{title:"NFT流通量",dataIndex:"totalNft",key:"totalNft",render:function(e,t){return(0,d.jsx)("div",{children:t.totalNft})}},{title:"NFT初始价格",dataIndex:"initNftPrice",key:"initNftPrice",render:function(e,t){return(0,d.jsx)("div",{children:t.initNftPrice})}},{title:"分裂价格",dataIndex:"splitPrice",key:"splitPrice",render:function(e,t){return(0,d.jsx)("div",{children:t.splitPrice})}},{title:"每轮时间",dataIndex:"secPerRound",key:"secPerRound",render:function(e,t){return(0,d.jsx)("div",{children:t.secPerRound})}},{title:"NFT每轮涨幅",dataIndex:"increasePerRound",key:"increasePerRound",render:function(e,t){return(0,d.jsx)("div",{children:t.increasePerRound})}},{title:"NFT交易手续费",dataIndex:"tradeFeeRatio",key:"tradeFeeRatio",render:function(e,t){return(0,d.jsx)("div",{children:t.tradeFeeRatio})}},{title:"NFT销毁时间",dataIndex:"secToBurnNft",key:"secToBurnNft",render:function(e,t){return(0,d.jsx)("div",{children:t.secToBurnNft})}},{title:"销毁兑换",dataIndex:"tokenPerNft",key:"tokenPerNft",render:function(e,t){return(0,d.jsx)("div",{children:t.tokenPerNft})}},{title:"创建时间",dataIndex:"create_time",key:"create_time",render:function(e,t){return(0,d.jsx)("div",{children:t.create_time})}},{title:"利润率",dataIndex:"profitRate",key:"profitRate",render:function(e,t){return(0,d.jsx)("div",{children:t.profitRate})}}]}),[r]));return(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)(T.vY,{loading:i,columns:o,dataSource:r})})})),R=(0,n.memo)(b);y().extend(j());var M=(0,n.forwardRef)((function(e,t){var r=(0,v.useSelector)((function(e){return e.ppp.projectNftGrow})),i=(0,v.useSelector)((function(e){return e.ppp.projectSecPerRound})),o=(0,v.useSelector)((function(e){return e.ppp.projectNftLoading})),a=(0,n.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",render:function(e,t,r){return(0,d.jsx)("span",{children:r+1})}},{title:"轮次时间(".concat(i/3600,"小时)"),dataIndex:"time",key:"time",render:function(e,t){return(0,d.jsx)("div",{children:t.time})}},{title:"NFT数量",dataIndex:"count",key:"count",render:function(e,t){return(0,d.jsx)("div",{children:t.count})}},{title:"锁定资产",dataIndex:"asset",key:"asset",render:function(e,t){return(0,d.jsx)("div",{children:t.asset})}}]}),[i]);return(0,d.jsx)("div",{className:"ppp-tab-grow",children:(0,d.jsx)(m.Z,{loading:{spinning:o,size:"large"},scroll:{x:!0},size:"small",columns:a,dataSource:r,defaultData:[],options:!1,search:!1,tableAlertRender:!1,tableAlertOptionRender:!1,pagination:!1})})})),S=(0,n.memo)(M)},76650:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,i=536870912,o=2*i,a=function(e,t){return function(r){var a=t.get(r),u=void 0===a?r.size:a<o?a+1:0;if(!r.has(u))return e(r,u);if(r.size<i){for(;r.has(u);)u=Math.floor(Math.random()*o);return e(r,u)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(u);)u=Math.floor(Math.random()*n);return e(r,u)}},u=new WeakMap,c=r(u),s=a(c,u),d=t(s);e.addUniqueNumber=d,e.generateUniqueNumber=s}(t)},51409:function(e,t,r){"use strict";r.d(t,{cv:function(){return o},gr:function(){return a},Zi:function(){return u},iK:function(){return c}});var n=r(76650);const i=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob([t],{type:"application/javascript; charset=utf-8"}),i=URL.createObjectURL(n);return r=e(i),setTimeout((()=>URL.revokeObjectURL(i))),r}})((e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),i=new Map,o=new Worker(e);o.addEventListener("message",(({data:e})=>{if(void 0!==(n=e).method&&"call"===n.method){const{params:{timerId:n,timerType:o}}=e;if("interval"===o){const e=t.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const t=i.get(e);if(void 0===t||t.timerId!==n||t.timerType!==o)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&e()}else if("timeout"===o){const e=r.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const t=i.get(e);if(void 0===t||t.timerId!==n||t.timerType!==o)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&(e(),r.delete(n))}}else{if(!(e=>"number"==typeof e.id&&"boolean"==typeof e.result)(e)){const{error:{message:t}}=e;throw new Error(t)}{const{id:n}=e,o=i.get(n);if(void 0===o)throw new Error("The timer is in an undefined state.");const{timerId:a,timerType:u}=o;i.delete(n),"interval"===u?t.delete(a):r.delete(a)}}var n}));return{clearInterval:e=>{if("function"==typeof t.get(e)){const r=(0,n.generateUniqueNumber)(i);i.set(r,{timerId:e,timerType:"interval"}),t.set(e,r),o.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"interval"}})}},clearTimeout:e=>{if("function"==typeof r.get(e)){const t=(0,n.generateUniqueNumber)(i);i.set(t,{timerId:e,timerType:"timeout"}),r.set(e,t),o.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})}},setInterval:(e,r=0,...i)=>{const a=(0,n.generateUniqueNumber)(t);return t.set(a,(()=>{e(...i),"function"==typeof t.get(a)&&o.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}})})),o.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}}),a},setTimeout:(e,t=0,...i)=>{const a=(0,n.generateUniqueNumber)(r);return r.set(a,(()=>e(...i))),o.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"timeout"}}),a}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(({data:n})=>{try{if("clear"===n.method){const{id:e,params:{timerId:t,timerType:o}}=n;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error(\'The given type "\'.concat(o,\'" is not supported\'));postMessage({id:e,result:s(t)})}}else{if("set"!==n.method)throw new Error(\'The given method "\'.concat(n.method,\'" is not supported\'));{const{params:{delay:r,now:s,timerId:a,timerType:m}}=n;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,a,s);else{if("timeout"!==m)throw new Error(\'The given type "\'.concat(m,\'" is not supported\'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,a,s)}}}}catch(e){postMessage({error:{message:e.message},id:n.id,result:null})}}))})();'),o=e=>i().clearInterval(e),a=e=>i().clearTimeout(e),u=(...e)=>i().setInterval(...e),c=(...e)=>i().setTimeout(...e)}}]);