"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[185],{64317:function(e,t,r){var n=r(1413),s=r(91),a=r(22270),o=r(62435),c=r(66758),i=r(56499),u=r(86074),l=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],d=function(e,t){var r=e.fieldProps,m=e.children,d=e.params,p=e.proFieldProps,f=e.mode,h=e.valueEnum,x=e.request,v=e.showSearch,g=e.options,b=(0,s.Z)(e,l),y=(0,o.useContext)(c.Z);return(0,u.jsx)(i.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,a.h)(h),request:x,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:g,mode:f,showSearch:v,getPopupContainer:y.getPopupContainer},r),ref:t,proFieldProps:p},b),{},{children:m}))},p=o.forwardRef((function(e,t){var r=e.fieldProps,l=e.children,d=e.params,p=e.proFieldProps,f=e.mode,h=e.valueEnum,x=e.request,v=e.options,g=(0,s.Z)(e,m),b=(0,n.Z)({options:v,mode:f||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},r),y=(0,o.useContext)(c.Z);return(0,u.jsx)(i.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,a.h)(h),request:x,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:y.getPopupContainer},b),ref:t,proFieldProps:p},g),{},{children:l}))})),f=o.forwardRef(d);f.SearchSelect=p,f.displayName="ProFormComponent",t.Z=f},16529:function(e,t,r){r.d(t,{s:function(){return d},S:function(){return h}});var n=r(5574),s=r.n(n),a=r(59530),o=r(85265),c=r(42075),i=r(15867),u=r(62435),l=r(86074),m=u.forwardRef((function(e,t){var r=(0,a.useIntl)(),n=r.formatMessage({id:"iframe.Close"}),m=r.formatMessage({id:"iframe.Jump"}),d=e.src,p=e.title,f=(0,u.useState)(!1),h=s()(f,2),x=h[0],v=h[1];(0,u.useImperativeHandle)(t,(function(){return{setIsDrawerOpen:v}}));var g=(0,u.useCallback)((function(){v(!1)}),[]),b=(0,u.useCallback)((function(){window.open(d),v(!1)}),[d]);return(0,l.jsx)(o.Z,{title:p,placement:"bottom",closable:!1,open:x,onClose:g,styles:{body:{padding:"0px"},header:{padding:"10px"}},height:"90%",destroyOnClose:!0,extra:(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(i.ZP,{type:"primary",onClick:b,children:m}),(0,l.jsx)(i.ZP,{type:"primary",onClick:g,children:n})]}),children:(0,l.jsx)("iframe",{title:"",style:{borderWidth:"0px"},width:"100%",height:"100%",src:d})})})),d=(0,u.memo)(m),p=r(99021),f=u.forwardRef((function(e,t){var r=(0,u.useState)([]),n=s()(r,2),a=n[0],c=n[1],i=(0,u.useState)(!1),m=s()(i,2),d=m[0],f=m[1],h=(0,u.useCallback)((function(e){f(!0),c(e.split("|"))}),[]);return(0,u.useImperativeHandle)(t,(function(){return{handleOpen:h}})),(0,l.jsx)(o.Z,{placement:"bottom",closable:!0,open:d,onClose:function(){return f(!1)},styles:{body:{padding:"0px",textAlign:"center"},header:{padding:"10px"}},height:"91%",destroyOnClose:!0,children:a.map((function(e,t){return(0,l.jsx)(p.Z,{src:e,preview:!1},t)}))})})),h=(0,u.memo)(f)},34349:function(e,t,r){r.r(t),r.d(t,{default:function(){return te}});var n=r(15009),s=r.n(n),a=r(99289),o=r.n(a),c=r(5574),i=r.n(c),u=r(90058),l=r.p+"static/jiu1.0e98bf07.jpg",m=r.p+"static/jiu2.bd28813e.jpg",d=r.p+"static/jiu3.503ae7ce.jpg",p=r.p+"static/jiu4.a17ecd68.jpg",f=r(16529),h=r(64119),x=r(37476),v=r(64317),g=r(5966),b=r(59530),y=r(80507),j=r(45360),k=r(62435),C=r(86074),S=k.forwardRef((function(e,t){var r=j.ZP.useMessage(),n=i()(r,2),a=n[0],c=n[1],u=(0,b.useSelector)((function(e){return e.jiu.activeKey})),l=(0,b.useSelector)((function(e){return e.global.session})),m=(0,b.useSelector)((function(e){return e.global.account})),d=(0,b.useSelector)((function(e){return e.global.contractKit})),p=(0,k.useRef)(),f=(0,k.useState)(!1),S=i()(f,2),w=S[0],P=S[1],Z=(0,b.useIntl)(),N=Z.formatMessage({id:"common.intlInputException"}),I=(Z.formatMessage({id:"common.intlPleaseConnectWallet"}),Z.formatMessage({id:"common.intlPleaseConnectNetwork"})),F=Z.formatMessage({id:"common.intlTxSuccess"}),O=Z.formatMessage({id:"common.intlTxFail"}),R=Z.formatMessage({id:"jiu.intlQuantityMustGreater1"}),M=Z.formatMessage({id:"jiu.intlFinished"}),q=(0,k.useCallback)((function(){P(!0)}),[]);(0,k.useImperativeHandle)(t,(function(){return{handleOpen:q}}));var D=(0,k.useCallback)((function(e){return"scheme1"===e?"方案1":"scheme2"===e?"方案2":"scheme3"===e?"方案3":"scheme4"===e?"方案4":"scheme5"===e?"方案5":"scheme6"===e?"方案6":void 0}),[]),U=(0,k.useCallback)(function(){var e=o()(s()().mark((function e(t){var r,n,o,c,u,p,f,x,v,g;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.info("".concat(M)),e.abrupt("return",!0);case 8:if(m){e.next=11;break}return a.error("".concat(I)),e.abrupt("return",!1);case 11:if(!(Number(t.quantity)<1)){e.next=14;break}return a.error("".concat(R)),e.abrupt("return",!1);case 14:return e.next=16,d.load("loglogloglog");case 16:return r=e.sent,n=r.table("liqs"),e.next=20,n.all({scope:m.accountName});case 20:if(o=e.sent,c=o.find((function(e){return 24===e.mid.toNumber()}))){e.next=27;break}return a.error("JIU/DFS矿池做市至少1DFS"),e.abrupt("return",!1);case 27:if(!(c.bal0.value<1)){e.next=30;break}return a.error("JIU/DFS矿池做市至少1DFS"),e.abrupt("return",!1);case 30:return u=y.xR.from(Number(t.quantity),y.xR.Symbol.fromParts("JIU",4)),p={action:{account:"jiutokenmain",name:"transfer",authorization:[l.permissionLevel],data:{from:l.actor,to:"jiutothemoon",quantity:u.toString(),memo:D(t.scheme)}}},e.next=34,(0,h.zI)(l.transact(p));case 34:return f=e.sent,x=i()(f,2),v=x[0],g=x[1],v?a.error(v):g&&g.response?a.success("".concat(F)):a.error("".concat(O)),e.abrupt("return",!0);case 42:e.prev=42,e.t0=e.catch(2),console.log(e.t0.message),a.error(e.t0.message);case 46:case"end":return e.stop()}}),e,null,[[2,42]])})));return function(t){return e.apply(this,arguments)}}(),[l,m,d]);return(0,C.jsxs)(x.Y,{formRef:p,title:"活动"+u,open:w,onFinish:U,onOpenChange:function(e){P(e)},layout:"vertical",width:"400px",children:[(0,C.jsx)(v.Z,{name:"scheme",label:(0,C.jsx)("span",{className:" font-semibold",children:"选择方案"}),placeholder:"",fieldProps:{autoFocus:!1,size:"large"},rules:[{required:!0,whitespace:!0,message:"".concat(N),pattern:/^.+$/}],valueEnum:{scheme1:"方案1",scheme2:"方案2",scheme3:"方案3",scheme4:"方案4",scheme5:"方案5",scheme6:"方案6"}}),(0,C.jsx)(g.Z,{name:"quantity",label:(0,C.jsx)("span",{className:" font-semibold",children:"发送JIU数量(至少 1 JIU)"}),placeholder:"ex: 1",fieldProps:{autoFocus:!1,size:"large"},rules:[{required:!0,whitespace:!0,message:"".concat(N),pattern:/^\d+(\.\d+)?$/}]}),c]})})),w=(0,k.memo)(S),P=r(35132),Z=r(15867),N=r(27484),I=r.n(N),F=r(70178),O=r.n(F);I().extend(O());var R=function(){var e=(0,k.useRef)(),t="NO.1：JIU全新LOGO创作方向投票",r=(0,k.useRef)();return(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(P.Z.Title,{level:3,className:"text-center",children:t}),(0,C.jsx)("div",{className:"text-center mt-8",children:(0,C.jsx)("a",{className:" font-bold text-xl",onClick:function(){return e.current.setIsDrawerOpen(!0)},children:"活动详情"})}),(0,C.jsx)("div",{className:"mt-14",children:(0,C.jsx)(Z.ZP,{type:"primary",size:"large",block:!0,onClick:function(){return r.current.handleOpen()},children:"立即参与"})}),(0,C.jsx)(w,{ref:r}),(0,C.jsx)(f.s,{ref:e,src:"https://docs.qq.com/doc/DWnFyUHJsa2l4YlRD",title:t})]})},M=(0,k.memo)(R),q=k.forwardRef((function(e,t){var r=j.ZP.useMessage(),n=i()(r,2),a=n[0],c=n[1],u=(0,b.useSelector)((function(e){return e.jiu.activeKey})),l=(0,b.useSelector)((function(e){return e.global.session})),m=(0,b.useSelector)((function(e){return e.global.account})),d=(0,b.useSelector)((function(e){return e.global.contractKit})),p=(0,k.useRef)(),f=(0,k.useState)(!1),S=i()(f,2),w=S[0],P=S[1],Z=(0,b.useIntl)(),N=Z.formatMessage({id:"common.intlInputException"}),I=Z.formatMessage({id:"common.intlPleaseConnectWallet"}),F=Z.formatMessage({id:"common.intlPleaseConnectNetwork"}),O=Z.formatMessage({id:"common.intlTxSuccess"}),R=Z.formatMessage({id:"common.intlTxFail"}),M=Z.formatMessage({id:"jiu.intlQuantityMustGreater1"}),q=(0,k.useCallback)((function(){P(!0)}),[]);(0,k.useImperativeHandle)(t,(function(){return{handleOpen:q}}));var D=(0,k.useCallback)((function(e){return"scheme1"===e?"1":"scheme2"===e?"2":"scheme3"===e?"3":void 0}),[]),U=(0,k.useCallback)(function(){var e=o()(s()().mark((function e(t){var r,n,o,c,u,p,f,x,v,g;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l&&l.broadcast){e.next=6;break}return a.error("".concat(I)),e.abrupt("return",!1);case 6:if(m){e.next=9;break}return a.error("".concat(F)),e.abrupt("return",!1);case 9:if(!(Number(t.quantity)<1)){e.next=12;break}return a.error("".concat(M)),e.abrupt("return",!1);case 12:return e.next=14,d.load("loglogloglog");case 14:return r=e.sent,n=r.table("liqs"),e.next=18,n.all({scope:m.accountName});case 18:if(o=e.sent,c=o.find((function(e){return 24===e.mid.toNumber()}))){e.next=25;break}return a.error("JIU/DFS矿池做市至少1DFS"),e.abrupt("return",!1);case 25:if(!(c.bal0.value<1)){e.next=28;break}return a.error("JIU/DFS矿池做市至少1DFS"),e.abrupt("return",!1);case 28:return u=y.xR.from(Number(t.quantity),y.xR.Symbol.fromParts("JIU",4)),p={action:{account:"jiutokenmain",name:"transfer",authorization:[l.permissionLevel],data:{from:l.actor,to:"jiutothemoon",quantity:u.toString(),memo:D(t.scheme)}}},e.next=32,(0,h.zI)(l.transact(p));case 32:return f=e.sent,x=i()(f,2),v=x[0],g=x[1],v?a.error(v):g&&g.response?a.success("".concat(O)):a.error("".concat(R)),e.abrupt("return",!0);case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0.message),a.error(e.t0.message);case 44:case"end":return e.stop()}}),e,null,[[0,40]])})));return function(t){return e.apply(this,arguments)}}(),[l,m,d]);return(0,C.jsxs)(x.Y,{formRef:p,title:"活动"+u,open:w,onFinish:U,onOpenChange:function(e){P(e)},layout:"vertical",width:"400px",children:[(0,C.jsx)(v.Z,{name:"scheme",label:(0,C.jsx)("span",{className:" font-semibold",children:"选择方案"}),placeholder:"",fieldProps:{autoFocus:!1,size:"large"},rules:[{required:!0,whitespace:!0,message:"".concat(N),pattern:/^.+$/}],valueEnum:{scheme1:"方案1",scheme2:"方案2",scheme3:"方案3"}}),(0,C.jsx)(g.Z,{name:"quantity",label:(0,C.jsx)("span",{className:" font-semibold",children:"发送JIU数量(至少 1 JIU)"}),placeholder:"ex: 1",fieldProps:{autoFocus:!1,size:"large"},rules:[{required:!0,whitespace:!0,message:"".concat(N),pattern:/^\d+(\.\d+)?$/}]}),c]})})),D=(0,k.memo)(q);I().extend(O());var U=function(){var e=(0,k.useRef)(),t="NO.2：JIU常用LOGO投票",r=(0,k.useRef)();return(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(P.Z.Title,{level:3,className:"text-center",children:t}),(0,C.jsx)("div",{className:"text-center mt-8",children:(0,C.jsx)("a",{className:" font-bold text-xl",onClick:function(){return e.current.setIsDrawerOpen(!0)},children:"活动详情"})}),(0,C.jsx)("div",{className:"mt-14",children:(0,C.jsx)(Z.ZP,{type:"primary",size:"large",block:!0,onClick:function(){return r.current.handleOpen()},children:"立即参与"})}),(0,C.jsx)(D,{ref:r}),(0,C.jsx)(f.s,{ref:e,src:"https://docs.qq.com/doc/DWkNvdURZVUFMWnFW",title:t})]})},z=(0,k.memo)(U),E=r(87462),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},T=r(84089),L=function(e,t){return k.createElement(T.Z,(0,E.Z)({},e,{ref:t,icon:J}))};var K=k.forwardRef(L),W=r(22181),A=function(){return(0,C.jsx)("div",{className:"",children:(0,C.jsx)(W.ZP,{icon:(0,C.jsx)(K,{}),title:"敬请期待"})})},H=(0,k.memo)(A),B=r(81876),G=r(11774),$=r(21612),V=r(9361),Y=r(28459),Q=r(91978),_=r(68508),X=$.Z.Header,ee=$.Z.Content,te=function(){var e=(0,b.useSearchParams)(),t=i()(e,2),r=t[0],n=t[1],a=(0,b.useDispatch)(),c=(0,b.useSelector)((function(e){return e.global.contractKit})),f=(0,b.useSelector)((function(e){return e.jiu.activeKey})),h=V.Z.useToken().token,x=h.colorBgContainer,v=h.borderRadiusLG,g=(0,k.useCallback)(function(){var e=o()(s()().mark((function e(t){var r,n,o,c,i,u;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load("swapswapswap");case 2:return r=e.sent,n=r.table("markets"),e.next=6,n.all();case 6:o=e.sent,"usdtusdtusdt-USDT",i="eosio.token-DFS",u=[],(c={})["usdtusdtusdt-USDT"]=1,c[i]=o[0].reserve0.value/o[0].reserve1.value,o.forEach((function(e){var t=e.contract0.toString()+"-"+e.sym0.toString().split(",")[1],r=e.contract1.toString()+"-"+e.sym1.toString().split(",")[1];"eosio.token"===e.contract0.toString()?c.hasOwnProperty(r)||(c[r]=e.reserve0.value/e.reserve1.value*c[i]):"eosio.token"===e.contract1.toString()?c.hasOwnProperty(t)||(c[t]=e.reserve1.value/e.reserve0.value*c[i]):"usdtusdtusdt"===e.contract0.toString()?c.hasOwnProperty(r)||(c[r]=e.reserve0.value/e.reserve1.value):"usdtusdtusdt"===e.contract1.toString()?c.hasOwnProperty(t)||(c[t]=e.reserve1.value/e.reserve0.value):u.push({key0:t,key1:r,value0:e.reserve0.value,value1:e.reserve1.value})})),u.forEach((function(e){c.hasOwnProperty(e.key0)&&!c.hasOwnProperty(e.key1)?c[e.key1]=e.value0/e.value1*c[e.key0]:!c.hasOwnProperty(e.key0)&&c.hasOwnProperty(e.key1)?c[e.key0]=e.value1/e.value0*c[e.key1]:c.hasOwnProperty(e.key0)||c.hasOwnProperty(e.key1)||(c[e.key0]=0,c[e.key1]=0)})),a(B.N.setTokenPriceMap(c));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),y=(0,k.useCallback)((function(e){a(B.N.setActiveKey(e.key))}),[]),j=(0,k.useCallback)((function(){return"1"===f?(0,C.jsx)(M,{}):"2"===f?(0,C.jsx)(z,{}):"3"===f?(0,C.jsx)(H,{}):void 0}),[f]),S=(0,k.useCallback)((function(e){var t={};t.tab=e||f,n(t)}),[f]);return(0,k.useEffect)((function(){c&&g(c)}),[g,c]),(0,k.useEffect)((function(){var e=r.get("tab");e&&a(B.N.setActiveKey(e)),S(e)}),[]),(0,k.useEffect)((function(){S(f)}),[f,S]),(0,C.jsx)(G._z,{className:"activity",ghost:!0,children:(0,C.jsx)(Y.ZP,{theme:{components:{Layout:{headerBg:"#ffffff",headerPadding:"0 15px"}}},children:(0,C.jsxs)($.Z,{style:{maxWidth:"450px",marginLeft:"auto",marginRight:"auto"},children:[(0,C.jsxs)(Q.Z,{autoplay:!0,children:[(0,C.jsx)("img",{src:l}),(0,C.jsx)("img",{src:m}),(0,C.jsx)("img",{src:d}),(0,C.jsx)("img",{src:p})]}),(0,C.jsxs)(X,{style:{display:"flex",alignItems:"center",marginBottom:"0px",borderBottomLeftRadius:v,borderBottomRightRadius:v},children:[(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("img",{src:u,width:"40",className:"mr-3"}),(0,C.jsx)("span",{className:" font-bold text-lg",children:"JIU"})]}),(0,C.jsx)(_.Z,{theme:"light",mode:"horizontal",selectedKeys:[f],items:[{key:"1",label:"活动1"},{key:"2",label:"活动2"},{key:"3",label:"活动3"}],style:{flex:1,minWidth:0,display:"flex",justifyContent:"center"},onClick:y})]}),(0,C.jsx)(ee,{children:(0,C.jsx)("div",{style:{background:x,padding:0,borderRadius:v},children:(0,C.jsx)("div",{className:"mt-2 p-3",children:j()})})})]})})})}}}]);