"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[185],{64317:function(e,t,r){var n=r(1413),s=r(91),a=r(22270),o=r(62435),i=r(66758),c=r(56499),u=r(86074),l=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],m=function(e,t){var r=e.fieldProps,d=e.children,m=e.params,p=e.proFieldProps,f=e.mode,h=e.valueEnum,v=e.request,x=e.showSearch,g=e.options,y=(0,s.Z)(e,l),b=(0,o.useContext)(i.Z);return(0,u.jsx)(c.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,a.h)(h),request:v,params:m,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:g,mode:f,showSearch:x,getPopupContainer:b.getPopupContainer},r),ref:t,proFieldProps:p},y),{},{children:d}))},p=o.forwardRef((function(e,t){var r=e.fieldProps,l=e.children,m=e.params,p=e.proFieldProps,f=e.mode,h=e.valueEnum,v=e.request,x=e.options,g=(0,s.Z)(e,d),y=(0,n.Z)({options:x,mode:f||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},r),b=(0,o.useContext)(i.Z);return(0,u.jsx)(c.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,a.h)(h),request:v,params:m,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:b.getPopupContainer},y),ref:t,proFieldProps:p},g),{},{children:l}))})),f=o.forwardRef(m);f.SearchSelect=p,f.displayName="ProFormComponent",t.Z=f},16529:function(e,t,r){r.d(t,{s:function(){return m},S:function(){return h}});var n=r(5574),s=r.n(n),a=r(59530),o=r(85265),i=r(42075),c=r(15867),u=r(62435),l=r(86074),d=u.forwardRef((function(e,t){var r=(0,a.useIntl)(),n=r.formatMessage({id:"iframe.Close"}),d=r.formatMessage({id:"iframe.Jump"}),m=e.src,p=e.title,f=(0,u.useState)(!1),h=s()(f,2),v=h[0],x=h[1];(0,u.useImperativeHandle)(t,(function(){return{setIsDrawerOpen:x}}));var g=(0,u.useCallback)((function(){x(!1)}),[]),y=(0,u.useCallback)((function(){window.open(m),x(!1)}),[m]);return(0,l.jsx)(o.Z,{title:p,placement:"bottom",closable:!1,open:v,onClose:g,styles:{body:{padding:"0px"},header:{padding:"10px"}},height:"90%",destroyOnClose:!0,extra:(0,l.jsxs)(i.Z,{children:[(0,l.jsx)(c.ZP,{type:"primary",onClick:y,children:d}),(0,l.jsx)(c.ZP,{type:"primary",onClick:g,children:n})]}),children:(0,l.jsx)("iframe",{title:"",style:{borderWidth:"0px"},width:"100%",height:"100%",src:m})})})),m=(0,u.memo)(d),p=r(99021),f=u.forwardRef((function(e,t){var r=(0,u.useState)([]),n=s()(r,2),a=n[0],i=n[1],c=(0,u.useState)(!1),d=s()(c,2),m=d[0],f=d[1],h=(0,u.useCallback)((function(e){f(!0),i(e.split("|"))}),[]);return(0,u.useImperativeHandle)(t,(function(){return{handleOpen:h}})),(0,l.jsx)(o.Z,{placement:"bottom",closable:!0,open:m,onClose:function(){return f(!1)},styles:{body:{padding:"0px",textAlign:"center"},header:{padding:"10px"}},height:"91%",destroyOnClose:!0,children:a.map((function(e,t){return(0,l.jsx)(p.Z,{src:e,preview:!1},t)}))})})),h=(0,u.memo)(f)},85347:function(e,t,r){r.r(t),r.d(t,{default:function(){return Q}});var n=r(15009),s=r.n(n),a=r(99289),o=r.n(a),i=r(5574),c=r.n(i),u=r(90058),l=r.p+"static/jiu1.0e98bf07.jpg",d=r.p+"static/jiu2.bd28813e.jpg",m=r.p+"static/jiu3.503ae7ce.jpg",p=r.p+"static/jiu4.a17ecd68.jpg",f=r(16529),h=r(35132),v=r(15867),x=r(62435),g=r(27484),y=r.n(g),b=r(70178),j=r.n(b),k=r(86074);y().extend(j());var C=function(){var e=(0,x.useRef)(),t="JIU全新LOGO创作方向投票",r=(0,x.useRef)();return(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)(h.Z.Title,{level:3,className:"text-center",children:t}),(0,k.jsx)("div",{className:"text-center mt-8",children:(0,k.jsx)("a",{className:" font-bold text-xl",onClick:function(){return e.current.setIsDrawerOpen(!0)},children:"活动详情"})}),(0,k.jsx)("div",{className:"mt-14",children:(0,k.jsx)(v.ZP,{type:"primary",size:"large",block:!0,onClick:function(){return r.current.handleOpen()},children:"立即参与"})}),(0,k.jsx)(T,{ref:r}),(0,k.jsx)(f.s,{ref:e,src:"https://docs.qq.com/doc/DWnFyUHJsa2l4YlRD",title:t})]})},P=(0,x.memo)(C),w=r(64119),S=r(59530),Z=r(87462),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},O=r(84089),I=function(e,t){return x.createElement(O.Z,(0,Z.Z)({},e,{ref:t,icon:N}))};var R=x.forwardRef(I),F=r(22181),M=function(){return(0,k.jsx)("div",{className:"",children:(0,k.jsx)(F.ZP,{icon:(0,k.jsx)(R,{}),title:"敬请期待"})})},q=(0,x.memo)(M),E=r(37476),z=r(64317),D=r(5966),U=r(80507),J=r(45360),L=x.forwardRef((function(e,t){var r=J.ZP.useMessage(),n=c()(r,2),a=n[0],i=n[1],u=(0,S.useSelector)((function(e){return e.jiu.activeKey})),l=(0,S.useSelector)((function(e){return e.global.session})),d=(0,S.useSelector)((function(e){return e.global.account})),m=(0,S.useSelector)((function(e){return e.global.contractKit})),p=(0,x.useRef)(),f=(0,x.useState)(!1),h=c()(f,2),v=h[0],g=h[1],y=(0,S.useIntl)(),b=y.formatMessage({id:"common.intlInputException"}),j=(y.formatMessage({id:"common.intlPleaseConnectWallet"}),y.formatMessage({id:"common.intlPleaseConnectNetwork"})),C=y.formatMessage({id:"common.intlTxSuccess"}),P=y.formatMessage({id:"common.intlTxFail"}),Z=y.formatMessage({id:"jiu.intlQuantityMustGreater1"}),N=y.formatMessage({id:"jiu.intlFinished"}),O=(0,x.useCallback)((function(){g(!0)}),[]);(0,x.useImperativeHandle)(t,(function(){return{handleOpen:O}}));var I=(0,x.useCallback)((function(e){return"scheme1"===e?"方案1":"scheme2"===e?"方案2":"scheme3"===e?"方案3":"scheme4"===e?"方案4":"scheme5"===e?"方案5":"scheme6"===e?"方案6":void 0}),[]),R=(0,x.useCallback)(function(){var e=o()(s()().mark((function e(t){var r,n,o,i,u,p,f,h,v,x;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.info("".concat(N)),e.abrupt("return",!0);case 8:if(d){e.next=11;break}return a.error("".concat(j)),e.abrupt("return",!1);case 11:if(!(Number(t.quantity)<1)){e.next=14;break}return a.error("".concat(Z)),e.abrupt("return",!1);case 14:return e.next=16,m.load("loglogloglog");case 16:return r=e.sent,n=r.table("liqs"),e.next=20,n.all({scope:d.accountName});case 20:if(o=e.sent,i=o.find((function(e){return 24===e.mid.toNumber()}))){e.next=27;break}return a.error("JIU/DFS矿池做市至少1DFS"),e.abrupt("return",!1);case 27:if(!(i.bal0.value<1)){e.next=30;break}return a.error("JIU/DFS矿池做市至少1DFS"),e.abrupt("return",!1);case 30:return u=U.xR.from(Number(t.quantity),U.xR.Symbol.fromParts("JIU",4)),p={action:{account:"jiutokenmain",name:"transfer",authorization:[l.permissionLevel],data:{from:l.actor,to:"jiutothemoon",quantity:u.toString(),memo:I(t.scheme)}}},e.next=34,(0,w.zI)(l.transact(p));case 34:return f=e.sent,h=c()(f,2),v=h[0],x=h[1],v?a.error(v):x&&x.response?a.success("".concat(C)):a.error("".concat(P)),e.abrupt("return",!0);case 42:e.prev=42,e.t0=e.catch(2),console.log(e.t0.message),a.error(e.t0.message);case 46:case"end":return e.stop()}}),e,null,[[2,42]])})));return function(t){return e.apply(this,arguments)}}(),[l,d,m]);return(0,k.jsxs)(E.Y,{formRef:p,title:"活动"+u,open:v,onFinish:R,onOpenChange:function(e){g(e)},layout:"vertical",width:"400px",children:[(0,k.jsx)(z.Z,{name:"scheme",label:(0,k.jsx)("span",{className:" font-semibold",children:"选择方案"}),placeholder:"",fieldProps:{autoFocus:!1,size:"large"},rules:[{required:!0,whitespace:!0,message:"".concat(b),pattern:/^.+$/}],valueEnum:{scheme1:"方案1",scheme2:"方案2",scheme3:"方案3",scheme4:"方案4",scheme5:"方案5",scheme6:"方案6"}}),(0,k.jsx)(D.Z,{name:"quantity",label:(0,k.jsx)("span",{className:" font-semibold",children:"发送JIU数量(至少 1 JIU)"}),placeholder:"ex: 1",fieldProps:{autoFocus:!1,size:"large"},rules:[{required:!0,whitespace:!0,message:"".concat(b),pattern:/^\d+(\.\d+)?$/}]}),i]})})),T=(0,x.memo)(L),A=r(81876),K=r(11774),B=r(21612),H=r(9361),W=r(28459),G=r(91978),V=r(68508),Y=B.Z.Header,$=B.Z.Content,Q=function(){var e=(0,S.useSearchParams)(),t=c()(e,2),r=t[0],n=t[1],a=(0,S.useDispatch)(),i=(0,S.useSelector)((function(e){return e.global.contractKit})),f=(0,S.useSelector)((function(e){return e.jiu.activeKey})),h=H.Z.useToken().token,v=h.colorBgContainer,g=h.borderRadiusLG,y=(0,x.useCallback)(function(){var e=o()(s()().mark((function e(t){var r,n,o,i,c,u;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load("swapswapswap");case 2:return r=e.sent,n=r.table("markets"),e.next=6,n.all();case 6:o=e.sent,"usdtusdtusdt-USDT",c="eosio.token-DFS",u=[],(i={})["usdtusdtusdt-USDT"]=1,i[c]=o[0].reserve0.value/o[0].reserve1.value,o.forEach((function(e){var t=e.contract0.toString()+"-"+e.sym0.toString().split(",")[1],r=e.contract1.toString()+"-"+e.sym1.toString().split(",")[1];"eosio.token"===e.contract0.toString()?i.hasOwnProperty(r)||(i[r]=e.reserve0.value/e.reserve1.value*i[c]):"eosio.token"===e.contract1.toString()?i.hasOwnProperty(t)||(i[t]=e.reserve1.value/e.reserve0.value*i[c]):"usdtusdtusdt"===e.contract0.toString()?i.hasOwnProperty(r)||(i[r]=e.reserve0.value/e.reserve1.value):"usdtusdtusdt"===e.contract1.toString()?i.hasOwnProperty(t)||(i[t]=e.reserve1.value/e.reserve0.value):u.push({key0:t,key1:r,value0:e.reserve0.value,value1:e.reserve1.value})})),u.forEach((function(e){i.hasOwnProperty(e.key0)&&!i.hasOwnProperty(e.key1)?i[e.key1]=e.value0/e.value1*i[e.key0]:!i.hasOwnProperty(e.key0)&&i.hasOwnProperty(e.key1)?i[e.key0]=e.value1/e.value0*i[e.key1]:i.hasOwnProperty(e.key0)||i.hasOwnProperty(e.key1)||(i[e.key0]=0,i[e.key1]=0)})),a(A.N.setTokenPriceMap(i));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),b=(0,x.useCallback)((function(e){a(A.N.setActiveKey(e.key))}),[]),j=(0,x.useCallback)((function(){return"1"===f?(0,k.jsx)(P,{}):"2"===f||"3"===f?(0,k.jsx)(q,{}):void 0}),[f]),C=(0,x.useCallback)((function(e){var t={};t.tab=e||f,n(t)}),[f]);return(0,x.useEffect)((function(){i&&y(i)}),[y,i]),(0,x.useEffect)((function(){var e=r.get("tab");e&&a(A.N.setActiveKey(e)),C(e)}),[]),(0,x.useEffect)((function(){C(f)}),[f,C]),(0,k.jsx)(K._z,{className:"activity",ghost:!0,children:(0,k.jsx)(W.ZP,{theme:{components:{Layout:{headerBg:"#ffffff",headerPadding:"0 15px"}}},children:(0,k.jsxs)(B.Z,{style:{maxWidth:"450px",marginLeft:"auto",marginRight:"auto"},children:[(0,k.jsxs)(G.Z,{autoplay:!0,children:[(0,k.jsx)("img",{src:l}),(0,k.jsx)("img",{src:d}),(0,k.jsx)("img",{src:m}),(0,k.jsx)("img",{src:p})]}),(0,k.jsxs)(Y,{style:{display:"flex",alignItems:"center",marginBottom:"0px",borderBottomLeftRadius:g,borderBottomRightRadius:g},children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("img",{src:u,width:"40",className:"mr-3"}),(0,k.jsx)("span",{className:" font-bold text-lg",children:"JIU"})]}),(0,k.jsx)(V.Z,{theme:"light",mode:"horizontal",selectedKeys:[f],items:[{key:"1",label:"活动1"},{key:"2",label:"活动2"},{key:"3",label:"活动3"}],style:{flex:1,minWidth:0,display:"flex",justifyContent:"center"},onClick:b})]}),(0,k.jsx)($,{children:(0,k.jsx)("div",{style:{background:v,padding:0,borderRadius:g},children:(0,k.jsx)("div",{className:"mt-2 p-3",children:j()})})})]})})})}}}]);