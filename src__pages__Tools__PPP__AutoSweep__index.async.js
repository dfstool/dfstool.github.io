"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[265],{98165:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(87462),a=r(62435),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},o=r(84089),c=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var i=a.forwardRef(c)},64317:function(e,t,r){var n=r(1413),a=r(91),s=r(22270),o=r(62435),c=r(66758),i=r(56499),l=r(86074),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(e,t){var r=e.fieldProps,d=e.children,p=e.params,f=e.proFieldProps,m=e.mode,h=e.valueEnum,x=e.request,v=e.showSearch,b=e.options,g=(0,a.Z)(e,u),j=(0,o.useContext)(c.Z);return(0,l.jsx)(i.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(h),request:x,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:b,mode:m,showSearch:v,getPopupContainer:j.getPopupContainer},r),ref:t,proFieldProps:f},g),{},{children:d}))},f=o.forwardRef((function(e,t){var r=e.fieldProps,u=e.children,p=e.params,f=e.proFieldProps,m=e.mode,h=e.valueEnum,x=e.request,v=e.options,b=(0,a.Z)(e,d),g=(0,n.Z)({options:v,mode:m||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},r),j=(0,o.useContext)(c.Z);return(0,l.jsx)(i.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(h),request:x,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:j.getPopupContainer},g),ref:t,proFieldProps:f},b),{},{children:u}))})),m=o.forwardRef(p);m.SearchSelect=f,m.displayName="ProFormComponent",t.Z=m},30324:function(e,t,r){r.r(t);var n=r(19632),a=r.n(n),s=r(97857),o=r.n(s),c=r(15009),i=r.n(c),l=r(99289),u=r.n(l),d=r(5574),p=r.n(d),f=r(40956),m=r(64119),h=r(87603),x=r(25035),v=r(98165),b=r(11774),g=r(38345),j=r(97269),k=r(64317),S=r(31199),Z=r(52688),N=r(5966),y=r(59530),w=r(80507),C=r(45360),F=r(83062),A=r(7134),P=r(55054),_=r(66309),T=r(15867),M=r(9669),E=r.n(M),V=r(27484),D=r.n(V),L=r(70178),Y=r.n(L),q=r(62435),z=r(86074);D().extend(Y());var R=[];t.default=function(){var e=(0,y.useDispatch)(),t=C.ZP.useMessage(),r=p()(t,2),n=r[0],s=r[1],c=(0,y.useSelector)((function(e){return e.global.contractKit})),l=(0,y.useSelector)((function(e){return e.global.account})),d=(0,y.useSelector)((function(e){return e.global.session})),M=(0,y.useSelector)((function(e){return e.global.privateKey})),V=(0,y.useSelector)((function(e){return e.ppp.valueEnum})),L=(0,y.useSelector)((function(e){return e.ppp.projects})),Y=(0,y.useSelector)((function(e){return e.ppp.stats})),O=(0,y.useSelector)((function(e){return e.ppp.vipAccounts})),I=(0,y.useSelector)((function(e){return e.ppp.accessAccounts})),H=(0,q.useState)(0),$=p()(H,2),U=$[0],W=$[1],J=(0,q.useState)(0),K=p()(J,2),B=K[0],Q=K[1],G=(0,q.useState)(0),X=p()(G,2),ee=X[0],te=X[1],re=(0,q.useState)(0),ne=p()(re,2),ae=ne[0],se=ne[1],oe=(0,q.useState)(0),ce=p()(oe,2),ie=ce[0],le=ce[1],ue=(0,q.useState)([]),de=p()(ue,2),pe=de[0],fe=de[1],me=(0,q.useState)(""),he=p()(me,2),xe=he[0],ve=he[1],be=(0,q.useState)(0),ge=p()(be,2)[1],je=(0,q.useState)(0),ke=p()(je,2),Se=ke[0],Ze=ke[1],Ne=(0,q.useState)(!1),ye=p()(Ne,2),we=ye[0],Ce=ye[1],Fe=(0,q.useState)({}),Ae=p()(Fe,2),Pe=Ae[0],_e=Ae[1],Te=(0,q.useState)({}),Me=p()(Te,2),Ee=Me[0],Ve=Me[1],De=(0,q.useState)(!1),Le=p()(De,2),Ye=Le[0],qe=Le[1],ze=(0,q.useState)(!1),Re=p()(ze,2),Oe=Re[0],Ie=Re[1],He=(0,q.useState)(!1),$e=p()(He,2),Ue=$e[0],We=$e[1],Je=(0,q.useState)(!1),Ke=p()(Je,2),Be=Ke[0],Qe=Ke[1],Ge=(0,y.useIntl)(),Xe=Ge.formatMessage({id:"coffee.inputException"}),et=Ge.formatMessage({id:"msig.intlTransactionEmpty"}),tt=Ge.formatMessage({id:"common.intlPleaseConnectWallet"}),rt=Ge.formatMessage({id:"common.intlPleaseConnectNetwork"}),nt=(0,q.useRef)([]),at=(0,q.useRef)(!1),st=(0,q.useRef)({}),ot=(0,q.useRef)(),ct=(0,q.useRef)(),it=(0,q.useRef)(0),lt=(0,q.useCallback)((function(){var e=0,t=0,r=0,n=0;for(var a in st.current)"success"===st.current[a]?t+=1:"error"===st.current[a]?r+=1:"processing"===st.current[a]?n+=1:"default"===st.current[a]&&(e+=1);W(t),Q(r),te(n),se(e)}),[]),ut=(0,q.useCallback)((function(e,t){var r=D()(e).add(t,"seconds").valueOf();Ze(r)}),[]),dt=(0,q.useCallback)(function(){var e=u()(i()().mark((function e(t){var r;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],t.forEach((function(e){if("success"!==st.current[e.cid]&&"processing"!==st.current[e.cid]){var t=new Promise((function(t){st.current[e.cid]="processing",lt(),d.client.v1.chain.push_transaction(e.signedTransaction).then((function(r){r&&r.processed&&"executed"===r.processed.receipt.status?(st.current[e.cid]="success",lt(),t(!0)):("success"!==st.current[e.cid]&&(st.current[e.cid]="error",R.push({cid:e.cid,error:JSON.stringify(r),pos:"then"}),console.log(r),lt()),t(!1))})).catch((function(r){"success"!==st.current[e.cid]&&(st.current[e.cid]="error",lt(),R.push({cid:e.cid,error:JSON.stringify(r),pos:"catch"}),console.log(r)),t(!1)}))}));r.push(t)}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,lt]),pt=(0,q.useCallback)(function(){var e=u()(i()().mark((function e(t){var r,a,s,o,u,p,f,h,x,v,b,g,j,k,S,Z,N,y,w,C,F,A,P,_,T,M;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d&&d.broadcast){e.next=6;break}return n.error("".concat(tt)),e.abrupt("return");case 6:if(l){e.next=9;break}return n.error("".concat(rt)),e.abrupt("return");case 9:if("owner"===(a=d.permissionLevel.permission.toString())||"active"===a){e.next=13;break}return n.error("permission权限必须是owner或者active"),e.abrupt("return");case 13:return Ie(!0),s=t.pidAuto,o=t.countAuto,u=t.disorderAuto,p=t.startAuto,f=t.endAuto,h=Number(s.split("-")[1]),x=d.actor.toString(),e.next=19,c.load("dfs3protocol");case 19:return v=e.sent,b=v.table("registry"),e.next=23,b.all({scope:"dfs3protocol",from:h,to:h,index_position:"secondary",key_type:"i64"});case 23:if(g=e.sent,j=L.filter((function(e){return e.id.toNumber()===h})),k=j[0].init_nft_price.value,S=j[0].init_nft_price.symbol.name,Z=j[0].sec_per_round.toNumber(),N=j[0].last_round.toString(),N=D().utc(N).local().format("YYYY-MM-DDTHH:mm:ss"),y=D()(N).add(Z,"seconds").format("YYYY-MM-DDTHH:mm:ss"),"DFS"===S||"USDT"===S||"ORDI"===S){e.next=35;break}return n.error("不支持当前项目"),Ie(!1),e.abrupt("return");case 35:if(!(p>g.length)){e.next=39;break}return n.error("开始序号超过当前项目最大值".concat(g.length)),Ie(!1),e.abrupt("return");case 39:if(!f){e.next=48;break}if(!(p>f)){e.next=44;break}return n.error("开始序号超过结束序号"),Ie(!1),e.abrupt("return");case 44:w=g.length>f?f:g.length,g=g.slice(p-1,w),e.next=49;break;case 48:g=g.slice(p-1);case 49:C=0,F=0,u&&g.sort((function(){return Math.random()-.5})),A=0;case 53:if(!(A<g.length)){e.next=70;break}if(P=g[A].owner.toString(),_=g[A].current_price.value,P!==x){e.next=58;break}return e.abrupt("continue",67);case 58:if(!(_>=2*k)){e.next=60;break}return e.abrupt("continue",67);case 60:if(!(C>=o)){e.next=62;break}return e.abrupt("break",70);case 62:if(!(C>=3e3)){e.next=64;break}return e.abrupt("break",70);case 64:C+=1,T=g[A].current_price.value,F+=T;case 67:++A,e.next=53;break;case 70:return M=O.includes(x)?F.toFixed(8)+" "+S:(1.005*F).toFixed(8)+" "+S,null===(r=ct.current)||void 0===r||r.setFieldValue("amountAuto",M),ve(y),ut(N,Z),at.current=!1,Qe(!0),Ie(!1),e.abrupt("return",!0);case 80:e.prev=80,e.t0=e.catch(0),Ie(!1),(0,m.Tv)(e.t0,n);case 84:case"end":return e.stop()}}),e,null,[[0,80]])})));return function(t){return e.apply(this,arguments)}}(),[ut,l,c,d,O]),ft=(0,q.useCallback)((function(){var e,t=nt.current;if(0===t.length)return n.error(et),console.log(et),!1;var r=null===(e=ct.current)||void 0===e?void 0:e.getFieldsValue(),a=r.disorderAuto,s=r.repeatAuto,o=r.intervalAuto,c=r.loop;try{a?t.sort((function(){return Math.random()-.5})):t.sort((function(e,t){return e.cid-t.cid})),dt(t);for(var i=1;i<s;i++)setTimeout(dt,o*i,t);return c&&(it.current=setTimeout((function(){var e;return null===(e=ct.current)||void 0===e?void 0:e.submit()}),6e5)),!0}catch(e){(0,m.Tv)(e,n)}}),[pe,dt]),mt=(0,q.useCallback)((function(){var e;null===(e=ct.current)||void 0===e||e.resetFields(),Q(0),W(0),te(0),se(0),fe([]),ve(""),Ze(0),ge(0),st.current={},Ve({}),_e({}),le(0),lt(),at.current=!1}),[lt]),ht=(0,q.useCallback)(function(){var t=u()(i()().mark((function t(r){var a,s,o,c,l,u,d,p,h,x,v;return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.load("dfs3protocol");case 3:return o=t.sent,c=o.table("projects"),l=o.table("stat"),t.next=8,c.all({scope:"dfs3protocol"});case 8:return u=t.sent,t.next=11,l.all({scope:"dfs3protocol"});case 11:return d=t.sent,t.next=14,E().get("https://api.dfs.land/dfschain/pppvolume2");case 14:200!==(p=t.sent).status&&n.error("获取pppvolume2数据失败"),h=p.data,x=[],u.forEach((function(e){h.hasOwnProperty(e.id.toString())&&x.push(e)})),x.sort((function(e,t){var r=e.id.toString(),n=t.id.toString();return h[n].volume_24h-h[r].volume_24h})),v={},x.forEach((function(e){var t=e.nft_img,r=e.id.toString(),n=e.project_name,a=e.creator.toString();v["pid-"+r]="".concat(r,"-").concat(n,"-").concat(a,"-").concat(t)})),null===(a=ot.current)||void 0===a||a.setFieldValue("pidCreate",""),null===(s=ct.current)||void 0===s||s.setFieldValue("pidAuto",""),e(f.N.setValueEnum(v)),e(f.N.setProjects(u)),e(f.N.setStats(d)),We(!1),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(0),We(!1),(0,m.Tv)(t.t0,n);case 34:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(e){return t.apply(this,arguments)}}(),[]),xt=(0,q.useCallback)((function(){return d&&d.broadcast?l?(We(!0),void ht(c)):(n.error("".concat(rt)),!1):(n.error("".concat(tt)),!1)}),[d,l,ht,c]),vt=(0,q.useCallback)(u()(i()().mark((function e(){var t,r,a,s,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,qe(!0),t={},e.next=7,c.load("dfs3protocol");case 7:return r=e.sent,a=r.table("registry"),e.next=11,a.all({scope:"dfs3protocol",from:Pe.pid,to:Pe.pid,index_position:"secondary",key_type:"i64"});case 11:s=e.sent,o=0,pe.forEach((function(e){var r=e.from,n=e.cid;s.filter((function(t){return t.cid.toNumber()===e.cid}))[0].owner.toString()===r?(t[n]="success",o+=1):t[n]="default"})),le(o),Ve(t),qe(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),qe(!1),(0,m.Tv)(e.t0,n);case 23:case"end":return e.stop()}}),e,null,[[2,19]])}))),[c,n,Pe,pe]),bt=(0,q.useCallback)((function(e){if(e.hasOwnProperty("countAuto")){var t,r,a=null===(t=ct.current)||void 0===t?void 0:t.getFieldValue("pidAuto");if(!a)return;var s,o=e.countAuto,c=a.split("-")[1],i=Y.filter((function(e){return e.cid.toString()===c}))[0].supply.toNumber();if(o>i)return n.error("购买数量超过当前项目最大值".concat(i)),void(null===(s=ct.current)||void 0===s||s.setFieldValue("startAuto",1));var l=Math.ceil(Math.random()*(i-o));null===(r=ct.current)||void 0===r||r.setFieldValue("startAuto",l)}}),[Y,n]),gt=(0,q.useCallback)(u()(i()().mark((function e(){var t,r,s,u,f,h,x,v,b,g,j,k,S,Z,N,y,C,F,A,P,_,T,E,V,Y,q,z,R,I,H,$,U,J,K,B,G,X,ee,re,ne,ae,oe,ce,ie,ue,de,pe,me,he,xe,ve,be,ge,je,ke;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d&&d.broadcast){e.next=7;break}return n.error("".concat(tt)),console.log(tt),e.abrupt("return");case 7:if(l){e.next=11;break}return n.error("".concat(rt)),console.log(rt),e.abrupt("return");case 11:if("owner"===(s=d.permissionLevel.permission.toString())||"active"===s){e.next=16;break}return n.error("permission权限必须是owner或者active"),console.log("permission权限必须是owner或者active"),e.abrupt("return");case 16:return Ie(!0),u=null===(t=ct.current)||void 0===t?void 0:t.getFieldsValue(),f=u.pidAuto,h=u.countAuto,x=u.disorderAuto,v=u.startAuto,b=u.endAuto,g=Number(f.split("-")[1]),j=d.actor.toString(),e.next=22,c.load("dfs3protocol");case 22:return k=e.sent,S=k.table("registry"),e.next=26,S.all({scope:"dfs3protocol",from:g,to:g,index_position:"secondary",key_type:"i64"});case 26:if(Z=e.sent,N=L.filter((function(e){return e.id.toNumber()===g})),y=N[0].creator.toString(),C=N[0].nft_name.toString(),F=N[0].project_name,A=N[0].init_nft_price.value,P=N[0].init_nft_price.symbol.name,_="","DFS"!==P){e.next=38;break}_="eosio.token",e.next=50;break;case 38:if("USDT"!==P){e.next=42;break}_="usdtusdtusdt",e.next=50;break;case 42:if("ORDI"!==P){e.next=46;break}_="ordiordiordi",e.next=50;break;case 46:return n.error("不支持当前项目"),Ie(!1),console.log("不支持当前项目"),e.abrupt("return");case 50:if(!(v>Z.length)){e.next=55;break}return n.error("开始序号超过当前项目最大值".concat(Z.length)),Ie(!1),console.log("开始序号超过当前项目最大值".concat(Z.length)),e.abrupt("return");case 55:if(!b){e.next=64;break}if(!(v>b)){e.next=60;break}return n.error("开始序号超过结束序号"),Ie(!1),e.abrupt("return");case 60:T=Z.length>b?b:Z.length,Z=Z.slice(v-1,T),e.next=65;break;case 64:Z=Z.slice(v-1);case 65:return E={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},d.permissionLevel],data:m._9.from({user:j})},V=w.aU.from(E),e.next=69,d.client.v1.chain.get_info();case 69:Y=e.sent,q=Y.getTransactionHeader(),z=D()(),R=[],I={},H=0,$="",U=0,x&&Z.sort((function(){return Math.random()-.5})),J=0;case 79:if(!(J<Z.length)){e.next=126;break}if(K=Z[J].owner.toString(),B=Z[J].current_price.value,K!==j){e.next=84;break}return e.abrupt("continue",123);case 84:if(!(B>=2*A)){e.next=86;break}return e.abrupt("continue",123);case 86:if(!(H>=h)){e.next=88;break}return e.abrupt("break",126);case 88:if(!(H>=3e3)){e.next=90;break}return e.abrupt("break",126);case 90:return $=D()(z).add(3600-H++,"seconds").utc().format("YYYY-MM-DDTHH:mm:ss"),G=Z[J].current_price.toString(),X=Z[J].current_price.value,ee=Z[J].current_price.symbol,re=w.xR.from(.005*X,ee),ne="buy:"+Z[J].id.toString(),U+=X,ae={account:_,name:"transfer",authorization:[d.permissionLevel],data:m.FE.from({from:j,to:"dfs3protocol",quantity:G,memo:ne})},oe=w.aU.from(ae),ce={account:_,name:"transfer",authorization:[d.permissionLevel],data:m.FE.from({from:j,to:"davidaccount",quantity:re,memo:"fee"})},ie=w.aU.from(ce),ue=void 0,de=void 0,pe=[],me=O.includes(j)?[V,oe]:[V,oe,ie],ue=w.YW.from(o()(o()({},q),{},{expiration:$,actions:me})),pe[0]=M.signDigest(ue.signingDigest(d.chain.id.toString())),e.next=109,(0,m.zI)(d.transact({transaction:ue},{broadcast:!1,transactPlugins:[]}));case 109:if(he=e.sent,xe=p()(he,2),ve=xe[0],be=xe[1],!ve){e.next=118;break}return n.error(ve),Ie(!1),console.log(ve),e.abrupt("return");case 118:de=w.uQ.from(o()(o()({},ue),{},{signatures:[].concat(pe,a()(be.signatures))})),ge=Z[J].cid.toNumber(),je=Z[J].id.toNumber(),I[ge]="default",R.push({signedTransaction:de,cid:ge,nftid:je,amount:X,from:j});case 123:++J,e.next=79;break;case 126:ke=O.includes(j)?U.toFixed(8)+" "+P:(1.005*U).toFixed(8)+" "+P,null===(r=ct.current)||void 0===r||r.setFieldValue("amountAuto",ke),st.current=I,Ve({}),Q(0),W(0),te(0),se(R.length),fe(R),nt.current=R,le(0),_e({pid:g,creator:y,nft_name:C,project_name:F}),le(0),n.success("创建完成"),Ie(!1),console.log("创建完成"),e.next=149;break;case 144:e.prev=144,e.t0=e.catch(0),Ie(!1),(0,m.Tv)(e.t0,n),console.log(e.t0);case 149:case"end":return e.stop()}}),e,null,[[0,144]])}))),[c,d,l,O]),jt=(0,q.useCallback)((function(e){e<18e5&&!at.current&&(at.current=!0,gt())}),[gt]),kt=(0,q.useCallback)((function(){Qe(!1),Ze(0),it.current&&clearTimeout(it.current)}),[]),St=(0,q.useCallback)((function(){if(we){if(l){var e=l.accountName.toString();return!!I.includes(e)||(Ce(!1),!1)}return!0}if(l){var t=l.accountName.toString();return!!I.includes(t)&&(Ce(!0),!0)}return!1}),[l,we,I]),Zt=(0,q.useCallback)((function(){var e=D()().format("YYYY-MM-DDTHH:mm:ss"),t=JSON.stringify(R,null,2),r="data:,".concat(t),n=document.createElement("a");n.href=r,n.download="log_".concat(e,".json"),n.click()}),[]);return(0,q.useEffect)((function(){!c||Object.keys(V).length||Ue||(We(!0),ht(c))}),[ht,V,c,Ue]),(0,z.jsx)(b._z,{className:"",ghost:!0,children:St()?(0,z.jsxs)("div",{className:"flex flex-wrap justify-center gap-5 items-start",children:[(0,z.jsxs)(g.Z,{title:(0,z.jsx)("div",{className:" font-semibold text-lg hardline",children:"使用说明"}),style:{maxWidth:"500px"},children:[(0,z.jsx)("div",{children:"1. 操作步骤如下："}),(0,z.jsxs)("div",{className:"ml-3",children:['a）进入"工具-简易钱包"页面 ',(0,z.jsx)(h.Z,{})," 导入私钥"," ",(0,z.jsx)(h.Z,{})," 点击右上角钱包图标 ",(0,z.jsx)(h.Z,{})," ","选择账号连接"]}),(0,z.jsxs)("div",{className:"ml-3",children:['b）进入"工具-PPP工具-自动扫货"页面 ',(0,z.jsx)(h.Z,{})," ",'选择"自动交易"表格 ',(0,z.jsx)(h.Z,{})," 选择项目"," ",(0,z.jsx)(h.Z,{})," 输入购买数量 ",(0,z.jsx)(h.Z,{})," ","点击启动按钮"]}),(0,z.jsx)("div",{className:"mt-3",children:"2. 注意事项："}),(0,z.jsx)("div",{className:"ml-3",children:"a）自动交易方式需要用户导入私钥才可以正常执行。私钥只保存在浏览器的数据库中，不会上传到服务器，请评估好风险后再使用。"}),(0,z.jsx)("div",{className:"mt-3",children:"3. 费用说明："}),(0,z.jsx)("div",{className:"ml-3",children:"使用工具抢到的NFT，每个收取0.5%费用。例如工具抢到一个价值为100 DFS的NFT，则工具会收取0.5 DFS作为费用，抢购成功了，才会收取。"})]}),(0,z.jsxs)(g.Z,{title:(0,z.jsxs)("div",{className:" font-semibold text-lg hardline",children:["自动交易",(0,z.jsx)(F.Z,{placement:"topLeft",title:'需要在"工具-简易钱包"页面中导入私钥，然后点击右上角的钱包图标进行连接后，才能正常使用',children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),style:{maxWidth:"500px"},children:[(0,z.jsxs)(j.A,{formRef:ct,onFinish:pt,onValuesChange:bt,onReset:mt,loading:Oe,disabled:Be,layout:"vertical",initialValues:{disorderAuto:!0,startAuto:1,repeatAuto:10,intervalAuto:1e3,loop:!0},submitter:{searchConfig:{submitText:"启动"},render:function(e,t){return[t[1],t[0]]}},children:[(0,z.jsx)(k.Z,{name:"pidAuto",label:(0,z.jsxs)("div",{children:["项目",(0,z.jsx)(v.Z,{spin:Ue,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:xt})]}),valueEnum:V,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(Xe),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,filterOption:function(e,t){var r=t.label.split("-"),n=p()(r,3),a=n[0],s=n[1],o=n[2];return(a.padStart(3,"0")+s+o).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var t=e.label.split("-"),r=p()(t,4),n=r[0],a=r[1],s=r[2],o=r[3];return(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)("div",{className:"mr-2",children:n.padStart(3,"0")}),(0,z.jsx)(A.C,{className:"mr-2",size:"default",src:o}),(0,z.jsxs)("div",{children:[a," @",s]})]})}}}),(0,z.jsx)(S.Z,{label:"购买数量",name:"countAuto",placeholder:"",min:1,rules:[{required:!0,message:"".concat(Xe),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,z.jsx)(S.Z,{label:(0,z.jsxs)("div",{children:["开始序号#",(0,z.jsx)(F.Z,{placement:"topLeft",title:"从具体某个序号开始进行购买",children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"startAuto",placeholder:"",min:1,rules:[{required:!0,message:"".concat(Xe),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1}}),(0,z.jsx)(S.Z,{label:(0,z.jsxs)("div",{children:["结束序号#",(0,z.jsx)(F.Z,{placement:"topLeft",title:"只购买当前序号之前的NFT",children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"endAuto",placeholder:"可选，默认是当前序号的最大值",min:1,rules:[{required:!1,message:"".concat(Xe),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,z.jsx)(S.Z,{label:(0,z.jsxs)("div",{children:["整体重复发送次数",(0,z.jsx)(F.Z,{placement:"topLeft",title:"整体全部发送完成算一次，这里指定重复次数。重复发送失败了，不会影响金额",children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"repeatAuto",placeholder:"",min:1,max:20,rules:[{required:!0,message:"".concat(Xe),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:10}}),(0,z.jsx)(S.Z,{label:(0,z.jsxs)("div",{children:["整体重复发送间隔(ms)",(0,z.jsx)(F.Z,{placement:"topLeft",title:"整体全部发送完成算一次，这里指定重复的间隔时间",children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),name:"intervalAuto",placeholder:"",min:300,rules:[{required:!0,message:"".concat(Xe),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1e3}}),(0,z.jsx)(Z.Z,{name:"disorderAuto",label:(0,z.jsxs)("div",{children:["是否乱序",(0,z.jsx)(F.Z,{placement:"topLeft",title:"是否以乱序的方式来发送交易",children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(Xe),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,z.jsx)(Z.Z,{name:"loop",label:(0,z.jsxs)("div",{children:["是否循环运行",(0,z.jsx)(F.Z,{placement:"topLeft",title:"当前轮次运行完后，是否进行下一轮运行",children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(Xe),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,z.jsx)(N.Z,{name:"amountAuto",label:(0,z.jsxs)("div",{children:["总金额",(0,z.jsx)(F.Z,{placement:"topLeft",title:"此次全部交易所需要的总金额，包含手续费。",children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"自动生成，无需输入",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,z.jsx)(j.A.Item,{label:(0,z.jsxs)("div",{className:" font-semibold text-lg ",children:[(0,z.jsx)("span",{className:"hardline",children:"倒计时 "}),Pe.pid?"(".concat(Pe.pid,"-").concat(Pe.project_name," @").concat(Pe.creator,")"):""]}),children:(0,z.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,z.jsx)(P.Z.Countdown,{value:Se,onFinish:ft,onChange:jt}),(0,z.jsx)("div",{className:"text-xl",children:"".concat(xe)})]})}),(0,z.jsxs)(j.A.Item,{label:(0,z.jsxs)("div",{className:" font-semibold text-lg hardline",children:[(0,z.jsx)("span",{children:"结果 "}),pe.length?"(".concat(pe.length,")"):""]}),children:[(0,z.jsx)("div",{children:"成功：".concat(U,"，失败：").concat(B,"，处理中：").concat(ee,"，待处理：").concat(ae)}),!!pe.length&&(0,z.jsx)("div",{className:"flex flex-wrap gap-5 mt-3",children:Object.keys(st.current).map((function(e,t){return(0,z.jsx)(_.Z,{color:st.current[e],children:"#".concat(e)},t)}))})]}),(0,z.jsxs)(j.A.Item,{label:(0,z.jsx)("div",{className:" font-semibold text-lg hardline",children:(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{children:"校对 "}),pe.length?"(".concat(pe.length,")"):"",(0,z.jsx)(F.Z,{placement:"topLeft",title:"交易结束后，可点击校对按钮，判断交易结果是否跟链上数据匹配",children:(0,z.jsx)(x.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]})}),children:[(0,z.jsx)("div",{children:"拥有：".concat(ie)}),!!pe.length&&(0,z.jsx)("div",{className:"flex flex-wrap gap-5 mt-3",children:Object.keys(Ee).map((function(e,t){return(0,z.jsx)(_.Z,{color:Ee[e],children:"#".concat(e)},t)}))})]})]}),(0,z.jsxs)("div",{className:"mt-2 ",children:[(0,z.jsx)(T.ZP,{type:"primary",className:"mr-2",onClick:kt,children:"停止"}),(0,z.jsx)(T.ZP,{className:"mr-2",loading:Ye,onClick:vt,children:"校对"}),(0,z.jsx)(T.ZP,{onClick:Zt,children:"日志"}),","]})]}),s]}):(0,z.jsx)(z.Fragment,{})})}}}]);