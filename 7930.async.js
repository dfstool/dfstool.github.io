(self.webpackChunk=self.webpackChunk||[]).push([[7930],{97930:function(e,t,r){"use strict";r.d(t,{Wo:function(){return f},kh:function(){return b},Wr:function(){return w},tw:function(){return L},SX:function(){return U}});var n=r(62435),a=r(5574),i=r.n(a),o=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function c(e,t){var r=t.format,n=void 0===r?"":r,a=new Date(e).getTime(),c=Date.now();return function(e,t){var r=e,n=/\[[^\]]*]/g,a=(t.match(n)||[]).map((function(e){return e.slice(1,-1)})),c=t.replace(n,"[]"),s=o.reduce((function(e,t){var n=i()(t,2),a=n[0],o=n[1];if(e.includes(a)){var c=Math.floor(r/o);return r-=c*o,e.replace(new RegExp("".concat(a,"+"),"g"),(function(e){var t=e.length;return c.toString().padStart(t,"0")}))}return e}),c),u=0;return s.replace(n,(function(){var e=a[u];return u+=1,e}))}(Math.max(a-c,0),n)}var s=r(75633),u=r(51409),d=r(86074);var l=function(e){var t=e.value,r=e.format,a=void 0===r?"HH:mm:ss":r,i=e.onChange,o=e.onFinish,l=e.className,f=(0,s.N)(),p=n.useRef(null),m=function(){var e=function(e){return new Date(e).getTime()}(t);e>=Date.now()&&(p.current=(0,u.Zi)((function(){f(),null==i||i(e-Date.now()),e<Date.now()&&(null==o||o(),p.current&&((0,u.cv)(p.current),p.current=null))}),33.333333333333336))};return n.useEffect((function(){return m(),function(){p.current&&((0,u.cv)(p.current),p.current=null)}}),[t]),(0,d.jsx)("div",{className:l,children:c(t,{format:a})})},f=n.memo(l),p=r(98097),m=r(59530),x=r(27484),h=r.n(x),v=r(70178),k=r.n(v);h().extend(k());var y=(0,n.forwardRef)((function(){var e=(0,m.useSelector)((function(e){return e.ppp.project})),t=(0,m.useSelector)((function(e){return e.ppp.projectNftLoading})),r=(0,n.useMemo)((function(){return[{title:"项目ID",dataIndex:"id",key:"id",render:function(e,t){return(0,d.jsx)("span",{children:t.id})}},{title:"项目名称",dataIndex:"projectName",key:"projectName",render:function(e,t){return(0,d.jsx)("span",{children:t.projectName})}},{title:"项目描述",dataIndex:"desc",key:"desc",render:function(e,t){return(0,d.jsx)("span",{children:t.desc})}},{title:"NFT名称",dataIndex:"nftName",key:"nftName",render:function(e,t){return(0,d.jsx)("span",{children:t.nftName})}},{title:"代币名称",dataIndex:"tokenNameRelease",key:"tokenNameRelease",render:function(e,t){return(0,d.jsx)("span",{children:t.tokenNameRelease})}},{title:"创建者",dataIndex:"creator",key:"creator",render:function(e,t){return(0,d.jsx)("span",{children:t.creator})}},{title:"NFT初始发行量",dataIndex:"initNftNumber",key:"initNftNumber",render:function(e,t){return(0,d.jsx)("div",{children:t.initNftNumber})}},{title:"NFT流通量",dataIndex:"nftSupply",key:"nftSupply",render:function(e,t){return(0,d.jsx)("div",{children:t.nftSupply})}},{title:"NFT最大发行量",dataIndex:"nftMaxSupply",key:"nftMaxSupply",render:function(e,t){return(0,d.jsx)("div",{children:t.nftMaxSupply})}},{title:"NFT初始价格",dataIndex:"initNftPrice",key:"initNftPrice",render:function(e,t){return(0,d.jsx)("div",{children:t.initNftPrice})}},{title:"分裂价格",dataIndex:"splitNftPrice",key:"splitNftPrice",render:function(e,t){return(0,d.jsx)("div",{children:t.splitNftPrice})}},{title:"每轮时间",dataIndex:"secPerRound",key:"secPerRound",render:function(e,t){return(0,d.jsx)("div",{children:t.secPerRound})}},{title:"NFT每轮涨幅",dataIndex:"increasePerRound",key:"increasePerRound",render:function(e,t){return(0,d.jsx)("div",{children:t.increasePerRound})}},{title:"NFT交易手续费",dataIndex:"tradeFeeRatio",key:"tradeFeeRatio",render:function(e,t){return(0,d.jsx)("div",{children:t.tradeFeeRatio})}},{title:"NFT销毁时间",dataIndex:"secToBurnNft",key:"secToBurnNft",render:function(e,t){return(0,d.jsx)("div",{children:t.secToBurnNft})}},{title:"销毁兑换",dataIndex:"tokenPerNft",key:"tokenPerNft",render:function(e,t){return(0,d.jsx)("div",{children:t.tokenPerNft})}},{title:"创建时间",dataIndex:"createTime",key:"createTime",render:function(e,t){return(0,d.jsx)("div",{children:t.createTime})}},{title:"利润率",dataIndex:"profitRate",key:"profitRate",render:function(e,t){return(0,d.jsx)("div",{children:t.profitRate})}},{title:"Website",dataIndex:"website",key:"website",render:function(e,t){return(0,d.jsx)("div",{children:t.website})}},{title:"Twitter",dataIndex:"twitter",key:"twitter",render:function(e,t){return(0,d.jsx)("div",{children:t.twitter})}},{title:"Telegram",dataIndex:"telegram",key:"telegram",render:function(e,t){return(0,d.jsx)("div",{children:t.telegram})}}]}),[e]);return(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)(p.vY,{loading:t,columns:r,dataSource:e})})})),b=(0,n.memo)(y),g=r(92340);h().extend(k());var j=(0,n.forwardRef)((function(){var e=(0,m.useSelector)((function(e){return e.ppp.projectNftGrow})),t=(0,m.useSelector)((function(e){return e.ppp.projectSecPerRound})),r=(0,m.useSelector)((function(e){return e.ppp.projectNftLoading})),a=(0,n.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",render:function(e,t,r){return(0,d.jsx)("span",{children:r+1})}},{title:"轮次时间(".concat(t/3600,"小时)"),dataIndex:"time",key:"time",render:function(e,t){return(0,d.jsx)("div",{children:t.time})}},{title:"NFT数量",dataIndex:"count",key:"count",render:function(e,t){return(0,d.jsx)("div",{children:t.count})}},{title:"锁定资产",dataIndex:"asset",key:"asset",render:function(e,t){return(0,d.jsx)("div",{children:t.asset})}}]}),[t]);return(0,d.jsx)("div",{className:"ppp-tab-grow",children:(0,d.jsx)(g.Z,{loading:{spinning:r,size:"large"},scroll:{x:!0},size:"small",columns:a,dataSource:e,defaultData:[],options:!1,search:!1,tableAlertRender:!1,tableAlertOptionRender:!1,pagination:!1})})})),w=(0,n.memo)(j),N=r(15009),I=r.n(N),T=r(99289),R=r.n(T),S=r(40956),M=r(87462),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h360c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H184V184h656v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM653.3 599.4l52.2-52.2a8.01 8.01 0 00-4.7-13.6l-179.4-21c-5.1-.6-9.5 3.7-8.9 8.9l21 179.4c.8 6.6 8.9 9.4 13.6 4.7l52.4-52.4 256.2 256.2c3.1 3.1 8.2 3.1 11.3 0l42.4-42.4c3.1-3.1 3.1-8.2 0-11.3L653.3 599.4z"}}]},name:"select",theme:"outlined"},C=r(84089),F=function(e,t){return n.createElement(C.Z,(0,M.Z)({},e,{ref:t,icon:P}))};var D=n.forwardRef(F),E=r(45360),_=r(15867),z=r(51165),O=r(64119);h().extend(k());var A=function(e){var t=(0,m.useDispatch)(),r=(0,m.useNavigate)(),a=E.ZP.useMessage(),o=i()(a,2),c=o[0],s=o[1],u=(0,m.useSelector)((function(e){return e.ppp.projectNft})),l=(0,m.useSelector)((function(e){return e.ppp.project})),p=(0,m.useSelector)((function(e){return e.ppp.projectNftReset})),x=(0,m.useSelector)((function(e){return e.ppp.projectId})),v=(0,m.useSelector)((function(e){return e.ppp.projectSecToBurnNft})),k=(0,m.useSelector)((function(e){return e.ppp.projectAccountFilter})),y=(0,m.useSelector)((function(e){return e.ppp.projectNftLoading})),b=(0,m.useSelector)((function(e){return e.ppp.projectProfitRate})),j=(0,m.useSelector)((function(e){return e.global.session})),w=(0,m.useSelector)((function(e){return e.global.account})),N=(0,n.useState)([]),T=i()(N,2),M=T[0],P=T[1],C=(0,m.useIntl)(),F=C.formatMessage({id:"tokens.intlUpdate"}),A=C.formatMessage({id:"common.intlPleaseConnectWallet"}),L=C.formatMessage({id:"common.intlPleaseConnectNetwork"}),Z=C.formatMessage({id:"common.intlTransferSuccess"}),U=C.formatMessage({id:"common.intlTransferFail"}),q=(0,n.useCallback)((function(e){var r=e.owner,n=u.filter((function(e){return e.owner===r}));t(S.N.setProjectNft(n))}),[u]),H=(0,n.useCallback)((function(){t(S.N.setProjectNft(p))}),[p]),Y=(0,n.useCallback)(R()(I()().mark((function t(){var r,n,a,o,s,d,f,p;return I()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j&&j.broadcast){t.next=5;break}return c.error("".concat(A)),t.abrupt("return");case 5:if(w){t.next=8;break}return c.error("".concat(L)),t.abrupt("return");case 8:if(M.length){t.next=11;break}return c.error("复选项不能为空"),t.abrupt("return");case 11:if(r=l.tokenName,n="","DFS"!==r){t.next=17;break}n="eosio.token",t.next=28;break;case 17:if("USDT"!==r){t.next=21;break}n="usdtusdtusdt",t.next=28;break;case 21:if("ORDI"!==r){t.next=25;break}n="ordiordiordi",t.next=28;break;case 25:return c.error("不支持当前项目"),console.log("不支持当前项目"),t.abrupt("return");case 28:return a=u.filter((function(e){return M.includes(e.id)})),o=[],a.forEach((function(e){o.push({account:n,name:"transfer",authorization:[j.permissionLevel],data:{from:j.actor,to:"dfs3protocol",quantity:e.current_price,memo:"buy:".concat(e.id)}})})),t.next=33,(0,O.zI)(j.transact({actions:o}));case 33:if(s=t.sent,d=i()(s,2),f=d[0],p=d[1],!f){t.next=42;break}return c.error(f),t.abrupt("return");case 42:if(!p||!p.response){t.next=46;break}c.success("".concat(Z)),t.next=48;break;case 46:return c.error("".concat(U)),t.abrupt("return");case 48:e.handleGetProjectNft(x);case 49:case"end":return t.stop()}}),t)}))),[j,M,u,l,e,x]),G=(0,n.useCallback)(R()(I()().mark((function t(){var r,n,a,o,s,d;return I()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j&&j.broadcast){t.next=5;break}return c.error("".concat(A)),t.abrupt("return");case 5:if(w){t.next=8;break}return c.error("".concat(L)),t.abrupt("return");case 8:if(M.length){t.next=11;break}return c.error("复选项不能为空"),t.abrupt("return");case 11:return r=u.filter((function(e){return M.includes(e.id)})),n=[],r.forEach((function(e){n.push({account:"dfs3protocol",name:"split",authorization:[j.permissionLevel],data:{assetid:e.id}})})),t.next=16,(0,O.zI)(j.transact({actions:n}));case 16:if(a=t.sent,o=i()(a,2),s=o[0],d=o[1],!s){t.next=25;break}return c.error(s),t.abrupt("return");case 25:if(!d||!d.response){t.next=29;break}c.success("".concat(Z)),t.next=31;break;case 29:return c.error("".concat(U)),t.abrupt("return");case 31:e.handleGetProjectNft(x);case 32:case"end":return t.stop()}}),t)}))),[j,M,u,l,e,x]),W=(0,n.useCallback)(R()(I()().mark((function t(){var r,n,a,o,s,d;return I()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j&&j.broadcast){t.next=5;break}return c.error("".concat(A)),t.abrupt("return");case 5:if(w){t.next=8;break}return c.error("".concat(L)),t.abrupt("return");case 8:if(M.length){t.next=11;break}return c.error("复选项不能为空"),t.abrupt("return");case 11:return r=u.filter((function(e){return M.includes(e.id)})),n=[],r.forEach((function(e){n.push({account:"dfs3protocol",name:"burn",authorization:[j.permissionLevel],data:{assetid:e.id}})})),t.next=16,(0,O.zI)(j.transact({actions:n}));case 16:if(a=t.sent,o=i()(a,2),s=o[0],d=o[1],!s){t.next=25;break}return c.error(s),t.abrupt("return");case 25:if(!d||!d.response){t.next=29;break}c.success("".concat(Z)),t.next=31;break;case 29:return c.error("".concat(U)),t.abrupt("return");case 31:e.handleGetProjectNft(x);case 32:case"end":return t.stop()}}),t)}))),[j,M,u,l,e,x]),B=(0,n.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",search:!1,render:function(e,t,r){return(0,d.jsx)("span",{children:r+1})}},{title:"ID",dataIndex:"id",key:"id",search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.id})}},{title:"CID",dataIndex:"cid",key:"cid",search:!1,render:function(e,t){return(0,d.jsxs)("div",{children:["#",t.cid]})}},{title:"状态",dataIndex:"status",key:"status",filters:[{text:"可买",value:"buy"},{text:"已售",value:"sell"},{text:"可拆分",value:"split"},{text:"可销毁",value:"burn"}],onFilter:function(e,t){return"buy"===e?t.status.includes("可买"):"sell"===e?"已售"===t.status:"split"===e?"可拆分"===t.status:"burn"!==e||t.status.includes("可销毁")},sorter:function(e,t){return e.status.localeCompare(t.status)},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.status})}},{title:"持有者",dataIndex:"owner",key:"owner",filters:k,onFilter:function(e,t){return e===t.owner},sorter:function(e,t){return e.owner.localeCompare(t.owner)},render:function(e,t){return(0,d.jsx)("a",{onClick:function(){return r("/query/account?search=".concat(t.owner,"&tab=info"))},children:t.owner})}},{title:"投入成本",dataIndex:"invest",key:"invest",sorter:function(e,t){return e.invest.localeCompare(t.invest)},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.invest})}},{title:"当前价格",dataIndex:"current_price",key:"current_price",sorter:function(e,t){return e.current_price.localeCompare(t.current_price)},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.current_price})}},{title:"卖出利润(".concat(b.toFixed(2),"%)"),dataIndex:"profit",key:"profit",sorter:function(e,t){return e.profit.localeCompare(t.profit)},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.profit})}},{title:"购买时间",dataIndex:"last_trade",key:"last_trade",sorter:function(e,t){return h()(t.last_trade).valueOf()-h()(e.last_trade).valueOf()},search:!1,render:function(e,t){var r=h().utc(t.last_trade).local().format("YYYY-MM-DDTHH:mm:ss");return(0,d.jsx)("div",{children:r})}},{title:"销毁时间",dataIndex:"last_trade",key:"last_trade",sorter:function(e,t){return h()(e.last_trade).valueOf()-h()(t.last_trade).valueOf()},search:!1,render:function(e,t){var r=h().utc(t.last_trade).add(v,"seconds").local().format("YYYY-MM-DDTHH:mm:ss");return(0,d.jsx)("div",{children:r})}},{title:"销毁倒计时",dataIndex:"last_trade",key:"last_trade",search:!1,render:function(e,t){var r=h().utc(t.last_trade).add(v,"seconds").local().valueOf();return(0,d.jsx)(f,{value:r})}}]}),[u,v,k,b]);return(0,d.jsxs)("div",{className:"ppp-tab-nft",children:[(0,d.jsx)(g.Z,{loading:{spinning:y,size:"large"},scroll:{x:!0},size:"small",columns:B,dataSource:u,defaultData:[],search:{defaultCollapsed:!1,layout:"horizontal",labelWidth:"auto",collapseRender:!1,className:"p-[0px]",optionRender:function(t,r,n){return[n[1],(0,d.jsx)(_.ZP,{type:"primary",onClick:function(){e.handleGetProjectNft(x)},children:F},"update"),n[0]]}},rowSelection:{type:"checkbox",selectedRowKeys:M,onChange:function(e){P(e)}},onSubmit:q,onReset:H,options:!1,tableAlertRender:!1,tableAlertOptionRender:!1,pagination:!1}),!!M.length&&(0,d.jsxs)(z.Z.Group,{trigger:"click",type:"primary",style:{insetInlineEnd:50},icon:(0,d.jsx)(D,{}),children:[(0,d.jsx)(z.Z,{type:"primary",description:"购买",onClick:Y},"1"),(0,d.jsx)(z.Z,{type:"primary",description:"拆分",onClick:G},"2"),(0,d.jsx)(z.Z,{type:"primary",description:"销毁",onClick:W},"3")]}),s]})},L=(0,n.memo)(A);h().extend(k());var Z=function(e){var t=(0,m.useDispatch)(),r=(0,m.useNavigate)(),a=(0,m.useSelector)((function(e){return e.ppp.projectNftRank})),i=(0,m.useSelector)((function(e){return e.ppp.projectNftRankReset})),o=(0,m.useSelector)((function(e){return e.ppp.projectId})),c=(0,m.useSelector)((function(e){return e.ppp.projectAccountFilter})),s=(0,m.useSelector)((function(e){return e.ppp.projectNftLoading})),u=(0,m.useSelector)((function(e){return e.ppp.projectTotalHolder})),l=(0,m.useSelector)((function(e){return e.ppp.projectTotalInvest})),f=(0,m.useSelector)((function(e){return e.ppp.projectTotalProfit})),p=(0,m.useIntl)().formatMessage({id:"tokens.intlUpdate"}),x=(0,n.useCallback)((function(e){var r=e.owner,n=a.filter((function(e){return e.owner===r}));t(S.N.setProjectNftRank(n))}),[a]),h=(0,n.useCallback)((function(){t(S.N.setProjectNftRank(i))}),[i]),v=(0,n.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",search:!1,render:function(e,t,r){return(0,d.jsx)("span",{children:r+1})}},{title:"持有者(".concat(u,")"),dataIndex:"owner",key:"owner",filters:c,onFilter:function(e,t){return e===t.owner},sorter:function(e,t){return e.owner.localeCompare(t.owner)},render:function(e,t){return(0,d.jsx)("a",{onClick:function(){return r("/query/account?search=".concat(t.owner,"&tab=info"))},children:t.owner})}},{title:"持有数量",dataIndex:"number",key:"number",sorter:function(e,t){return e.number-t.number},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.number})}},{title:"持有占比",dataIndex:"percent",key:"percent",search:!1,render:function(e,t){return(0,d.jsxs)("div",{children:[t.percent.toFixed(2),"%"]})}},{title:"投入成本(".concat(l.toFixed(0),")"),dataIndex:"invest",key:"invest",sorter:function(e,t){return e.invest-t.invest},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.investAsset})}},{title:"卖出利润(".concat(f.toFixed(0),")"),dataIndex:"profit",key:"profit",sorter:function(e,t){return e.profit-t.profit},search:!1,render:function(e,t){return(0,d.jsx)("div",{children:t.profitAsset})}}]}),[a,c,f,l,u]);return(0,d.jsx)("div",{className:"ppp-tab-rank",children:(0,d.jsx)(g.Z,{loading:{spinning:s,size:"large"},scroll:{x:!0},size:"small",columns:v,dataSource:a,defaultData:[],search:{defaultCollapsed:!1,layout:"horizontal",labelWidth:"auto",collapseRender:!1,className:"p-[0px]",optionRender:function(t,r,n){return[n[1],(0,d.jsx)(_.ZP,{type:"primary",onClick:function(){e.handleGetProjectNft(o)},children:p},"update"),n[0]]}},onSubmit:x,onReset:h,options:!1,tableAlertRender:!1,tableAlertOptionRender:!1,pagination:!1})})},U=(0,n.memo)(Z)},76650:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,a=536870912,i=2*a,o=function(e,t){return function(r){var o=t.get(r),c=void 0===o?r.size:o<i?o+1:0;if(!r.has(c))return e(r,c);if(r.size<a){for(;r.has(c);)c=Math.floor(Math.random()*i);return e(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,s=r(c),u=o(s,c),d=t(u);e.addUniqueNumber=d,e.generateUniqueNumber=u}(t)},51409:function(e,t,r){"use strict";r.d(t,{cv:function(){return i},gr:function(){return o},Zi:function(){return c},iK:function(){return s}});var n=r(76650);const a=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob([t],{type:"application/javascript; charset=utf-8"}),a=URL.createObjectURL(n);return r=e(a),setTimeout((()=>URL.revokeObjectURL(a))),r}})((e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),a=new Map,i=new Worker(e);i.addEventListener("message",(({data:e})=>{if(void 0!==(n=e).method&&"call"===n.method){const{params:{timerId:n,timerType:i}}=e;if("interval"===i){const e=t.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const t=a.get(e);if(void 0===t||t.timerId!==n||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&e()}else if("timeout"===i){const e=r.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const t=a.get(e);if(void 0===t||t.timerId!==n||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&(e(),r.delete(n))}}else{if(!(e=>"number"==typeof e.id&&"boolean"==typeof e.result)(e)){const{error:{message:t}}=e;throw new Error(t)}{const{id:n}=e,i=a.get(n);if(void 0===i)throw new Error("The timer is in an undefined state.");const{timerId:o,timerType:c}=i;a.delete(n),"interval"===c?t.delete(o):r.delete(o)}}var n}));return{clearInterval:e=>{if("function"==typeof t.get(e)){const r=(0,n.generateUniqueNumber)(a);a.set(r,{timerId:e,timerType:"interval"}),t.set(e,r),i.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"interval"}})}},clearTimeout:e=>{if("function"==typeof r.get(e)){const t=(0,n.generateUniqueNumber)(a);a.set(t,{timerId:e,timerType:"timeout"}),r.set(e,t),i.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})}},setInterval:(e,r=0,...a)=>{const o=(0,n.generateUniqueNumber)(t);return t.set(o,(()=>{e(...a),"function"==typeof t.get(o)&&i.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"interval"}})})),i.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"interval"}}),o},setTimeout:(e,t=0,...a)=>{const o=(0,n.generateUniqueNumber)(r);return r.set(o,(()=>e(...a))),i.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"timeout"}}),o}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(({data:n})=>{try{if("clear"===n.method){const{id:e,params:{timerId:t,timerType:o}}=n;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error(\'The given type "\'.concat(o,\'" is not supported\'));postMessage({id:e,result:s(t)})}}else{if("set"!==n.method)throw new Error(\'The given method "\'.concat(n.method,\'" is not supported\'));{const{params:{delay:r,now:s,timerId:a,timerType:m}}=n;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,a,s);else{if("timeout"!==m)throw new Error(\'The given type "\'.concat(m,\'" is not supported\'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,a,s)}}}}catch(e){postMessage({error:{message:e.message},id:n.id,result:null})}}))})();'),i=e=>a().clearInterval(e),o=e=>a().clearTimeout(e),c=(...e)=>a().setInterval(...e),s=(...e)=>a().setTimeout(...e)}}]);