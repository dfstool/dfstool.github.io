"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9430],{6466:function(t,e,n){n.d(e,{Z:function(){return j}});var r=n(4942),a=n(1413),o=n(91),s=n(28459),c=n(93967),i=n.n(c),l=n(62435),u=n(63330),d=n(44962),p=n(98082),f=function(t){return(0,r.Z)({},t.componentCls,{display:"flex",flexDirection:"column",justifyContent:"flex-end",marginBlock:t.marginLG,marginInline:0,color:t.colorText,fontWeight:"500",fontSize:"20px",lineHeight:"38px"})};var m=n(86074),x=function(t){var e=t.className,n=t.style,r=void 0===n?{}:n,o=t.children,c=(0,(0,l.useContext)(s.ZP.ConfigContext).getPrefixCls)("pro-card-operation"),u=function(t){return(0,p.Xj)("ProCardOperation",(function(e){var n=(0,a.Z)((0,a.Z)({},e),{},{componentCls:".".concat(t)});return[f(n)]}))}(c),d=u.wrapSSR,x=u.hashId,h=i()(c,e,x);return d((0,m.jsx)("div",{className:h,style:r,children:o}))},h=n(10357),b=function(t){return(0,r.Z)({},t.componentCls,{"&-chart":{display:"flex",flexDirection:"column",marginBlockStart:8,marginBlockEnd:8,"&-left":{marginBlockStart:0,marginInlineEnd:"16px"},"&-right":{marginBlockStart:0,marginInlineStart:"16px"}},"&-content":{display:"flex",flexDirection:"column","&-horizontal":(0,r.Z)({flexDirection:"row"},"".concat(t.componentCls,"-chart"),{alignItems:"center",alignSelf:"flex-start"})},"&-footer":{marginBlockStart:8,paddingBlockStart:"16px",borderBlockStart:"rgba(0, 0, 0, 0.08) solid ".concat(t.colorBorder)}})};var v=["children","statistic","className","chart","chartPlacement","footer"],N=function(t){var e,n=t.children,c=t.statistic,d=t.className,f=t.chart,x=t.chartPlacement,N=t.footer,j=(0,o.Z)(t,v),g=(0,(0,l.useContext)(s.ZP.ConfigContext).getPrefixCls)("pro-statistic-card"),y=function(t){return(0,p.Xj)("StatisticCard",(function(e){var n=(0,a.Z)((0,a.Z)({},e),{},{componentCls:".".concat(t)});return[b(n)]}))}(g),S=y.wrapSSR,k=y.hashId,_=i()(g,d,k),w=c&&(0,m.jsx)(h.Z,(0,a.Z)({layout:"vertical"},c)),C=i()("".concat(g,"-chart"),k,(e={},(0,r.Z)(e,"".concat(g,"-chart-left"),"left"===x&&f&&c),(0,r.Z)(e,"".concat(g,"-chart-right"),"right"===x&&f&&c),e)),P=f&&(0,m.jsx)("div",{className:C,children:f}),Z=i()("".concat(g,"-content "),k,(0,r.Z)({},"".concat(g,"-content-horizontal"),"left"===x||"right"===x)),R=(P||w)&&("left"===x?(0,m.jsxs)("div",{className:Z,children:[P,w]}):(0,m.jsxs)("div",{className:Z,children:[w,P]})),E=N&&(0,m.jsx)("div",{className:"".concat(g,"-footer ").concat(k).trim(),children:N});return S((0,m.jsxs)(u.Z,(0,a.Z)((0,a.Z)({className:_},j),{},{children:[R,n,E]})))};N.Statistic=h.Z,N.Divider=d.Z,N.Operation=x,N.isProCard=!0,N.Group=function(t){return(0,m.jsx)(N,(0,a.Z)({bodyStyle:{padding:0}},t))};var j=N},10357:function(t,e,n){n.d(e,{Z:function(){return v}});var r=n(1413),a=n(4942),o=n(91),s=n(25035),c=n(28459),i=n(83062),l=n(40411),u=n(55054),d=n(93967),p=n.n(d),f=n(62435),m=n(98082),x=function(t){var e,n,r;return(0,a.Z)({},t.componentCls,(r={display:"flex",fontSize:t.fontSize,"& + &":{marginBlockStart:4},"&-tip":{marginInlineStart:4},"&-wrapper":(0,a.Z)({display:"flex",width:"100%"},"".concat(t.componentCls,"-status"),{width:"14px"}),"&-icon":{marginInlineEnd:16},"&-trend-icon":{width:0,height:0,borderInlineEnd:"3.5px solid transparent",borderBlockEnd:"9px solid #000",borderInlineStart:"3.5px solid transparent","&-up":{transform:"rotate(0deg)"},"&-down":{transform:"rotate(180deg)"}},"&-content":(0,a.Z)({width:"100%"},"".concat(t.antCls,"-statistic-content"),{"&-value-int":{fontSize:t.fontSizeHeading3}}),"&-description":{width:"100%"}},(0,a.Z)(r,"".concat(t.antCls,"-statistic-title"),{color:t.colorText}),(0,a.Z)(r,"&-trend-up",(0,a.Z)({},"".concat(t.antCls,"-statistic-content"),(0,a.Z)({color:"#f5222d"},"".concat(t.componentCls,"-trend-icon"),{borderBlockEndColor:"#f5222d"}))),(0,a.Z)(r,"&-trend-down",(0,a.Z)({},"".concat(t.antCls,"-statistic-content"),(0,a.Z)({color:"#389e0d"},"".concat(t.componentCls,"-trend-icon"),{borderBlockEndColor:"#52c41a"}))),(0,a.Z)(r,"& &-layout-horizontal",(e={display:"flex",justifyContent:"space-between"},(0,a.Z)(e,"".concat(t.antCls,"-statistic-title"),{marginBlockEnd:0}),(0,a.Z)(e,"".concat(t.antCls,"-statistic-content-value"),{fontWeight:500}),(0,a.Z)(e,"".concat(t.antCls,"-statistic-title,").concat(t.antCls,"-statistic-content,").concat(t.antCls,"-statistic-content-suffix,").concat(t.antCls,"-statistic-content-prefix,").concat(t.antCls,"-statistic-content-value-decimal"),{fontSize:t.fontSize}),e)),(0,a.Z)(r,"& &-layout-inline",(n={display:"inline-flex",color:t.colorTextSecondary},(0,a.Z)(n,"".concat(t.antCls,"-statistic-title"),{marginInlineEnd:"6px",marginBlockEnd:0}),(0,a.Z)(n,"".concat(t.antCls,"-statistic-content"),{color:t.colorTextSecondary}),(0,a.Z)(n,"".concat(t.antCls,"-statistic-title,").concat(t.antCls,"-statistic-content,").concat(t.antCls,"-statistic-content-suffix,").concat(t.antCls,"-statistic-content-prefix,").concat(t.antCls,"-statistic-content-value-decimal"),{fontSize:t.fontSizeSM}),n)),r))};var h=n(86074),b=["className","layout","style","description","children","title","tip","status","trend","prefix","icon"],v=function(t){var e,n=t.className,d=t.layout,v=void 0===d?"inline":d,N=t.style,j=t.description,g=(t.children,t.title),y=t.tip,S=t.status,k=t.trend,_=t.prefix,w=t.icon,C=(0,o.Z)(t,b),P=(0,(0,f.useContext)(c.ZP.ConfigContext).getPrefixCls)("pro-card-statistic"),Z=function(t){return(0,m.Xj)("Statistic",(function(e){var n=(0,r.Z)((0,r.Z)({},e),{},{componentCls:".".concat(t)});return[x(n)]}))}(P),R=Z.wrapSSR,E=Z.hashId,F=p()(P,n,E),O=p()("".concat(P,"-status"),E),D=p()("".concat(P,"-icon"),E),T=p()("".concat(P,"-wrapper"),E),B=p()("".concat(P,"-content"),E),z=p()(E,(e={},(0,a.Z)(e,"".concat(P,"-layout-").concat(v),v),(0,a.Z)(e,"".concat(P,"-trend-").concat(k),k),e)),Y=y&&(0,h.jsx)(i.Z,{title:y,children:(0,h.jsx)(s.Z,{className:"".concat(P,"-tip ").concat(E).trim()})}),I=p()("".concat(P,"-trend-icon"),E,(0,a.Z)({},"".concat(P,"-trend-icon-").concat(k),k)),M=k&&(0,h.jsx)("div",{className:I}),H=S&&(0,h.jsx)("div",{className:O,children:(0,h.jsx)(l.Z,{status:S,text:null})}),L=w&&(0,h.jsx)("div",{className:D,children:w});return R((0,h.jsxs)("div",{className:F,style:N,children:[L,(0,h.jsxs)("div",{className:T,children:[H,(0,h.jsxs)("div",{className:B,children:[(0,h.jsx)(u.Z,(0,r.Z)({title:(g||Y)&&(0,h.jsxs)(h.Fragment,{children:[g,Y]}),prefix:(M||_)&&(0,h.jsxs)(h.Fragment,{children:[M,_]}),className:z},C)),j&&(0,h.jsx)("div",{className:"".concat(P,"-description ").concat(E).trim(),children:j})]})]})]}))}},64225:function(t,e,n){n.r(e);var r=n(15009),a=n.n(r),o=n(99289),s=n.n(o),c=n(5574),i=n.n(c),l=n(355),u=n(40956),d=n(64119),p=n(11774),f=n(38345),m=n(6466),x=n(59530),h=n(80507),b=n(45360),v=n(7134),N=n(34041),j=n(57953),g=n(38703),y=n(71230),S=n(15746),k=n(9669),_=n.n(k),w=n(27484),C=n.n(w),P=n(70178),Z=n.n(P),R=n(62435),E=(n(8849),n(86074));C().extend(Z());e.default=function(){var t=(0,x.useDispatch)(),e=b.ZP.useMessage(),n=i()(e,2),r=n[0],o=n[1],c=(0,x.useSelector)((function(t){return t.global.contractKit})),k=(0,x.useSelector)((function(t){return t.global.session})),w=(0,x.useSelector)((function(t){return t.ppp.projectOptions})),P=(0,x.useSelector)((function(t){return t.ppp.projectId})),Z=(0,x.useSelector)((function(t){return t.ppp.projectNftSupply})),F=(0,x.useSelector)((function(t){return t.ppp.projectBuyNumber})),O=(0,x.useSelector)((function(t){return t.ppp.projectSellNumber})),D=(0,x.useSelector)((function(t){return t.ppp.projectBurnNumber})),T=(0,x.useSelector)((function(t){return t.ppp.projectSplitNumber})),B=(0,x.useSelector)((function(t){return t.ppp.projectSecPerRound})),z=(0,x.useSelector)((function(t){return t.ppp.projectNextRound})),Y=(0,x.useSelector)((function(t){return t.ppp.projectNftLoading})),I=(0,x.useSelector)((function(t){return t.ppp.projectNftGrowCount})),M=(0,x.useSelector)((function(t){return t.global.host})),H=(0,R.useState)(!1),L=i()(H,2),U=L[0],V=L[1],G=(0,R.useState)(0),A=i()(G,2),W=A[0],X=A[1],K=(0,R.useRef)(0),q=(0,R.useCallback)(function(){var e=s()(a()().mark((function e(n){var o,s,c,i,l,p,f,m,x;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.load("dfs3protocol");case 3:return o=e.sent,s=o.table("projects"),c=o.table("stat"),e.next=8,s.all({scope:"dfs3protocol"});case 8:return i=e.sent,e.next=11,c.all({scope:"dfs3protocol"});case 11:return l=e.sent,e.next=14,_().get("https://api.dfs.land/dfschain/pppvolume2");case 14:200!==(p=e.sent).status&&r.error("获取pppvolume2数据失败"),f=p.data,m=[],i.forEach((function(t){f.hasOwnProperty(t.id.toString())&&m.push(t)})),m.sort((function(t,e){var n=t.id.toString(),r=e.id.toString();return f[r].volume_24h-f[n].volume_24h})),x=[],m.forEach((function(t){var e=t.nft_img,n=t.id.toString(),r=t.project_name,a=t.creator.toString();x.push({value:n,label:(0,E.jsxs)("div",{className:"flex items-center",children:[(0,E.jsx)("div",{className:"mr-2",children:n.padStart(3,"0")}),(0,E.jsx)(v.C,{className:"mr-2",size:"default",src:e}),(0,E.jsxs)("div",{children:[r," @",a]})]}),desc:"".concat(n,"-").concat(r,"-").concat(a,"-").concat(e)})})),t(u.N.setProjectOptions(x)),t(u.N.setStats(l)),t(u.N.setProjects(i)),V(!1),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),V(!1),(0,d.Tv)(e.t0,r);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}(),[]),J=(0,R.useCallback)((function(t){if(t<0)K.current=100,X(100);else{var e=1e3*B,n=(e-t)/e*100,r=Math.ceil(n);r!==K.current&&(K.current=r,X(n))}}),[B]),Q=(0,R.useCallback)((function(e,n,r,a){var o=[],s=n.init_nft_price.symbol,c=0,i=0,l=0,d=0;Object.keys(e).forEach((function(t,n){var r=e[t].number,u=e[t].invest,p=e[t].profit;c+=r,i+=u,l+=p,d+=1,o.push({key:n,owner:t,number:r,percent:0,invest:u,profit:p,investAsset:h.xR.from(u,s).toString(),profitAsset:h.xR.from(p,s).toString(),burnRewardUsdt:0,burnRewardDfs:0,balance:a.filter((function(e){return e.account===t}))[0].balance})})),o.forEach((function(t){t.percent=t.number/c*100})),o.sort((function(t,e){return e.number-t.number}));var p=0,f=0;r.forEach((function(t){p+=t.usdtValue,f+=t.dfsValue})),o[0].burnRewardDfs=f/2,o[1].burnRewardDfs=f/10*3,o[2].burnRewardDfs=f/5,o[0].burnRewardUsdt=p/2,o[1].burnRewardUsdt=p/10*3,o[2].burnRewardUsdt=p/5,t(u.N.setProjectNftRank(o)),t(u.N.setProjectNftRankReset(o)),t(u.N.setProjectTotalHolder(d)),t(u.N.setProjectTotalInvest(i)),t(u.N.setProjectTotalProfit(l))}),[]),$=(0,R.useCallback)((function(e,n,r){var a=n.sec_per_round.toNumber(),o=C().utc(n.last_round.toString()),s=n.init_nft_price.value,c=2*s,i=n.init_nft_price.symbol,l=n.increase_per_round.toNumber()/100,p=s*l,f=n.trade_fee_ratio.toNumber()/1e4,m=.005,x=f/3;f=2*f/2;var h=[],b=[],v=0;e.forEach((function(t){var e=Number(t.current_price.split(" ")[0]);e>=c?(b.push(p),b.push(p),v+=2*p):(b.push(e),v+=e)})),h.push({key:0,time:o.local().format("YYYY-MM-DDTHH:mm:ss"),count:b.length,asset:(0,d.CE)(v.toFixed(0))+" "+i.name,tradeFee:(0,d.CE)((v*f).toFixed(0))+" "+i.name,protocolFee:(0,d.CE)((v*m).toFixed(0))+" "+i.name,rewordPool:(0,d.CE)((v*x).toFixed(0))+" "+i.name});for(var N=1;N<=I;++N){for(var j=0,g=b.length,y=0;y<g;++y){var S=b[y]*l;S>=c?(b.push(p),b[y]=p,j+=2*p):(b[y]=S,j+=S)}var k=o.add(a*N,"seconds").local().format("YYYY-MM-DDTHH:mm:ss");if(b.length>=r){h.push({key:N,time:k,count:r,asset:(0,d.CE)(j.toFixed(0))+" "+i.name,tradeFee:(0,d.CE)((j*f).toFixed(0))+" "+i.name,protocolFee:(0,d.CE)((j*m).toFixed(0))+" "+i.name,rewordPool:(0,d.CE)((j*x).toFixed(0))+" "+i.name});break}h.push({key:N,time:k,count:b.length,asset:(0,d.CE)(j.toFixed(0))+" "+i.name,tradeFee:(0,d.CE)((j*f).toFixed(0))+" "+i.name,protocolFee:(0,d.CE)((j*m).toFixed(0))+" "+i.name,rewordPool:(0,d.CE)((j*x).toFixed(0))+" "+i.name})}t(u.N.setProjectNftGrow(h))}),[I]),tt=(0,R.useCallback)(function(){var e=s()(a()().mark((function e(n,o){var s,i,l,p,f,m,x,h,b;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.load("swapswapswap");case 3:return s=e.sent,i=s.table("markets"),e.next=7,i.all();case 7:return l=e.sent,p=[],f={},o.forEach((function(t){var e=t.max_token_supply.symbol.name;f[e]=t.token_url})),m=[],"usdtusdtusdt-USDT-8",h="eosio.token-DFS-8",b=[],(x={})["usdtusdtusdt-USDT-8"]=1,x[h]=(0,d.ri)(l[0].reserve0)/(0,d.ri)(l[0].reserve1),l.forEach((function(t){var e=t.contract0.toString()+"-"+t.sym0.toString().split(",")[1]+"-"+t.sym0.toString().split(",")[0],n=t.contract1.toString()+"-"+t.sym1.toString().split(",")[1]+"-"+t.sym1.toString().split(",")[0];m.includes(e)||m.push(e),m.includes(n)||m.push(n);var r=(0,d.ri)(t.reserve0),a=(0,d.ri)(t.reserve1);"eosio.token"===t.contract0.toString()?x.hasOwnProperty(n)||(x[n]=r/a*x[h]):"eosio.token"===t.contract1.toString()?x.hasOwnProperty(e)||(x[e]=a/r*x[h]):"usdtusdtusdt"===t.contract0.toString()?x.hasOwnProperty(n)||(x[n]=r/a):"usdtusdtusdt"===t.contract1.toString()?x.hasOwnProperty(e)||(x[e]=a/r):b.push({key0:e,key1:n,value0:r,value1:a})})),b.forEach((function(t){x.hasOwnProperty(t.key0)&&!x.hasOwnProperty(t.key1)?x[t.key1]=t.value0/t.value1*x[t.key0]:!x.hasOwnProperty(t.key0)&&x.hasOwnProperty(t.key1)?x[t.key0]=t.value1/t.value0*x[t.key1]:x.hasOwnProperty(t.key0)||x.hasOwnProperty(t.key1)||(x[t.key0]=0,x[t.key1]=0)})),Object.keys(x).forEach((function(t){Number.isNaN(x[t])&&(x[t]=0)})),n.forEach((function(t,e){var n=t.cnt.toString(),r=t.balance.symbol.name,a=t.balance.symbol.precision,o=t.balance.value,s=n+"-"+r,c=x[s+"-"+a]*o,i=c/x[h],l="dfsppptokens"===n?f[r]:"https://dfs.land/assets/tokens/".concat(s,".png");p.push({key:e,sym:r,logo:l,balance:t.balance.toString(),contract:n,usdtValue:c,dfsValue:i})})),t(u.N.setProjectRewardPool(p)),e.abrupt("return",p);case 26:return e.prev=26,e.t0=e.catch(0),(0,d.Tv)(e.t0,r),e.abrupt("return",[]);case 30:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(t,n){return e.apply(this,arguments)}}(),[k,c]),et=(0,R.useCallback)((function(e,n,r){var a=0,o=0;if(!n){for(var s=0;s<e.length;++s){var c=C().utc(e[s].last_trade).valueOf();if(c>=r){o=c;break}}for(var i=e.length-1;i>=0;--i)if(!e[i].split){a=C().utc(e[i].last_trade).valueOf()-o+1;break}}t(u.N.setProjectEndTime(a))}),[]),nt=(0,R.useCallback)(function(){var t=s()(a()().mark((function t(e){var n,o,s,c,l,u,p,f,m,x,h;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],o=2e3,s="",c="",l="","DFS"!==e){t.next=9;break}l="eosio.token",t.next=19;break;case 9:if("USDT"!==e){t.next=13;break}l="usdtusdtusdt",t.next=19;break;case 13:if("ORDI"!==e){t.next=17;break}l="ordiordiordi",t.next=19;break;case 17:return r.error("不支持当前项目"),t.abrupt("return",[]);case 19:return t.next=22,(0,d.zI)(_().post("".concat(M,"/v2/chain/get_scope_rows"),{code:l,table:"accounts",lower_bound:s,primary_lower_bound:c,limit:o,index_position:"primary",key_type:"name"}));case 22:if(u=t.sent,p=i()(u,2),f=p[0],m=p[1],f||200!==m.status){t.next=37;break}for(x=m.data.rows,h=0;h<x.length;++h)x[h].data.balance.split(" ")[1]===e&&n.push({account:x[h].scope,balance:x[h].data.balance});if(!m.data.more){t.next=34;break}s=m.data.next_key,c=m.data.next_primary_key,t.next=35;break;case 34:return t.abrupt("break",41);case 35:t.next=39;break;case 37:return r.error(f),t.abrupt("break",41);case 39:t.next=19;break;case 41:return t.abrupt("return",n);case 42:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),rt=(0,R.useCallback)(function(){var e=s()(a()().mark((function e(n){var o,s,i,l,p,f,m,x,b,v,N,j,g,y,S,_,w,P,Z,R,E,F,O,D,T,B,z,Y,I,M,H,L,U,V,G,A,W,q,J,rt,at,ot,st,ct,it,lt,ut,dt,pt,ft,mt,xt,ht,bt,vt,Nt,jt,gt,yt,St,kt;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(u.N.setProjectNftLoading(!0)),e.next=4,k.client.v1.chain.get_table_rows({code:"dfs3protocol",table:"registry",scope:"dfs3protocol",key_type:"i64",index_position:"secondary",lower_bound:h.zM.from(n),upper_bound:h.zM.from(n),limit:5e3});case 4:return o=e.sent,e.next=7,c.load("dfs3protocol");case 7:return s=e.sent,e.next=10,c.load("dfspppreward");case 10:return i=e.sent,l=s.table("projects"),p=s.table("stat"),f=i.table("rewardpools"),e.next=16,l.all({scope:"dfs3protocol"});case 16:return m=e.sent,e.next=19,p.all({scope:"dfs3protocol",from:n,to:n});case 19:return x=e.sent,e.next=22,f.all({scope:n});case 22:for(b=e.sent,v=tt(b,m),N=m.filter((function(t){return t.id.toNumber()===n}))[0],j=N.id.toNumber(),g=N.mid.toNumber(),y=N.project_name,S=N.nft_name,_=N.nft_img,w=N.desc,P=N.twitter,Z=N.telegram,R=N.website,E=N.token_url,F=N.creator.toString(),O=x[0].supply.toNumber(),D=x[0].max_supply.toNumber(),T=N.init_nft_price.toString(),B=N.init_nft_price.value,z=N.init_nft_price.symbol,I=(Y=2*B)+" "+z.name,M=N.init_nft_number.toNumber(),H=N.sec_per_round.toNumber(),L=N.sec_to_burn_nft.toNumber(),U=C().utc(N.create_time.toString()).local().format("YYYY-MM-DDTHH:mm:ss"),V=C().utc(N.last_round.toString()).valueOf(),G=V,A=C().utc(N.last_round.toString()).local().format("YYYY-MM-DDTHH:mm:ss"),W=C().utc(N.last_round.toString()).add(H,"seconds").local(),q=W.valueOf(),J=W.format("YYYY-MM-DDTHH:mm:ss"),rt=N.init_nft_price.symbol.precision,at=N.token_per_nft.toString(),ot=N.token_per_nft.symbol.name,st=N.increase_per_round.toNumber()/100,ct=N.trade_fee_ratio.toNumber()/1e4,it=100*(st-1-st*(ct+.005)),lt=0,ut=0,dt=0,pt=0,ft=[],mt=[],xt=[],ht={},bt=Number((B*st).toFixed(rt)),vt=B;vt*st<Y;)vt*=st;return Nt=(2*bt*(1-ct-.005)-vt)/vt*100,jt=31536e3/H*it,gt={id:j,mid:g,projectName:y,nftName:S,tokenName:z.name,tokenNameRelease:ot,nftImg:_,desc:w,twitter:P,telegram:Z,website:R,tokenUrl:E,creator:F,nftSupply:O,nftMaxSupply:D,initNftPrice:T,initNftNumber:M,splitNftPrice:I,secPerRound:H/3600+" Hours",increasePerRound:(100*st-100).toFixed(2)+" %",tradeFeeRatio:100*ct+" %",tradeFeeRatioValue:ct,secToBurnNft:L/3600+" Hours",tokenPerNft:at,createTime:U,profitRate:it.toFixed(2)+" %",profitRateSplit:Nt.toFixed(2)+" %",profitRateApr:jt.toFixed(0)+" %"},yt=0,o.rows.forEach((function(t){var e=C()().valueOf(),n=C().utc(t.last_trade).valueOf(),r=1e3*L,a=1e3*H,o=Number(t.current_price.split(" ")[0]),s=t.current_round,c="";yt+=o,o>=Y?(pt+=1,c="可拆分"):(e-n>r&&(lt+=1,c="可销毁"),V>n||e-V>a?(ut+=1,c=c?"可买/"+c:"可买"):(dt+=1,c="已售"));var i=0,l=0,u=!1;o>=Y?(l=vt,i=2*bt-vt-2*bt*(ct+.005)):o===bt&&s>1?(u=!0,l=vt/2,i=bt-vt/2-bt*(ct+.005)):(l=o/st,i=o*(1-1/st-ct-.005)),ht.hasOwnProperty(t.owner)||(ht[t.owner]={number:0,invest:0,profit:0}),ht[t.owner].profit+=i,ht[t.owner].number+=1,ht[t.owner].invest+=l,mt.includes(t.owner)||mt.push(t.owner),ft.push({key:t.id,id:t.id,cid:t.cid,pid:t.pid,owner:t.owner,current_round:t.current_round,current_price:t.current_price,last_trade:t.last_trade,create_time:t.create_time,profit:h.xR.from(i,z).toString(),invest:h.xR.from(l,z).toString(),status:c,split:u})})),e.next=77,nt(z.name);case 77:return St=e.sent,e.next=80,v;case 80:kt=e.sent,Q(ht,N,kt,St),$(ft,N,x[0].max_supply.toNumber()),mt.sort(),mt.forEach((function(t){xt.push({text:t,value:t})})),ft.sort((function(t,e){return C()(t.last_trade).valueOf()-C()(e.last_trade).valueOf()})),et(ft,ut,G),t(u.N.setProjectNextRound({value:q,text:J})),t(u.N.setProjectLastRound({value:G,text:A})),t(u.N.setProjectSecToBurnNft(L)),t(u.N.setProjectNftSupply(O)),t(u.N.setProjectBurnNumber(lt)),t(u.N.setProjectBuyNumber(ut)),t(u.N.setProjectSellNumber(dt)),t(u.N.setProjectSplitNumber(pt)),t(u.N.setProjectNft(ft)),t(u.N.setProjectNftReset(ft)),t(u.N.setProjectId(n)),t(u.N.setProjectTotalValue(yt)),t(u.N.setProjectSecPerRound(H)),t(u.N.setProjectAccountFilter(xt)),t(u.N.setProjectNftLoading(!1)),t(u.N.setProjectProfitRate(it)),t(u.N.setProjectProfitRateSplit(Nt)),t(u.N.setProject(gt)),K.current=0,X(0),e.next=113;break;case 109:e.prev=109,e.t0=e.catch(0),t(u.N.setProjectNftLoading(!1)),(0,d.Tv)(e.t0,r);case 113:case"end":return e.stop()}}),e,null,[[0,109]])})));return function(t){return e.apply(this,arguments)}}(),[k,c,Q,$,tt,nt]);return(0,R.useEffect)((function(){!c||w.length||U||(V(!0),q(c))}),[q,w,c,U]),(0,E.jsxs)(p._z,{className:"projects",ghost:!0,children:[(0,E.jsx)(N.default,{loading:U,size:"large",style:{width:"100%"},className:"mb-3",defaultValue:P?P.toString():void 0,onChange:function(t){rt(Number(t))},placeholder:"请选择项目",showSearch:!0,filterOption:function(t,e){var n=e.desc.split("-"),r=i()(n,3),a=r[0],o=r[1],s=r[2];return(a.padStart(3,"0")+o+s).toLowerCase().includes(t.toLowerCase())},options:w,optionRender:function(t){var e=t.data.desc.split("-"),n=i()(e,4),r=n[0],a=n[1],o=n[2],s=n[3];return(0,E.jsxs)("div",{className:"flex items-center",children:[(0,E.jsx)("div",{className:"mr-2",children:r.padStart(3,"0")}),(0,E.jsx)(v.C,{className:"mr-2",size:"default",src:s}),(0,E.jsxs)("div",{children:[a," @",o]})]})}}),(0,E.jsxs)(j.Z,{size:"large",spinning:Y,children:[(0,E.jsxs)("div",{className:"flex items-center",children:[(0,E.jsx)("div",{children:"下一轮倒计时："}),(0,E.jsx)(l.Wo,{className:"mr-2 font-medium text-base",value:z.value,onChange:J}),(0,E.jsx)("div",{className:" text-base",children:z.text})]}),(0,E.jsx)(g.Z,{percent:W,showInfo:!1}),(0,E.jsx)(f.Z,{headerBordered:!0,headStyle:{justifyContent:"center"},className:"mb-3",children:(0,E.jsxs)(y.Z,{gutter:10,children:[(0,E.jsx)(S.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,E.jsx)(m.Z,{layout:"center",statistic:{title:(0,E.jsx)("div",{className:"text-center",children:"总量"}),value:Z}})}),(0,E.jsx)(S.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,E.jsx)(m.Z,{layout:"center",statistic:{title:(0,E.jsx)("div",{className:"text-center",children:"可买 / 已售"}),value:"".concat(F," / ").concat(O)}})}),(0,E.jsx)(S.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,E.jsx)(m.Z,{layout:"center",statistic:{title:(0,E.jsx)("div",{className:"text-center",children:"可拆分"}),value:T}})}),(0,E.jsx)(S.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,E.jsx)(m.Z,{layout:"center",statistic:{title:(0,E.jsx)("div",{className:"text-center",children:"可销毁"}),value:D}})})]})})]}),(0,E.jsx)(f.Z,{tabs:{items:[{key:"nft",label:(0,E.jsx)("span",{className:" text-base font-semibold",children:"NFT"}),children:(0,E.jsx)(l.tw,{handleGetProjectNft:rt})},{key:"rank",label:(0,E.jsx)("span",{className:" text-base font-semibold",children:"排名"}),children:(0,E.jsx)(l.SX,{handleGetProjectNft:rt})},{key:"grow",label:(0,E.jsx)("span",{className:" text-base font-semibold",children:"增长趋势"}),children:(0,E.jsx)(l.Wr,{})},{key:"about",label:(0,E.jsx)("span",{className:" text-base font-semibold",children:"关于"}),children:(0,E.jsx)(l.kh,{})}],defaultActiveKey:"nft"}}),o]})}},8849:function(){}}]);