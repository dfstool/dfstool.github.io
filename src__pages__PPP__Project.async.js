(self.webpackChunk=self.webpackChunk||[]).push([[9430],{6466:function(t,e,n){"use strict";n.d(e,{Z:function(){return w}});var r=n(4942),a=n(1413),s=n(91),o=n(28459),i=n(93967),c=n.n(i),l=n(62435),u=n(63330),d=n(44962),f=n(98082),p=function(t){return(0,r.Z)({},t.componentCls,{display:"flex",flexDirection:"column",justifyContent:"flex-end",marginBlock:t.marginLG,marginInline:0,color:t.colorText,fontWeight:"500",fontSize:"20px",lineHeight:"38px"})};var m=n(86074),h=function(t){var e=t.className,n=t.style,r=void 0===n?{}:n,s=t.children,i=(0,(0,l.useContext)(o.ZP.ConfigContext).getPrefixCls)("pro-card-operation"),u=function(t){return(0,f.Xj)("ProCardOperation",(function(e){var n=(0,a.Z)((0,a.Z)({},e),{},{componentCls:".".concat(t)});return[p(n)]}))}(i),d=u.wrapSSR,h=u.hashId,v=c()(i,e,h);return d((0,m.jsx)("div",{className:v,style:r,children:s}))},v=n(10357),x=function(t){return(0,r.Z)({},t.componentCls,{"&-chart":{display:"flex",flexDirection:"column",marginBlockStart:8,marginBlockEnd:8,"&-left":{marginBlockStart:0,marginInlineEnd:"16px"},"&-right":{marginBlockStart:0,marginInlineStart:"16px"}},"&-content":{display:"flex",flexDirection:"column","&-horizontal":(0,r.Z)({flexDirection:"row"},"".concat(t.componentCls,"-chart"),{alignItems:"center",alignSelf:"flex-start"})},"&-footer":{marginBlockStart:8,paddingBlockStart:"16px",borderBlockStart:"rgba(0, 0, 0, 0.08) solid ".concat(t.colorBorder)}})};var g=["children","statistic","className","chart","chartPlacement","footer"],y=function(t){var e,n=t.children,i=t.statistic,d=t.className,p=t.chart,h=t.chartPlacement,y=t.footer,w=(0,s.Z)(t,g),j=(0,(0,l.useContext)(o.ZP.ConfigContext).getPrefixCls)("pro-statistic-card"),S=function(t){return(0,f.Xj)("StatisticCard",(function(e){var n=(0,a.Z)((0,a.Z)({},e),{},{componentCls:".".concat(t)});return[x(n)]}))}(j),Z=S.wrapSSR,C=S.hashId,b=c()(j,d,C),N=i&&(0,m.jsx)(v.Z,(0,a.Z)({layout:"vertical"},i)),_=c()("".concat(j,"-chart"),C,(e={},(0,r.Z)(e,"".concat(j,"-chart-left"),"left"===h&&p&&i),(0,r.Z)(e,"".concat(j,"-chart-right"),"right"===h&&p&&i),e)),I=p&&(0,m.jsx)("div",{className:_,children:p}),T=c()("".concat(j,"-content "),C,(0,r.Z)({},"".concat(j,"-content-horizontal"),"left"===h||"right"===h)),k=(I||N)&&("left"===h?(0,m.jsxs)("div",{className:T,children:[I,N]}):(0,m.jsxs)("div",{className:T,children:[N,I]})),E=y&&(0,m.jsx)("div",{className:"".concat(j,"-footer ").concat(C).trim(),children:y});return Z((0,m.jsxs)(u.Z,(0,a.Z)((0,a.Z)({className:b},w),{},{children:[k,n,E]})))};y.Statistic=v.Z,y.Divider=d.Z,y.Operation=h,y.isProCard=!0,y.Group=function(t){return(0,m.jsx)(y,(0,a.Z)({bodyStyle:{padding:0}},t))};var w=y},10357:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var r=n(1413),a=n(4942),s=n(91),o=n(25035),i=n(28459),c=n(83062),l=n(40411),u=n(55054),d=n(93967),f=n.n(d),p=n(62435),m=n(98082),h=function(t){var e,n,r;return(0,a.Z)({},t.componentCls,(r={display:"flex",fontSize:t.fontSize,"& + &":{marginBlockStart:4},"&-tip":{marginInlineStart:4},"&-wrapper":(0,a.Z)({display:"flex",width:"100%"},"".concat(t.componentCls,"-status"),{width:"14px"}),"&-icon":{marginInlineEnd:16},"&-trend-icon":{width:0,height:0,borderInlineEnd:"3.5px solid transparent",borderBlockEnd:"9px solid #000",borderInlineStart:"3.5px solid transparent","&-up":{transform:"rotate(0deg)"},"&-down":{transform:"rotate(180deg)"}},"&-content":(0,a.Z)({width:"100%"},"".concat(t.antCls,"-statistic-content"),{"&-value-int":{fontSize:t.fontSizeHeading3}}),"&-description":{width:"100%"}},(0,a.Z)(r,"".concat(t.antCls,"-statistic-title"),{color:t.colorText}),(0,a.Z)(r,"&-trend-up",(0,a.Z)({},"".concat(t.antCls,"-statistic-content"),(0,a.Z)({color:"#f5222d"},"".concat(t.componentCls,"-trend-icon"),{borderBlockEndColor:"#f5222d"}))),(0,a.Z)(r,"&-trend-down",(0,a.Z)({},"".concat(t.antCls,"-statistic-content"),(0,a.Z)({color:"#389e0d"},"".concat(t.componentCls,"-trend-icon"),{borderBlockEndColor:"#52c41a"}))),(0,a.Z)(r,"& &-layout-horizontal",(e={display:"flex",justifyContent:"space-between"},(0,a.Z)(e,"".concat(t.antCls,"-statistic-title"),{marginBlockEnd:0}),(0,a.Z)(e,"".concat(t.antCls,"-statistic-content-value"),{fontWeight:500}),(0,a.Z)(e,"".concat(t.antCls,"-statistic-title,").concat(t.antCls,"-statistic-content,").concat(t.antCls,"-statistic-content-suffix,").concat(t.antCls,"-statistic-content-prefix,").concat(t.antCls,"-statistic-content-value-decimal"),{fontSize:t.fontSize}),e)),(0,a.Z)(r,"& &-layout-inline",(n={display:"inline-flex",color:t.colorTextSecondary},(0,a.Z)(n,"".concat(t.antCls,"-statistic-title"),{marginInlineEnd:"6px",marginBlockEnd:0}),(0,a.Z)(n,"".concat(t.antCls,"-statistic-content"),{color:t.colorTextSecondary}),(0,a.Z)(n,"".concat(t.antCls,"-statistic-title,").concat(t.antCls,"-statistic-content,").concat(t.antCls,"-statistic-content-suffix,").concat(t.antCls,"-statistic-content-prefix,").concat(t.antCls,"-statistic-content-value-decimal"),{fontSize:t.fontSizeSM}),n)),r))};var v=n(86074),x=["className","layout","style","description","children","title","tip","status","trend","prefix","icon"],g=function(t){var e,n=t.className,d=t.layout,g=void 0===d?"inline":d,y=t.style,w=t.description,j=(t.children,t.title),S=t.tip,Z=t.status,C=t.trend,b=t.prefix,N=t.icon,_=(0,s.Z)(t,x),I=(0,(0,p.useContext)(i.ZP.ConfigContext).getPrefixCls)("pro-card-statistic"),T=function(t){return(0,m.Xj)("Statistic",(function(e){var n=(0,r.Z)((0,r.Z)({},e),{},{componentCls:".".concat(t)});return[h(n)]}))}(I),k=T.wrapSSR,E=T.hashId,M=f()(I,n,E),z=f()("".concat(I,"-status"),E),D=f()("".concat(I,"-icon"),E),O=f()("".concat(I,"-wrapper"),E),B=f()("".concat(I,"-content"),E),P=f()(E,(e={},(0,a.Z)(e,"".concat(I,"-layout-").concat(g),g),(0,a.Z)(e,"".concat(I,"-trend-").concat(C),C),e)),R=S&&(0,v.jsx)(c.Z,{title:S,children:(0,v.jsx)(o.Z,{className:"".concat(I,"-tip ").concat(E).trim()})}),U=f()("".concat(I,"-trend-icon"),E,(0,a.Z)({},"".concat(I,"-trend-icon-").concat(C),C)),H=C&&(0,v.jsx)("div",{className:U}),L=Z&&(0,v.jsx)("div",{className:z,children:(0,v.jsx)(l.Z,{status:Z,text:null})}),Y=N&&(0,v.jsx)("div",{className:D,children:N});return k((0,v.jsxs)("div",{className:M,style:y,children:[Y,(0,v.jsxs)("div",{className:O,children:[L,(0,v.jsxs)("div",{className:B,children:[(0,v.jsx)(u.Z,(0,r.Z)({title:(j||R)&&(0,v.jsxs)(v.Fragment,{children:[j,R]}),prefix:(H||b)&&(0,v.jsxs)(v.Fragment,{children:[H,b]}),className:P},_)),w&&(0,v.jsx)("div",{className:"".concat(I,"-description ").concat(E).trim(),children:w})]})]})]}))}},30867:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(62435),a=n(75633),s=n(5574),o=n.n(s),i=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function c(t,e){var n=e.format,r=void 0===n?"":n,a=new Date(t).getTime(),s=Date.now();return function(t,e){var n=t,r=/\[[^\]]*]/g,a=(e.match(r)||[]).map((function(t){return t.slice(1,-1)})),s=e.replace(r,"[]"),c=i.reduce((function(t,e){var r=o()(e,2),a=r[0],s=r[1];if(t.includes(a)){var i=Math.floor(n/s);return n-=i*s,t.replace(new RegExp("".concat(a,"+"),"g"),(function(t){var e=t.length;return i.toString().padStart(e,"0")}))}return t}),s),l=0;return c.replace(r,(function(){var t=a[l];return l+=1,t}))}(Math.max(a-s,0),r)}var l=n(51409),u=n(86074);var d=function(t){var e=t.value,n=t.format,s=void 0===n?"HH:mm:ss":n,o=t.onChange,i=t.onFinish,d=t.className,f=(0,a.N)(),p=r.useRef(null),m=function(){var t=function(t){return new Date(t).getTime()}(e);t>=Date.now()&&(p.current=(0,l.Zi)((function(){f(),null==o||o(t-Date.now()),t<Date.now()&&(null==i||i(),p.current&&((0,l.cv)(p.current),p.current=null))}),33.333333333333336))};return r.useEffect((function(){return m(),function(){p.current&&((0,l.cv)(p.current),p.current=null)}}),[e]),(0,u.jsx)("div",{className:d,children:c(e,{format:s})})},f=r.memo(d)},53033:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return M}});var r=n(15009),a=n.n(r),s=n(99289),o=n.n(s),i=n(5574),c=n.n(i),l=n(64119),u=n(40956),d=n(11774),f=n(38345),p=n(6466),m=n(92340),h=n(59530),v=n(80507),x=n(45360),g=n(7134),y=n(34041),w=n(57953),j=n(71230),S=n(15746),Z=n(27484),C=n.n(Z),b=n(70178),N=n.n(b),_=n(62435),I=n(9669),T=n.n(I),k=n(30867),E=n(86074);C().extend(N());var M=function(){var t=(0,h.useDispatch)(),e=(0,h.useNavigate)(),n=x.ZP.useMessage(),r=c()(n,2),s=r[0],i=(r[1],(0,h.useSelector)((function(t){return t.global.contractKit}))),Z=((0,h.useSelector)((function(t){return t.global.account})),(0,h.useSelector)((function(t){return t.global.session}))),b=((0,h.useSelector)((function(t){return t.global.privateKey})),(0,h.useSelector)((function(t){return t.ppp.vipAccounts})),(0,h.useSelector)((function(t){return t.ppp.accessAccounts})),(0,h.useSelector)((function(t){return t.ppp.projectOptions}))),N=((0,h.useSelector)((function(t){return t.ppp.stats})),(0,h.useSelector)((function(t){return t.ppp.projects})),(0,_.useState)(!1)),I=c()(N,2),M=(I[0],I[1],(0,_.useState)("")),z=c()(M,2),D=(z[0],z[1],(0,_.useState)(!1)),O=c()(D,2),B=O[0],P=O[1],R=(0,_.useState)(!1),U=c()(R,2),H=U[0],L=U[1],Y=(0,_.useState)([]),q=c()(Y,2),F=q[0],A=q[1],W=(0,_.useState)(0),X=c()(W,2),G=X[0],K=X[1],J=(0,_.useState)(0),Q=c()(J,2),V=Q[0],$=Q[1],tt=(0,_.useState)(0),et=c()(tt,2),nt=et[0],rt=et[1],at=(0,_.useState)(0),st=c()(at,2),ot=st[0],it=st[1],ct=(0,_.useState)(0),lt=c()(ct,2),ut=lt[0],dt=lt[1],ft=(0,_.useState)(0),pt=c()(ft,2),mt=pt[0],ht=pt[1],vt=(0,_.useState)([]),xt=c()(vt,2),gt=xt[0],yt=xt[1],wt=(0,h.useIntl)(),jt=(wt.formatMessage({id:"coffee.inputException"}),wt.formatMessage({id:"common.intlPleaseConnectWallet"}),wt.formatMessage({id:"common.intlPleaseConnectNetwork"}),(0,_.useCallback)(function(){var e=o()(a()().mark((function e(n){var r,o,i,c,d,f,p,m,h;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.load("dfs3protocol");case 3:return r=e.sent,o=r.table("projects"),i=r.table("stat"),e.next=8,o.all({scope:"dfs3protocol"});case 8:return c=e.sent,e.next=11,i.all({scope:"dfs3protocol"});case 11:return d=e.sent,e.next=14,T().get("https://api.dfs.land/dfschain/pppvolume2");case 14:200!==(f=e.sent).status&&s.error("获取pppvolume2数据失败"),p=f.data,m=[],c.forEach((function(t){p.hasOwnProperty(t.id.toString())&&m.push(t)})),m.sort((function(t,e){var n=t.id.toString(),r=e.id.toString();return p[r].volume_24h-p[n].volume_24h})),h=[],m.forEach((function(t){var e=t.nft_img,n=t.id.toString(),r=t.project_name,a=t.creator.toString();h.push({value:n,label:(0,E.jsxs)("div",{className:"flex items-center",children:[(0,E.jsx)("div",{className:"mr-2",children:n.padStart(3,"0")}),(0,E.jsx)(g.C,{className:"mr-2",size:"default",src:e}),(0,E.jsxs)("div",{children:[r," @",a]})]}),desc:"".concat(n,"-").concat(r,"-").concat(a,"-").concat(e)})})),t(u.N.setProjectOptions(h)),t(u.N.setStats(d)),t(u.N.setProjects(c)),P(!1),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),P(!1),(0,l.Tv)(e.t0,s);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}(),[])),St=(0,_.useCallback)(function(){var t=o()(a()().mark((function t(e){var n,r,o,c,u,d,f,p,m,h,x,g,y,w,j,S,b,N,_;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(!0),t.next=4,Z.client.v1.chain.get_table_rows({code:"dfs3protocol",table:"registry",scope:"dfs3protocol",key_type:"i64",index_position:"secondary",lower_bound:v.zM.from(e),upper_bound:v.zM.from(e),limit:5e3});case 4:return n=t.sent,t.next=7,i.load("dfs3protocol");case 7:return r=t.sent,o=r.table("projects"),c=r.table("stat"),t.next=12,o.all({scope:"dfs3protocol",from:e,to:e});case 12:return u=t.sent,t.next=15,c.all({scope:"dfs3protocol",from:e,to:e});case 15:d=t.sent,f=u[0],p=f.sec_per_round.toNumber(),m=f.sec_to_burn_nft.toNumber(),h=C().utc(f.last_round.toString()).valueOf(),x=f.init_nft_price.value,g=0,y=0,w=0,j=0,S=[],b=[],N=[],n.rows.forEach((function(t,e){var n=C()().valueOf(),r=C().utc(t.last_trade).valueOf(),a=1e3*m,s=1e3*p,o="";Number(t.current_price.split(" ")[0])>=2*x?(j+=1,o="可拆分"):(n-r>a&&(g+=1,o="可销毁"),h>r||n-h>s?(y+=1,o=o?"可买/"+o:"可买"):(w+=1,o="已售")),b.includes(t.owner)||b.push(t.owner),S.push({key:e,id:t.id,cid:t.cid,pid:t.pid,owner:t.owner,current_round:t.current_round,current_price:t.current_price,last_trade:t.last_trade,create_time:t.create_time,status:o})})),b.sort(),b.forEach((function(t){N.push({text:t,value:t})})),S.sort((function(t,e){return C()(t.last_trade).valueOf()-C()(e.last_trade).valueOf()})),_=d[0],ht(m),K(_.supply.toNumber()),it(g),$(y),rt(w),dt(j),A(S),L(!1),yt(N),t.next=48;break;case 44:t.prev=44,t.t0=t.catch(0),L(!1),(0,l.Tv)(t.t0,s);case 48:case"end":return t.stop()}}),t,null,[[0,44]])})));return function(e){return t.apply(this,arguments)}}(),[Z,i]),Zt=(0,_.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",render:function(t,e,n){return(0,E.jsx)("span",{children:n+1})}},{title:"ID",dataIndex:"id",key:"id",render:function(t,e){return(0,E.jsx)("div",{children:e.id})}},{title:"CID",dataIndex:"cid",key:"cid",render:function(t,e){return(0,E.jsxs)("div",{children:["#",e.cid]})}},{title:"状态",dataIndex:"status",key:"status",filters:[{text:"可买",value:"buy"},{text:"已售",value:"sell"},{text:"可拆分",value:"split"},{text:"可销毁",value:"burn"}],onFilter:function(t,e){return"buy"===t?e.status.includes("可买"):"sell"===t?"已售"===e.status:"split"===t?"可拆分"===e.status:"burn"!==t||e.status.includes("可销毁")},sorter:function(t,e){return t.status.localeCompare(e.status)},render:function(t,e){return(0,E.jsx)("div",{children:e.status})}},{title:"持有者",dataIndex:"owner",key:"owner",filters:gt,onFilter:function(t,e){return t===e.owner},sorter:function(t,e){return t.owner.localeCompare(e.owner)},render:function(t,n){return(0,E.jsx)("a",{onClick:function(){return e("/query/account?search=".concat(n.owner,"&tab=info"))},children:n.owner})}},{title:"当前价格",dataIndex:"current_price",key:"current_price",sorter:function(t,e){return t.current_price.localeCompare(e.current_price)},render:function(t,e){return(0,E.jsx)("div",{children:e.current_price})}},{title:"购买时间",dataIndex:"last_trade",key:"last_trade",sorter:function(t,e){return C()(t.last_trade).valueOf()-C()(e.last_trade).valueOf()},render:function(t,e){var n=C().utc(e.last_trade).local().format("YYYY-MM-DDTHH:mm:ss");return(0,E.jsx)("div",{children:n})}},{title:"销毁时间",dataIndex:"last_trade",key:"last_trade",sorter:function(t,e){return C()(t.last_trade).valueOf()-C()(e.last_trade).valueOf()},render:function(t,e){var n=C().utc(e.last_trade).add(mt,"seconds").local().format("YYYY-MM-DDTHH:mm:ss");return(0,E.jsx)("div",{children:n})}},{title:"销毁倒计时",dataIndex:"last_trade",key:"last_trade",render:function(t,e){var n=C().utc(e.last_trade).add(mt,"seconds").local().valueOf();return(0,E.jsx)(k.Z,{value:n})}}]}),[F,mt,gt]);return(0,_.useEffect)((function(){!i||b.length||B||(P(!0),jt(i))}),[jt,b,i,B]),(0,E.jsxs)(d._z,{className:"projects",ghost:!0,children:[(0,E.jsx)(y.default,{loading:B,size:"large",style:{width:"100%"},className:"mb-3",onChange:function(t){St(Number(t))},placeholder:"请选择项目",showSearch:!0,filterOption:function(t,e){var n=e.desc.split("-"),r=c()(n,3),a=r[0],s=r[1],o=r[2];return(a.padStart(3,"0")+s+o).toLowerCase().includes(t.toLowerCase())},options:b,optionRender:function(t){var e=t.data.desc.split("-"),n=c()(e,4),r=n[0],a=n[1],s=n[2],o=n[3];return(0,E.jsxs)("div",{className:"flex items-center",children:[(0,E.jsx)("div",{className:"mr-2",children:r.padStart(3,"0")}),(0,E.jsx)(g.C,{className:"mr-2",size:"default",src:o}),(0,E.jsxs)("div",{children:[a," @",s]})]})}}),(0,E.jsx)(w.Z,{size:"large",spinning:H,children:(0,E.jsx)(f.Z,{headerBordered:!0,headStyle:{justifyContent:"center"},className:"mb-3",children:(0,E.jsxs)(j.Z,{gutter:10,children:[(0,E.jsx)(S.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,E.jsx)(p.Z,{layout:"center",statistic:{title:(0,E.jsx)("div",{className:"text-center",children:"总量"}),value:G}})}),(0,E.jsx)(S.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,E.jsx)(p.Z,{layout:"center",statistic:{title:(0,E.jsx)("div",{className:"text-center",children:"可买 / 已售"}),value:"".concat(V," / ").concat(nt)}})}),(0,E.jsx)(S.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,E.jsx)(p.Z,{layout:"center",statistic:{title:(0,E.jsx)("div",{className:"text-center",children:"可拆分"}),value:ut}})}),(0,E.jsx)(S.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,E.jsx)(p.Z,{layout:"center",statistic:{title:(0,E.jsx)("div",{className:"text-center",children:"可销毁"}),value:ot}})})]})})}),(0,E.jsx)(m.Z,{loading:{spinning:H,size:"large"},scroll:{x:!0},size:"small",columns:Zt,dataSource:F,defaultData:[],search:!1,options:!1,pagination:!1})]})}},76650:function(t,e){!function(t){"use strict";var e=function(t){return function(e){var n=t(e);return e.add(n),n}},n=function(t){return function(e,n){return t.set(e,n),n}},r=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,a=536870912,s=2*a,o=function(t,e){return function(n){var o=e.get(n),i=void 0===o?n.size:o<s?o+1:0;if(!n.has(i))return t(n,i);if(n.size<a){for(;n.has(i);)i=Math.floor(Math.random()*s);return t(n,i)}if(n.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(i);)i=Math.floor(Math.random()*r);return t(n,i)}},i=new WeakMap,c=n(i),l=o(c,i),u=e(l);t.addUniqueNumber=u,t.generateUniqueNumber=l}(e)},51409:function(t,e,n){"use strict";n.d(e,{cv:function(){return s},gr:function(){return o},Zi:function(){return i},iK:function(){return c}});var r=n(76650);const a=((t,e)=>{let n=null;return()=>{if(null!==n)return n;const r=new Blob([e],{type:"application/javascript; charset=utf-8"}),a=URL.createObjectURL(r);return n=t(a),setTimeout((()=>URL.revokeObjectURL(a))),n}})((t=>{const e=new Map([[0,()=>{}]]),n=new Map([[0,()=>{}]]),a=new Map,s=new Worker(t);s.addEventListener("message",(({data:t})=>{if(void 0!==(r=t).method&&"call"===r.method){const{params:{timerId:r,timerType:s}}=t;if("interval"===s){const t=e.get(r);if(void 0===typeof t)throw new Error("The timer is in an undefined state.");if("number"==typeof t){const e=a.get(t);if(void 0===e||e.timerId!==r||e.timerType!==s)throw new Error("The timer is in an undefined state.")}else"function"==typeof t&&t()}else if("timeout"===s){const t=n.get(r);if(void 0===typeof t)throw new Error("The timer is in an undefined state.");if("number"==typeof t){const e=a.get(t);if(void 0===e||e.timerId!==r||e.timerType!==s)throw new Error("The timer is in an undefined state.")}else"function"==typeof t&&(t(),n.delete(r))}}else{if(!(t=>"number"==typeof t.id&&"boolean"==typeof t.result)(t)){const{error:{message:e}}=t;throw new Error(e)}{const{id:r}=t,s=a.get(r);if(void 0===s)throw new Error("The timer is in an undefined state.");const{timerId:o,timerType:i}=s;a.delete(r),"interval"===i?e.delete(o):n.delete(o)}}var r}));return{clearInterval:t=>{if("function"==typeof e.get(t)){const n=(0,r.generateUniqueNumber)(a);a.set(n,{timerId:t,timerType:"interval"}),e.set(t,n),s.postMessage({id:n,method:"clear",params:{timerId:t,timerType:"interval"}})}},clearTimeout:t=>{if("function"==typeof n.get(t)){const e=(0,r.generateUniqueNumber)(a);a.set(e,{timerId:t,timerType:"timeout"}),n.set(t,e),s.postMessage({id:e,method:"clear",params:{timerId:t,timerType:"timeout"}})}},setInterval:(t,n=0,...a)=>{const o=(0,r.generateUniqueNumber)(e);return e.set(o,(()=>{t(...a),"function"==typeof e.get(o)&&s.postMessage({id:null,method:"set",params:{delay:n,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"interval"}})})),s.postMessage({id:null,method:"set",params:{delay:n,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"interval"}}),o},setTimeout:(t,e=0,...a)=>{const o=(0,r.generateUniqueNumber)(n);return n.set(o,(()=>t(...a))),s.postMessage({id:null,method:"set",params:{delay:e,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"timeout"}}),o}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(({data:n})=>{try{if("clear"===n.method){const{id:e,params:{timerId:t,timerType:o}}=n;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error(\'The given type "\'.concat(o,\'" is not supported\'));postMessage({id:e,result:s(t)})}}else{if("set"!==n.method)throw new Error(\'The given method "\'.concat(n.method,\'" is not supported\'));{const{params:{delay:r,now:s,timerId:a,timerType:m}}=n;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,a,s);else{if("timeout"!==m)throw new Error(\'The given type "\'.concat(m,\'" is not supported\'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,a,s)}}}}catch(e){postMessage({error:{message:e.message},id:n.id,result:null})}}))})();'),s=t=>a().clearInterval(t),o=t=>a().clearTimeout(t),i=(...t)=>a().setInterval(...t),c=(...t)=>a().setTimeout(...t)}}]);