"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2474],{86615:function(e,t,r){var o=r(1413),n=r(91),u=r(22270),s=r(55742),i=r(62435),l=r(90789),a=r(56499),c=r(86074),d=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],p=i.forwardRef((function(e,t){var r=e.fieldProps,s=e.options,i=e.radioType,l=e.layout,p=e.proFieldProps,f=e.valueEnum,m=(0,n.Z)(e,d);return(0,c.jsx)(a.Z,(0,o.Z)((0,o.Z)({valueType:"button"===i?"radioButton":"radio",ref:t,valueEnum:(0,u.h)(f,void 0)},m),{},{fieldProps:(0,o.Z)({options:s,layout:l},r),proFieldProps:p,filedConfig:{customLightMode:!0}}))})),f=i.forwardRef((function(e,t){var r=e.fieldProps,n=e.children;return(0,c.jsx)(s.ZP,(0,o.Z)((0,o.Z)({},r),{},{ref:t,children:n}))})),m=(0,l.G)(f,{valuePropName:"checked",ignoreWidth:!0});m.Group=p,m.Button=s.ZP.Button,m.displayName="ProFormComponent",t.Z=m},5715:function(e,t,r){r.r(t);var o=r(15009),n=r.n(o),u=r(97857),s=r.n(u),i=r(99289),l=r.n(i),a=r(5574),c=r.n(a),d=r(90837),p=r(11774),f=r(38345),m=r(97269),h=r(86615),v=r(5966),g=r(59530),x=r(45360),P=r(62435),b=r(86074);t.default=function(){var e=(0,g.useDispatch)(),t=x.ZP.useMessage(),r=c()(t,2),o=r[0],u=r[1],i=(0,P.useState)(!0),a=c()(i,2),w=a[0],y=a[1],Z=(0,P.useState)(!1),j=c()(Z,2),F=j[0],N=j[1],S=(0,g.useSelector)((function(e){return e.global.chain})),k=(0,g.useSelector)((function(e){return e.global.node})),C=(0,g.useSelector)((function(e){return e.global.nodes})),M=(0,g.useIntl)(),E=M.formatMessage({id:"tools.rpc.intlNodeSwitch"}),V=M.formatMessage({id:"common.intlInputException"}),R=M.formatMessage({id:"tools.rpc.intlSwitchSuccess"}),z=M.formatMessage({id:"tools.rpc.intlCustom"}),B=(0,P.useRef)(),G=(0,P.useMemo)((function(){var e=[],t=S.id.toString();return C[t].forEach((function(t){e.push({label:(0,b.jsx)("div",{className:"mb-2 mt-2 ml-1 text-lg",children:t.label}),value:t.value})})),e.push({label:(0,b.jsx)("div",{className:"mt-2 ml-1 text-lg",children:z}),value:"custom"}),e}),[S,C]),T=(0,P.useCallback)(function(){var t=l()(n()().mark((function t(r){var u,i;return n()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=S.id.toString(),i={},"custom"===r.radio?i[u]={url:r.input,custom:!0}:i[u]={url:r.radio,custom:!1},e(k?d.N.setNode(s()(s()({},k),i)):d.N.setNode(i)),o.success(R),window.location.reload(),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[S,k]);return(0,P.useEffect)((function(){var e,t,r,o,n,u=S.id.toString();k&&k.hasOwnProperty(u)?k[u].custom?(y(!1),N(!0),null===(e=B.current)||void 0===e||e.setFieldValue("radio","custom"),null===(t=B.current)||void 0===t||t.setFieldValue("input",k[u].url)):G.find((function(e){return e.value===k[u].url}))?null===(r=B.current)||void 0===r||r.setFieldValue("radio",k[u].url):null===(o=B.current)||void 0===o||o.setFieldValue("radio",S.url):null===(n=B.current)||void 0===n||n.setFieldValue("radio",S.url)}),[S,k,C,G]),(0,b.jsx)(p._z,{className:"",ghost:!0,children:(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)(f.Z,{title:(0,b.jsx)("div",{children:(0,b.jsx)("span",{className:" font-semibold",children:E})}),style:{width:"450px"},children:(0,b.jsxs)(m.A,{formRef:B,onFinish:T,layout:"vertical",submitter:{render:function(e,t){return[t[1]]}},onValuesChange:function(e){var t;e.hasOwnProperty("radio")&&("custom"===e.radio?w&&(y(!1),N(!0)):w||(y(!0),N(!1),null===(t=B.current)||void 0===t||t.resetFields(["custom"])))},children:[(0,b.jsx)(h.Z.Group,{name:"radio",layout:"vertical",fieldProps:{size:"large"},options:G}),(0,b.jsx)(v.Z,{name:"input",placeholder:"https://...",disabled:w,rules:[{required:F,message:"".concat(V),whitespace:!0,pattern:/^((https|http)?:\/\/)[^\s]+/}],fieldProps:{size:"large",autoFocus:!1}}),u]})})})})}}}]);