"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2474],{40152:function(e,r,t){t.r(r),t.d(r,{default:function(){return E}});var o=t(15009),n=t.n(o),u=t(97857),s=t.n(u),i=t(99289),l=t.n(i),a=t(5574),c=t.n(a),d=t(90837),p=t(11774),f=t(38345),m=t(97269),h=t(1413),v=t(91),w=t(22270),g=t(55742),x=t(62435),P=t(90789),b=t(56499),y=t(86074),Z=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],j=x.forwardRef((function(e,r){var t=e.fieldProps,o=e.options,n=e.radioType,u=e.layout,s=e.proFieldProps,i=e.valueEnum,l=(0,v.Z)(e,Z);return(0,y.jsx)(b.Z,(0,h.Z)((0,h.Z)({valueType:"button"===n?"radioButton":"radio",ref:r,valueEnum:(0,w.h)(i,void 0)},l),{},{fieldProps:(0,h.Z)({options:o,layout:u},t),proFieldProps:s,filedConfig:{customLightMode:!0}}))})),N=x.forwardRef((function(e,r){var t=e.fieldProps,o=e.children;return(0,y.jsx)(g.ZP,(0,h.Z)((0,h.Z)({},t),{},{ref:r,children:o}))})),F=(0,P.G)(N,{valuePropName:"checked",ignoreWidth:!0});F.Group=j,F.Button=g.ZP.Button,F.displayName="ProFormComponent";var S=F,k=t(5966),C=t(59530),M=t(45360),E=function(){var e=(0,C.useDispatch)(),r=M.ZP.useMessage(),t=c()(r,2),o=t[0],u=t[1],i=(0,x.useState)(!0),a=c()(i,2),h=a[0],v=a[1],w=(0,x.useState)(!1),g=c()(w,2),P=g[0],b=g[1],Z=(0,C.useSelector)((function(e){return e.global.chain})),j=(0,C.useSelector)((function(e){return e.global.node})),N=(0,C.useSelector)((function(e){return e.global.nodes})),F=(0,C.useIntl)(),E=F.formatMessage({id:"tools.rpc.intlNodeSwitch"}),V=F.formatMessage({id:"common.intlInputException"}),z=F.formatMessage({id:"tools.rpc.intlSwitchSuccess"}),R=F.formatMessage({id:"tools.rpc.intlCustom"}),A=(0,x.useRef)(),B=(0,x.useMemo)((function(){var e=[],r=Z.id.toString();return N[r].forEach((function(r){e.push({label:(0,y.jsx)("div",{className:"mb-2 mt-2 ml-1 text-lg",children:r.label}),value:r.value})})),e.push({label:(0,y.jsx)("div",{className:"mt-2 ml-1 text-lg",children:R}),value:"custom"}),e}),[Z,N]),G=(0,x.useCallback)(function(){var r=l()(n()().mark((function r(t){var u,i;return n()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=Z.id.toString(),i={},"custom"===t.radio?i[u]={url:t.input,custom:!0}:i[u]={url:t.radio,custom:!1},e(j?d.N.setNode(s()(s()({},j),i)):d.N.setNode(i)),o.success(z),window.location.reload(),r.abrupt("return",!0);case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[Z,j]);return(0,x.useEffect)((function(){var e,r,t,o,n,u=Z.id.toString();j&&j.hasOwnProperty(u)?j[u].custom?(v(!1),b(!0),null===(e=A.current)||void 0===e||e.setFieldValue("radio","custom"),null===(r=A.current)||void 0===r||r.setFieldValue("input",j[u].url)):B.find((function(e){return e.value===j[u].url}))?null===(t=A.current)||void 0===t||t.setFieldValue("radio",j[u].url):null===(o=A.current)||void 0===o||o.setFieldValue("radio",Z.url):null===(n=A.current)||void 0===n||n.setFieldValue("radio",Z.url)}),[Z,j,N,B]),(0,y.jsx)(p._z,{className:"",ghost:!0,children:(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)(f.Z,{title:(0,y.jsx)("div",{children:(0,y.jsx)("span",{className:" font-semibold",children:E})}),style:{width:"450px"},children:(0,y.jsxs)(m.A,{formRef:A,onFinish:G,layout:"vertical",submitter:{render:function(e,r){return[r[1]]}},onValuesChange:function(e){var r;e.hasOwnProperty("radio")&&("custom"===e.radio?h&&(v(!1),b(!0)):h||(v(!0),b(!1),null===(r=A.current)||void 0===r||r.resetFields(["custom"])))},children:[(0,y.jsx)(S.Group,{name:"radio",layout:"vertical",fieldProps:{size:"large"},options:B}),(0,y.jsx)(k.Z,{name:"input",placeholder:"https://...",disabled:h,rules:[{required:P,message:"".concat(V),whitespace:!0,pattern:/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/}],fieldProps:{size:"large"}}),u]})})})})}}}]);