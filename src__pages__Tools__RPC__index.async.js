"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2474],{40152:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var o=r(15009),n=r.n(o),u=r(97857),s=r.n(u),i=r(99289),l=r.n(i),a=r(5574),c=r.n(a),d=r(90837),p=r(11774),f=r(38345),m=r(97269),h=r(1413),v=r(91),w=r(22270),g=r(55742),x=r(62435),P=r(90789),b=r(56499),y=r(86074),Z=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],j=x.forwardRef((function(e,t){var r=e.fieldProps,o=e.options,n=e.radioType,u=e.layout,s=e.proFieldProps,i=e.valueEnum,l=(0,v.Z)(e,Z);return(0,y.jsx)(b.Z,(0,h.Z)((0,h.Z)({valueType:"button"===n?"radioButton":"radio",ref:t,valueEnum:(0,w.h)(i,void 0)},l),{},{fieldProps:(0,h.Z)({options:o,layout:u},r),proFieldProps:s,filedConfig:{customLightMode:!0}}))})),F=x.forwardRef((function(e,t){var r=e.fieldProps,o=e.children;return(0,y.jsx)(g.ZP,(0,h.Z)((0,h.Z)({},r),{},{ref:t,children:o}))})),N=(0,P.G)(F,{valuePropName:"checked",ignoreWidth:!0});N.Group=j,N.Button=g.ZP.Button,N.displayName="ProFormComponent";var S=N,k=r(5966),C=r(59530),M=r(45360),E=function(){var e=(0,C.useDispatch)(),t=M.ZP.useMessage(),r=c()(t,2),o=r[0],u=r[1],i=(0,x.useState)(!0),a=c()(i,2),h=a[0],v=a[1],w=(0,x.useState)(!1),g=c()(w,2),P=g[0],b=g[1],Z=(0,C.useSelector)((function(e){return e.global.chain})),j=(0,C.useSelector)((function(e){return e.global.node})),F=(0,C.useSelector)((function(e){return e.global.nodes})),N=(0,C.useIntl)(),E=N.formatMessage({id:"tools.rpc.intlNodeSwitch"}),V=N.formatMessage({id:"common.intlInputException"}),z=N.formatMessage({id:"tools.rpc.intlSwitchSuccess"}),R=N.formatMessage({id:"tools.rpc.intlCustom"}),A=(0,x.useRef)(),B=(0,x.useMemo)((function(){var e=[],t=Z.id.toString();return F[t].forEach((function(t){e.push({label:(0,y.jsx)("div",{className:"mb-2 mt-2 ml-1 text-lg",children:t.label}),value:t.value})})),e.push({label:(0,y.jsx)("div",{className:"mt-2 ml-1 text-lg",children:R}),value:"custom"}),e}),[Z,F]),G=(0,x.useCallback)(function(){var t=l()(n()().mark((function t(r){var u,i;return n()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=Z.id.toString(),i={},"custom"===r.radio?i[u]={url:r.input,custom:!0}:i[u]={url:r.radio,custom:!1},e(j?d.N.setNode(s()(s()({},j),i)):d.N.setNode(i)),o.success(z),window.location.reload(),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[Z,j]);return(0,x.useEffect)((function(){var e,t,r,o,n,u=Z.id.toString();j&&j.hasOwnProperty(u)?j[u].custom?(v(!1),b(!0),null===(e=A.current)||void 0===e||e.setFieldValue("radio","custom"),null===(t=A.current)||void 0===t||t.setFieldValue("input",j[u].url)):B.find((function(e){return e.value===j[u].url}))?null===(r=A.current)||void 0===r||r.setFieldValue("radio",j[u].url):null===(o=A.current)||void 0===o||o.setFieldValue("radio",Z.url):null===(n=A.current)||void 0===n||n.setFieldValue("radio",Z.url)}),[Z,j,F,B]),(0,y.jsx)(p._z,{className:"",ghost:!0,children:(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)(f.Z,{title:(0,y.jsx)("div",{children:(0,y.jsx)("span",{className:" font-semibold",children:E})}),style:{width:"450px"},children:(0,y.jsxs)(m.A,{formRef:A,onFinish:G,layout:"vertical",submitter:{render:function(e,t){return[t[1]]}},onValuesChange:function(e){var t;e.hasOwnProperty("radio")&&("custom"===e.radio?h&&(v(!1),b(!0)):h||(v(!0),b(!1),null===(t=A.current)||void 0===t||t.resetFields(["custom"])))},children:[(0,y.jsx)(S.Group,{name:"radio",layout:"vertical",fieldProps:{size:"large"},options:B}),(0,y.jsx)(k.Z,{name:"input",placeholder:"https://...",disabled:h,rules:[{required:P,message:"".concat(V),whitespace:!0,pattern:/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/}],fieldProps:{size:"large",autoFocus:!1}}),u]})})})})}}}]);