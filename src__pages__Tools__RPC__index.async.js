"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2474],{40152:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var o=r(15009),n=r.n(o),u=r(97857),s=r.n(u),i=r(99289),l=r.n(i),a=r(5574),c=r.n(a),d=r(90837),p=r(11774),f=r(38345),m=r(97269),h=r(1413),v=r(91),g=r(22270),x=r(55742),P=r(62435),b=r(90789),w=r(56499),y=r(86074),j=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],F=P.forwardRef((function(e,t){var r=e.fieldProps,o=e.options,n=e.radioType,u=e.layout,s=e.proFieldProps,i=e.valueEnum,l=(0,v.Z)(e,j);return(0,y.jsx)(w.Z,(0,h.Z)((0,h.Z)({valueType:"button"===n?"radioButton":"radio",ref:t,valueEnum:(0,g.h)(i,void 0)},l),{},{fieldProps:(0,h.Z)({options:o,layout:u},r),proFieldProps:s,filedConfig:{customLightMode:!0}}))})),N=P.forwardRef((function(e,t){var r=e.fieldProps,o=e.children;return(0,y.jsx)(x.ZP,(0,h.Z)((0,h.Z)({},r),{},{ref:t,children:o}))})),Z=(0,b.G)(N,{valuePropName:"checked",ignoreWidth:!0});Z.Group=F,Z.Button=x.ZP.Button,Z.displayName="ProFormComponent";var S=Z,k=r(5966),C=r(59530),M=r(45360),E=function(){var e=(0,C.useDispatch)(),t=M.ZP.useMessage(),r=c()(t,2),o=r[0],u=r[1],i=(0,P.useState)(!0),a=c()(i,2),h=a[0],v=a[1],g=(0,P.useState)(!1),x=c()(g,2),b=x[0],w=x[1],j=(0,C.useSelector)((function(e){return e.global.chain})),F=(0,C.useSelector)((function(e){return e.global.node})),N=(0,C.useSelector)((function(e){return e.global.nodes})),Z=(0,C.useIntl)(),E=Z.formatMessage({id:"tools.rpc.intlNodeSwitch"}),V=Z.formatMessage({id:"common.intlInputException"}),R=Z.formatMessage({id:"tools.rpc.intlSwitchSuccess"}),z=Z.formatMessage({id:"tools.rpc.intlCustom"}),B=(0,P.useRef)(),G=(0,P.useMemo)((function(){var e=[],t=j.id.toString();return N[t].forEach((function(t){e.push({label:(0,y.jsx)("div",{className:"mb-2 mt-2 ml-1 text-lg",children:t.label}),value:t.value})})),e.push({label:(0,y.jsx)("div",{className:"mt-2 ml-1 text-lg",children:z}),value:"custom"}),e}),[j,N]),T=(0,P.useCallback)(function(){var t=l()(n()().mark((function t(r){var u,i;return n()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=j.id.toString(),i={},"custom"===r.radio?i[u]={url:r.input,custom:!0}:i[u]={url:r.radio,custom:!1},e(F?d.N.setNode(s()(s()({},F),i)):d.N.setNode(i)),o.success(R),window.location.reload(),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[j,F]);return(0,P.useEffect)((function(){var e,t,r,o,n,u=j.id.toString();F&&F.hasOwnProperty(u)?F[u].custom?(v(!1),w(!0),null===(e=B.current)||void 0===e||e.setFieldValue("radio","custom"),null===(t=B.current)||void 0===t||t.setFieldValue("input",F[u].url)):G.find((function(e){return e.value===F[u].url}))?null===(r=B.current)||void 0===r||r.setFieldValue("radio",F[u].url):null===(o=B.current)||void 0===o||o.setFieldValue("radio",j.url):null===(n=B.current)||void 0===n||n.setFieldValue("radio",j.url)}),[j,F,N,G]),(0,y.jsx)(p._z,{className:"",ghost:!0,children:(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)(f.Z,{title:(0,y.jsx)("div",{children:(0,y.jsx)("span",{className:" font-semibold",children:E})}),style:{width:"450px"},children:(0,y.jsxs)(m.A,{formRef:B,onFinish:T,layout:"vertical",submitter:{render:function(e,t){return[t[1]]}},onValuesChange:function(e){var t;e.hasOwnProperty("radio")&&("custom"===e.radio?h&&(v(!1),w(!0)):h||(v(!0),w(!1),null===(t=B.current)||void 0===t||t.resetFields(["custom"])))},children:[(0,y.jsx)(S.Group,{name:"radio",layout:"vertical",fieldProps:{size:"large"},options:G}),(0,y.jsx)(k.Z,{name:"input",placeholder:"https://...",disabled:h,rules:[{required:b,message:"".concat(V),whitespace:!0,pattern:/^((https|http)?:\/\/)[^\s]+/}],fieldProps:{size:"large",autoFocus:!1}}),u]})})})})}}}]);