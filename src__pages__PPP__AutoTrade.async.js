"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5457],{22452:function(e,r,t){var a=t(1413),n=t(91),s=t(62435),o=t(66758),l=t(56499),i=t(86074),c=["fieldProps","proFieldProps"],u="dateTime",m=s.forwardRef((function(e,r){var t=e.fieldProps,m=e.proFieldProps,d=(0,n.Z)(e,c),p=(0,s.useContext)(o.Z);return(0,i.jsx)(l.Z,(0,a.Z)({ref:r,fieldProps:(0,a.Z)({getPopupContainer:p.getPopupContainer},t),valueType:u,proFieldProps:m,filedConfig:{valueType:u,customLightMode:!0}},d))}));r.Z=m},64317:function(e,r,t){var a=t(1413),n=t(91),s=t(22270),o=t(62435),l=t(66758),i=t(56499),c=t(86074),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],d=function(e,r){var t=e.fieldProps,m=e.children,d=e.params,p=e.proFieldProps,f=e.mode,v=e.valueEnum,x=e.request,g=e.showSearch,h=e.options,b=(0,n.Z)(e,u),y=(0,o.useContext)(l.Z);return(0,c.jsx)(i.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,s.h)(v),request:x,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:h,mode:f,showSearch:g,getPopupContainer:y.getPopupContainer},t),ref:r,proFieldProps:p},b),{},{children:m}))},p=o.forwardRef((function(e,r){var t=e.fieldProps,u=e.children,d=e.params,p=e.proFieldProps,f=e.mode,v=e.valueEnum,x=e.request,g=e.options,h=(0,n.Z)(e,m),b=(0,a.Z)({options:g,mode:f||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},t),y=(0,o.useContext)(l.Z);return(0,c.jsx)(i.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,s.h)(v),request:x,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({getPopupContainer:y.getPopupContainer},b),ref:r,proFieldProps:p},h),{},{children:u}))})),f=o.forwardRef(d);f.SearchSelect=p,f.displayName="ProFormComponent",r.Z=f},67939:function(e,r,t){t.r(r);var a=t(19632),n=t.n(a),s=t(97857),o=t.n(s),l=t(15009),i=t.n(l),c=t(99289),u=t.n(c),m=t(5574),d=t.n(m),p=t(42320),f=t(75633),v=t(64119),x=t(87603),g=t(25035),h=t(98165),b=t(11774),y=t(38345),j=t(97269),w=t(64317),S=t(5966),k=t(31199),T=t(52688),Z=t(90672),N=t(22452),F=t(59530),P=t(80507),C=t(45360),V=t(83062),O=t(7134),_=t(15867),I=t(27484),R=t.n(I),z=t(70178),L=t.n(z),Y=t(62435),D=t(51409),q=t(86074);R().extend(L());r.default=function(){var e=C.ZP.useMessage(),r=d()(e,2),t=r[0],a=r[1],s=(0,F.useSelector)((function(e){return e.global.contractKit})),l=(0,F.useSelector)((function(e){return e.global.account})),c=(0,F.useSelector)((function(e){return e.global.session})),m=(0,F.useSelector)((function(e){return e.global.privateKey})),I=(0,F.useSelector)((function(e){return e.ppp.vipAccounts})),z=(0,F.useSelector)((function(e){return e.ppp.accessAccounts})),L=(0,f.N)(),M=(0,Y.useState)(!1),E=d()(M,2),H=E[0],$=E[1],U=(0,Y.useState)(!1),J=d()(U,2),W=J[0],A=J[1],K=(0,Y.useState)([]),Q=d()(K,2),B=Q[0],G=Q[1],X=(0,Y.useState)({}),ee=d()(X,2),re=ee[0],te=ee[1],ae=(0,Y.useState)(!1),ne=d()(ae,2),se=ne[0],oe=ne[1],le=(0,Y.useState)(!1),ie=d()(le,2),ce=ie[0],ue=ie[1],me=(0,Y.useState)(null),de=d()(me,2),pe=de[0],fe=de[1],ve=(0,Y.useState)(),xe=d()(ve,2),ge=xe[0],he=xe[1],be=(0,Y.useState)({buy:"买入",sell:"卖出"}),ye=d()(be,2),je=ye[0],we=ye[1],Se=(0,Y.useState)(""),ke=d()(Se,2),Te=ke[0],Ze=ke[1],Ne=(0,Y.useState)(""),Fe=d()(Ne,2),Pe=Fe[0],Ce=Fe[1],Ve=(0,Y.useState)(!1),Oe=d()(Ve,2),_e=Oe[0],Ie=Oe[1],Re=(0,Y.useState)(!1),ze=d()(Re,2),Le=ze[0],Ye=ze[1],De=(0,Y.useState)(null),qe=d()(De,2),Me=qe[0],Ee=qe[1],He=(0,Y.useState)(),$e=d()(He,2),Ue=$e[0],Je=$e[1],We=(0,Y.useState)({buy:"买入",sell:"卖出"}),Ae=d()(We,2),Ke=Ae[0],Qe=Ae[1],Be=(0,Y.useState)(""),Ge=d()(Be,2),Xe=Ge[0],er=Ge[1],rr=(0,Y.useState)(0),tr=d()(rr,2),ar=tr[0],nr=tr[1],sr=(0,Y.useState)(""),or=d()(sr,2),lr=or[0],ir=or[1],cr=(0,Y.useState)(!1),ur=d()(cr,2),mr=ur[0],dr=ur[1],pr=(0,Y.useState)(!1),fr=d()(pr,2),vr=fr[0],xr=fr[1],gr=(0,Y.useState)(null),hr=d()(gr,2),br=hr[0],yr=hr[1],jr=(0,Y.useState)(),wr=d()(jr,2),Sr=wr[0],kr=wr[1],Tr=(0,Y.useState)({buy:"买入",sell:"卖出"}),Zr=d()(Tr,2),Nr=Zr[0],Fr=Zr[1],Pr=(0,Y.useState)(""),Cr=d()(Pr,2),Vr=Cr[0],Or=Cr[1],_r=(0,Y.useState)(0),Ir=d()(_r,2),Rr=Ir[0],zr=Ir[1],Lr=(0,Y.useState)(""),Yr=d()(Lr,2),Dr=Yr[0],qr=Yr[1],Mr=(0,Y.useRef)(0),Er=(0,Y.useRef)(),Hr=(0,Y.useRef)(0),$r=(0,Y.useRef)(0),Ur=(0,Y.useRef)(),Jr=(0,Y.useRef)(!1),Wr=(0,Y.useRef)(""),Ar=(0,Y.useRef)(),Kr=(0,Y.useRef)(),Qr=(0,Y.useRef)(!1),Br=(0,Y.useRef)(""),Gr=(0,Y.useRef)(),Xr=(0,Y.useRef)(),et=(0,Y.useRef)(!1),rt=(0,Y.useRef)(""),tt=(0,F.useIntl)(),at=tt.formatMessage({id:"coffee.inputException"}),nt=tt.formatMessage({id:"common.intlPleaseConnectWallet"}),st=tt.formatMessage({id:"common.intlPleaseConnectNetwork"}),ot=(0,Y.useCallback)((function(){var e;Mr.current=0,null===(e=Er.current)||void 0===e||e.resetFields(),(0,D.gr)(Hr.current),(0,D.gr)($r.current),Ur.current=void 0,Jr.current=!1,Wr.current="",oe(!1),ue(!1),fe(null),he(void 0),we({}),Ze(""),Ce("")}),[]),lt=(0,Y.useCallback)((function(){var e;null===(e=Ar.current)||void 0===e||e.resetFields(),Kr.current=void 0,Qr.current=!1,Br.current="",Ie(!1),Ye(!1),Ee(null),Je(void 0),Qe({}),er(""),nr(0),ir("")}),[]),it=(0,Y.useCallback)((function(){var e;null===(e=Gr.current)||void 0===e||e.resetFields(),Xr.current=void 0,et.current=!1,rt.current="",dr(!1),xr(!1),yr(null),kr(void 0),Fr({}),Or(""),zr(0),qr("")}),[]),ct=(0,Y.useCallback)(function(){var e=u()(i()().mark((function e(r){var a,n,s,o,l,c,u,m,d,p,f,x;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),e.next=4,r.load("swapswapswap");case 4:return a=e.sent,e.next=7,r.load("dfs3protocol");case 7:return n=e.sent,s=a.table("markets"),o=n.table("projects"),e.next=12,s.all();case 12:return l=e.sent,e.next=15,o.all();case 15:c=e.sent,u={},c.forEach((function(e){var r=e.max_token_supply.symbol.name;u[r]=e.token_url})),m=[],"usdtusdtusdt-USDT-8",p="eosio.token-DFS-8",f=[],(d={})["usdtusdtusdt-USDT-8"]=1,d[p]=(0,v.ri)(l[0].reserve0)/(0,v.ri)(l[0].reserve1),l.forEach((function(e){var r=e.contract0.toString(),t=e.contract1.toString(),a=r+"-"+e.sym0.name+"-"+e.sym0.precision,n=t+"-"+e.sym1.name+"-"+e.sym1.precision;m.includes(a)||m.push(a),m.includes(n)||m.push(n);var s=(0,v.ri)(e.reserve0),o=(0,v.ri)(e.reserve1);"eosio.token"===r?d.hasOwnProperty(n)||(d[n]=s/o*d[p]):"eosio.token"===t?d.hasOwnProperty(a)||(d[a]=o/s*d[p]):"usdtusdtusdt"===r?d.hasOwnProperty(n)||(d[n]=s/o):"usdtusdtusdt"===t?d.hasOwnProperty(a)||(d[a]=o/s):f.push({key0:a,key1:n,value0:s,value1:o})})),f.forEach((function(e){var r=e.key0,t=e.key1,a=e.value0,n=e.value1;d.hasOwnProperty(r)&&!d.hasOwnProperty(t)?d[t]=a/n*d[r]:!d.hasOwnProperty(r)&&d.hasOwnProperty(t)?d[r]=n/a*d[t]:d.hasOwnProperty(r)||d.hasOwnProperty(t)||(d[r]=0,d[t]=0)})),Object.keys(d).forEach((function(e){Number.isNaN(d[e])&&(d[e]=0)})),l.sort((function(e,r){var t=e.contract0.toString(),a=e.contract1.toString(),n=r.contract0.toString(),s=r.contract1.toString(),o=e.sym0.name,l=e.sym1.name,i=r.sym0.name,c=r.sym1.name,u=t+"-"+o+"-"+e.sym0.precision,m=a+"-"+l+"-"+e.sym1.precision,p=n+"-"+i+"-"+r.sym0.precision,f=s+"-"+c+"-"+r.sym1.precision,x=(0,v.ri)(e.reserve0),g=(0,v.ri)(e.reserve1),h=(0,v.ri)(r.reserve0),b=(0,v.ri)(r.reserve1),y=x*d[u]+g*d[m];return h*d[p]+b*d[f]-y})),x={},l.forEach((function(e){var r=e.mid.toNumber(),t=e.contract0.toString(),a=e.contract1.toString(),n=e.sym0.name,s=e.sym1.name,o=e.sym0.precision,l=e.sym1.precision,i=e.reserve0.toString(),c=e.reserve1.toString(),m="".concat(a,"-").concat(s),d="dfsppptokens"===a?u[s]:"https://dfs.land/assets/tokens/".concat(m,".png");"USDT"===n&&"DFS"!==s||(x["swap-".concat(r)]="".concat(r,"_").concat(t,"_").concat(n,"_").concat(o,"_").concat(i,"_").concat(a,"_").concat(s,"_").concat(l,"_").concat(c,"_").concat(d))})),te(x),G(l),A(!1),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(0),A(!1),(0,v.Tv)(e.t0,t);case 40:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(r){return e.apply(this,arguments)}}(),[]),ut=(0,Y.useCallback)((function(e){var r,t=R()().format("MM-DDTHH:mm:ss"),a="[".concat(t,"]: ").concat(e,"\n");Wr.current=a+Wr.current,null===(r=Er.current)||void 0===r||r.setFieldValue("logTx",Wr.current),L()}),[L]),mt=(0,Y.useCallback)((function(e){var r,t=R()().format("MM-DDTHH:mm:ss"),a="[".concat(t,"]: ").concat(e,"\n");Br.current=a+Br.current,null===(r=Ar.current)||void 0===r||r.setFieldValue("logTime",Br.current),L()}),[L]),dt=(0,Y.useCallback)((function(e){var r,t=R()().format("MM-DDTHH:mm:ss"),a="[".concat(t,"]: ").concat(e,"\n");rt.current=a+rt.current,null===(r=Gr.current)||void 0===r||r.setFieldValue("logInterval",rt.current),L()}),[L]),pt=(0,Y.useCallback)((function(){Jr.current=!1,(0,D.gr)(Hr.current),(0,D.gr)($r.current),ut("停止监控")}),[ut]),ft=(0,Y.useCallback)((function(){Qr.current=!1,ir(""),nr(0),mt("停止运行")}),[mt]),vt=(0,Y.useCallback)((function(){et.current=!1,qr(""),zr(0),dt("停止运行")}),[dt]),xt=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,n,s,o,u,m,d,p,f,x,g,h,b,y,j,w,S,k;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(r=Er.current)||void 0===r?void 0:r.getFieldValue("midTx"),!l||!a){e.next=32;break}return e.prev=2,s=a.split("-")[1],ue(!0),o=B.filter((function(e){return e.mid.toString()===s}))[0],u=o.contract0.toString(),m=o.contract1.toString(),d=o.reserve0.symbol.name,p=o.reserve1.symbol.name,f=o.reserve0.symbol.precision,x=o.reserve1.symbol.precision,g=l.accountName.toString(),e.next=15,c.client.v1.chain.get_currency_balance(u,g,d);case 15:return h=e.sent,e.next=18,c.client.v1.chain.get_currency_balance(m,g,p);case 18:b=e.sent,y="",b.length?(y+=b[0].toString(),w=b[0]):(S=P.xR.from(0,P.xR.Symbol.fromParts(p,x)),y+=S.toString(),w=S),y+=" / ",h.length?(y+=h[0].toString(),j=h[0]):(k=P.xR.from(0,P.xR.Symbol.fromParts(d,f)),y+=k.toString(),j=k),null===(n=Er.current)||void 0===n||n.setFieldValue("balanceTx",y),he({asset0:j,asset1:w}),ue(!1),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(2),ue(!1),(0,v.Tv)(e.t0,t);case 32:case"end":return e.stop()}}),e,null,[[2,28]])}))),[l,B,t]),gt=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,n,s,o,u,m,d,p,f,x,g,h,b,y,j,w,S,k;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(r=Ar.current)||void 0===r?void 0:r.getFieldValue("midTime"),!l||!a){e.next=32;break}return e.prev=2,s=a.split("-")[1],Ye(!0),o=B.filter((function(e){return e.mid.toString()===s}))[0],u=o.contract0.toString(),m=o.contract1.toString(),d=o.reserve0.symbol.name,p=o.reserve1.symbol.name,f=o.reserve0.symbol.precision,x=o.reserve1.symbol.precision,g=l.accountName.toString(),e.next=15,c.client.v1.chain.get_currency_balance(u,g,d);case 15:return h=e.sent,e.next=18,c.client.v1.chain.get_currency_balance(m,g,p);case 18:b=e.sent,y="",b.length?(y+=b[0].toString(),w=b[0]):(S=P.xR.from(0,P.xR.Symbol.fromParts(p,x)),y+=S.toString(),w=S),y+=" / ",h.length?(y+=h[0].toString(),j=h[0]):(k=P.xR.from(0,P.xR.Symbol.fromParts(d,f)),y+=k.toString(),j=k),null===(n=Ar.current)||void 0===n||n.setFieldValue("balanceTime",y),Je({asset0:j,asset1:w}),Ye(!1),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(2),Ye(!1),(0,v.Tv)(e.t0,t);case 32:case"end":return e.stop()}}),e,null,[[2,28]])}))),[l,B,t]),ht=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,n,s,o,u,m,d,p,f,x,g,h,b,y,j,w,S,k;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(r=Gr.current)||void 0===r?void 0:r.getFieldValue("midInterval"),!l||!a){e.next=32;break}return e.prev=2,s=a.split("-")[1],xr(!0),o=B.filter((function(e){return e.mid.toString()===s}))[0],u=o.contract0.toString(),m=o.contract1.toString(),d=o.reserve0.symbol.name,p=o.reserve1.symbol.name,f=o.reserve0.symbol.precision,x=o.reserve1.symbol.precision,g=l.accountName.toString(),e.next=15,c.client.v1.chain.get_currency_balance(u,g,d);case 15:return h=e.sent,e.next=18,c.client.v1.chain.get_currency_balance(m,g,p);case 18:b=e.sent,y="",b.length?(y+=b[0].toString(),w=b[0]):(S=P.xR.from(0,P.xR.Symbol.fromParts(p,x)),y+=S.toString(),w=S),y+=" / ",h.length?(y+=h[0].toString(),j=h[0]):(k=P.xR.from(0,P.xR.Symbol.fromParts(d,f)),y+=k.toString(),j=k),null===(n=Gr.current)||void 0===n||n.setFieldValue("balanceInterval",y),kr({asset0:j,asset1:w}),xr(!1),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(2),xr(!1),(0,v.Tv)(e.t0,t);case 32:case"end":return e.stop()}}),e,null,[[2,28]])}))),[l,B,t]),bt=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,s,u,p,f,x,g,h,b,y,j,w,S,k,T,Z,N,F,C,V,O,_,z,L,Y,q,M,E,H,$,U,J,W,A,K,Q,B,G,X,ee;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,D.gr)(Hr.current),Jr.current){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,xt();case 6:if(ut("创建交易"),c&&c.broadcast){e.next=14;break}return t.error("".concat(nt)),ut("".concat(nt)),pt(),e.abrupt("return");case 14:if(l){e.next=19;break}return t.error("".concat(st)),ut("".concat(st)),pt(),e.abrupt("return");case 19:if("owner"===(a=c.permissionLevel.permission.toString())||"active"===a){e.next=25;break}return t.error("permission权限必须是owner或者active"),ut("permission权限必须是owner或者active"),pt(),e.abrupt("return");case 25:for(oe(!0),s=null===(r=Er.current)||void 0===r?void 0:r.getFieldsValue(),u=s.midTx,p=s.triggerOperateTx,f=s.operateNumberTx,x=s.splitTx,h=(g=ge).asset0,b=g.asset1,y=c.actor.toString(),j=null==pe?void 0:pe.contract0.toString(),w=null==pe?void 0:pe.contract1.toString(),S=I.includes(y)?0:.003*f,Z=null,N="","buy"===p?(f>h.value&&(t.error("".concat(h.symbol.name,"余额不足")),ut("".concat(h.symbol.name,"余额不足"))),N=j,Z=P.xR.from(S,h.symbol),k=f-S,T=h.symbol):"sell"===p&&(f>b.value&&(t.error("".concat(b.symbol.name,"余额不足")),ut("".concat(h.symbol.name,"余额不足"))),N=w,Z=P.xR.from(S,b.symbol),k=f-S,T=b.symbol),F="swap:".concat(u.split("-")[1],":0"),C=[],V=[],O=0,_=0;_<x;++_)z=k/x*(Math.random()+1/x),_===x-1?z=k-O:O+=z,L={account:N,name:"transfer",authorization:[c.permissionLevel],data:v.FE.from({from:y,to:"swapswapswap",quantity:P.xR.from(z,T),memo:F})},Y=P.aU.from(L),C.push(Y),V.push(L);return q={account:N,name:"transfer",authorization:[c.permissionLevel],data:v.FE.from({from:y,to:"davidaccount",quantity:Z,memo:"swap fee"})},M=P.aU.from(q),E={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},c.permissionLevel],data:v._9.from({user:y})},H=P.aU.from(E),e.next=46,c.client.v1.chain.get_info();case 46:return $=e.sent,U=$.getTransactionHeader(),J=R()().add(3600,"seconds").utc().format("YYYY-MM-DDTHH:mm:ss"),K=[],Q=I.includes(y)?[H].concat(C):[H].concat(C,[M]),W=P.YW.from(o()(o()({},U),{},{expiration:J,actions:Q})),K[0]=m.signDigest(W.signingDigest(c.chain.id.toString())),e.next=55,(0,v.zI)(c.transact({transaction:W},{broadcast:!1,transactPlugins:[]}));case 55:if(B=e.sent,G=d()(B,2),X=G[0],ee=G[1],!X){e.next=65;break}return t.error(X),oe(!1),ut(X),pt(),e.abrupt("return");case 65:A=P.uQ.from(o()(o()({},W),{},{signatures:[].concat(K,n()(ee.signatures))})),Ur.current=A,oe(!1),I.includes(y)?ut(JSON.stringify([E].concat(V))):ut(JSON.stringify([E].concat(V,[q]))),Hr.current=(0,D.iK)(bt,3e6),e.next=78;break;case 72:e.prev=72,e.t0=e.catch(0),oe(!1),(0,v.Tv)(e.t0,t),ut(e.t0),pt();case 78:case"end":return e.stop()}}),e,null,[[0,72]])}))),[c,l,pe,ge,v.Tv,ut,xt,pt]),yt=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,s,u,p,f,x,g,h,b,y,j,w,S,k,T,Z,N,F,C,V,O,_,z,L,Y,D,q,M,E,H,$,U,J,W,A,K,Q,B,G,X;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Qr.current){e.next=3;break}return e.abrupt("return");case 3:if(mt("创建交易"),c&&c.broadcast){e.next=11;break}return t.error("".concat(nt)),mt("".concat(nt)),ft(),e.abrupt("return");case 11:if(l){e.next=16;break}return t.error("".concat(st)),mt("".concat(st)),ft(),e.abrupt("return");case 16:if("owner"===(a=c.permissionLevel.permission.toString())||"active"===a){e.next=22;break}return t.error("permission权限必须是owner或者active"),mt("permission权限必须是owner或者active"),ft(),e.abrupt("return");case 22:for(Ie(!0),s=null===(r=Ar.current)||void 0===r?void 0:r.getFieldsValue(),u=s.midTime,p=s.triggerOperateTime,f=s.operateNumberTime,x=s.splitTime,h=(g=Ue).asset0,b=g.asset1,y=c.actor.toString(),j=null==Me?void 0:Me.contract0.toString(),w=null==Me?void 0:Me.contract1.toString(),S=I.includes(y)?0:.003*f,Z=null,N="","buy"===p?(f>h.value&&(t.error("".concat(h.symbol.name,"余额不足")),mt("".concat(h.symbol.name,"余额不足"))),N=j,Z=P.xR.from(S,h.symbol),k=f-S,T=h.symbol):"sell"===p&&(f>b.value&&(t.error("".concat(b.symbol.name,"余额不足")),mt("".concat(h.symbol.name,"余额不足"))),N=w,Z=P.xR.from(S,b.symbol),k=f-S,T=b.symbol),F="swap:".concat(u.split("-")[1],":0"),C=[],V=[],O=0,_=0;_<x;++_)z=k/x*(Math.random()+1/x),_===x-1?z=1===x?k:k-O:O+=z,L={account:N,name:"transfer",authorization:[c.permissionLevel],data:v.FE.from({from:y,to:"swapswapswap",quantity:P.xR.from(z,T),memo:F})},Y=P.aU.from(L),C.push(Y),V.push(L);return D={account:N,name:"transfer",authorization:[c.permissionLevel],data:v.FE.from({from:y,to:"davidaccount",quantity:Z,memo:"swap fee"})},q=P.aU.from(D),M={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},c.permissionLevel],data:v._9.from({user:y})},E=P.aU.from(M),e.next=43,c.client.v1.chain.get_info();case 43:return H=e.sent,$=H.getTransactionHeader(),U=R()().add(3600,"seconds").utc().format("YYYY-MM-DDTHH:mm:ss"),A=[],K=I.includes(y)?[E].concat(C):[E].concat(C,[q]),J=P.YW.from(o()(o()({},$),{},{expiration:U,actions:K})),A[0]=m.signDigest(J.signingDigest(c.chain.id.toString())),e.next=52,(0,v.zI)(c.transact({transaction:J},{broadcast:!1,transactPlugins:[]}));case 52:if(Q=e.sent,B=d()(Q,2),G=B[0],X=B[1],!G){e.next=62;break}return t.error(G),Ie(!1),mt(G),ft(),e.abrupt("return");case 62:W=P.uQ.from(o()(o()({},J),{},{signatures:[].concat(A,n()(X.signatures))})),Kr.current=W,Ie(!1),mt(JSON.stringify([M].concat(V,[D]))),e.next=74;break;case 68:e.prev=68,e.t0=e.catch(0),Ie(!1),(0,v.Tv)(e.t0,t),mt(e.t0),ft();case 74:case"end":return e.stop()}}),e,null,[[0,68]])}))),[c,l,Me,Ue,v.Tv,mt,ft]),jt=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,s,u,p,f,x,g,h,b,y,j,w,S,k,T,Z,N,F,C,V,O,_,z,L,Y,D,q,M,E,H,$,U,J,W,A,K,Q,B,G,X,ee;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,et.current){e.next=3;break}return e.abrupt("return");case 3:if(dt("创建交易"),c&&c.broadcast){e.next=11;break}return t.error("".concat(nt)),dt("".concat(nt)),vt(),e.abrupt("return");case 11:if(l){e.next=16;break}return t.error("".concat(st)),dt("".concat(st)),vt(),e.abrupt("return");case 16:if("owner"===(a=c.permissionLevel.permission.toString())||"active"===a){e.next=22;break}return t.error("permission权限必须是owner或者active"),dt("permission权限必须是owner或者active"),vt(),e.abrupt("return");case 22:for(dr(!0),s=null===(r=Gr.current)||void 0===r?void 0:r.getFieldsValue(),u=s.midInterval,p=s.triggerOperateInterval,f=s.operateNumberInterval,x=s.splitInterval,g=s.existInterval,b=(h=Sr).asset0,y=h.asset1,j=c.actor.toString(),w=null==br?void 0:br.contract0.toString(),S=null==br?void 0:br.contract1.toString(),k=I.includes(j)?0:.003*f,N=null,F="","buy"===p?(f>b.value&&(t.error("".concat(b.symbol.name,"余额不足")),dt("".concat(b.symbol.name,"余额不足")),g&&vt()),F=w,N=P.xR.from(k,b.symbol),T=f-k,Z=b.symbol):"sell"===p&&(f>y.value&&(t.error("".concat(y.symbol.name,"余额不足")),dt("".concat(b.symbol.name,"余额不足")),g&&vt()),F=S,N=P.xR.from(k,y.symbol),T=f-k,Z=y.symbol),C="swap:".concat(u.split("-")[1],":0"),V=[],O=[],_=0,z=0;z<x;++z)L=T/x*(Math.random()+1/x),z===x-1?L=1===x?T:T-_:_+=L,Y={account:F,name:"transfer",authorization:[c.permissionLevel],data:v.FE.from({from:j,to:"swapswapswap",quantity:P.xR.from(L,Z),memo:C})},D=P.aU.from(Y),V.push(D),O.push(Y);return q={account:F,name:"transfer",authorization:[c.permissionLevel],data:v.FE.from({from:j,to:"davidaccount",quantity:N,memo:"swap fee"})},M=P.aU.from(q),E={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},c.permissionLevel],data:v._9.from({user:j})},H=P.aU.from(E),e.next=43,c.client.v1.chain.get_info();case 43:return $=e.sent,U=$.getTransactionHeader(),J=R()().add(3600,"seconds").utc().format("YYYY-MM-DDTHH:mm:ss"),K=[],Q=I.includes(j)?[H].concat(V):[H].concat(V,[M]),W=P.YW.from(o()(o()({},U),{},{expiration:J,actions:Q})),K[0]=m.signDigest(W.signingDigest(c.chain.id.toString())),e.next=52,(0,v.zI)(c.transact({transaction:W},{broadcast:!1,transactPlugins:[]}));case 52:if(B=e.sent,G=d()(B,2),X=G[0],ee=G[1],!X){e.next=62;break}return t.error(X),dr(!1),dt(X),vt(),e.abrupt("return");case 62:A=P.uQ.from(o()(o()({},W),{},{signatures:[].concat(K,n()(ee.signatures))})),Xr.current=A,dr(!1),dt(JSON.stringify([E].concat(O,[q]))),e.next=74;break;case 68:e.prev=68,e.t0=e.catch(0),dr(!1),(0,v.Tv)(e.t0,t),dt(e.t0),vt();case 74:case"end":return e.stop()}}),e,null,[[0,68]])}))),[c,l,br,Sr,v.Tv,dt,vt]),wt=(0,Y.useCallback)(u()(i()().mark((function e(){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jr.current){e.next=2;break}return e.abrupt("return");case 2:return ut("发送交易"),e.abrupt("return",c.client.v1.chain.push_transaction(Ur.current).then((function(e){e&&e.processed&&"executed"===e.processed.receipt.status?ut("交易成功"):ut("交易失败")})).catch((function(e){if(e instanceof Error){if(e.message.includes("eosio_assert_message assertion failure")){var r=e.details[0].message;ut(r)}}else ut(e)})));case 4:case"end":return e.stop()}}),e)}))),[c,ut]),St=(0,Y.useCallback)(u()(i()().mark((function e(){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qr.current){e.next=2;break}return e.abrupt("return");case 2:return mt("发送交易"),e.abrupt("return",c.client.v1.chain.push_transaction(Kr.current).then((function(e){e&&e.processed&&"executed"===e.processed.receipt.status?mt("交易成功"):mt("交易失败")})).catch((function(e){if(e instanceof Error){if(e.message.includes("eosio_assert_message assertion failure")){var r=e.details[0].message;mt(r)}}else mt(e)})));case 4:case"end":return e.stop()}}),e)}))),[c,mt]),kt=(0,Y.useCallback)(u()(i()().mark((function e(){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(et.current){e.next=2;break}return e.abrupt("return");case 2:return dt("发送交易"),e.abrupt("return",c.client.v1.chain.push_transaction(Xr.current).then((function(e){e&&e.processed&&"executed"===e.processed.receipt.status?dt("交易成功"):dt("交易失败")})).catch((function(e){if(e instanceof Error){if(e.message.includes("eosio_assert_message assertion failure")){var r=e.details[0].message;dt(r)}}else dt(e)})));case 4:case"end":return e.stop()}}),e)}))),[c,dt]),Tt=(0,Y.useCallback)((function(e,r){var t=e.filter((function(e){return e.id>r}));if(t.length){for(var a=0;a<t.length;++a)t[a].create_time=R().utc(t[a].create_time).local().format("MM-DDTHH:mm:ss");ut(JSON.stringify(t))}}),[ut]),Zt=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,n,s,o,u,m,d,p,f,x,g,h,b,y,j,w,S,k,T;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Jr.current){e.next=3;break}return e.abrupt("return");case 3:return ut("监控交易"),a=null===(r=Er.current)||void 0===r?void 0:r.getFieldsValue(),n=a.midTx,s=a.triggerConditionTx,o=a.triggerNumberTx,u=a.intervalTx,m=a.loopTx,d=a.limitTx,p=null==pe?void 0:pe.sym0.name,f=null==pe?void 0:pe.sym1.name,e.next=9,c.client.v1.chain.get_table_rows({code:"loglogloglog",table:"logs",scope:"loglogloglog",key_type:"i64",index_position:"secondary",lower_bound:P.zM.from(n.split("-")[1]),upper_bound:P.zM.from(n.split("-")[1]),limit:d,reverse:!0});case 9:if(x=e.sent,g=x.rows,h=g[0].id,b=0,y=!1,Mr.current){e.next=18;break}return Mr.current=h,Zt(),e.abrupt("return");case 18:j=0;case 19:if(!(j<g.length)){e.next=35;break}if(w=g[j].id,S=g[j].user,k=P.xR.from(g[j].in),T=P.xR.from(g[j].out),S!==l.accountName.toString()){e.next=26;break}return e.abrupt("continue",32);case 26:if(w!==Mr.current){e.next=31;break}return y=!0,e.abrupt("break",35);case 31:"buy"===s?k.symbol.name===p?b+=k.value:b-=T.value:"sell"===s&&(k.symbol.name===f?b+=k.value:b-=T.value);case 32:++j,e.next=19;break;case 35:if(Jr.current){e.next=37;break}return e.abrupt("return");case 37:if(!(y&&b>=o)){e.next=54;break}return e.next=40,wt();case 40:if(Tt(g,Mr.current),ut("交易结束"),!m){e.next=49;break}return Mr.current=h,e.next=46,bt();case 46:Zt(),e.next=51;break;case 49:ut("监控结束"),pt();case 51:xt(),e.next=57;break;case 54:Tt(g,Mr.current),Mr.current=h,$r.current=(0,D.iK)(Zt,1e3*u);case 57:e.next=64;break;case 59:e.prev=59,e.t0=e.catch(0),(0,v.Tv)(e.t0,t),ut(e.t0),pt();case 64:case"end":return e.stop()}}),e,null,[[0,59]])}))),[c,pe,l,wt,bt,xt,ut,L,Tt,pt]),Nt=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,n,s,l,c,u;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt();case 2:return e.next=4,St();case 4:return e.next=6,gt();case 6:if(Qr.current){e.next=8;break}return e.abrupt("return");case 8:mt("交易结束"),(a=null===(r=Ar.current)||void 0===r?void 0:r.getFieldsValue()).loopTime?(s=a.triggerConditionTime.add(1,"days"),ir(s.format("YYYY-MM-DDTHH:mm:ss")),nr(s.valueOf()),null===(n=Ar.current)||void 0===n||n.setFieldValue("triggerConditionTime",s),mt(JSON.stringify(o()(o()({},a),{},{logTime:""}))),c=(l=Ue).asset0,u=l.asset1,"buy"===a.triggerOperateTime?a.operateNumberTime>c.value&&(t.error("".concat(c.symbol.name,"余额不足")),mt("".concat(c.symbol.name,"余额不足"))):"sell"===a.triggerOperateTime&&a.operateNumberTime>u.value&&(t.error("".concat(u.symbol.name,"余额不足")),mt("".concat(c.symbol.name,"余额不足")))):(mt("运行结束"),ft());case 11:case"end":return e.stop()}}),e)}))),[yt,St,gt,ft]),Ft=(0,Y.useCallback)(u()(i()().mark((function e(){var r,a,n,s,l,c;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt();case 2:return e.next=4,kt();case 4:return e.next=6,ht();case 6:if(et.current){e.next=8;break}return e.abrupt("return");case 8:dt("交易结束"),a=null===(r=Gr.current)||void 0===r?void 0:r.getFieldsValue(),n=R()().add(a.triggerConditionInterval,"seconds"),qr(n.format("YYYY-MM-DDTHH:mm:ss")),zr(n.valueOf()),dt(JSON.stringify(o()(o()({},a),{},{logInterval:""}))),l=(s=Sr).asset0,c=s.asset1,"buy"===a.triggerOperateInterval?a.operateNumberInterval>l.value&&(t.error("".concat(l.symbol.name,"余额不足")),dt("".concat(l.symbol.name,"余额不足")),a.existInterval&&vt()):"sell"===a.triggerOperateInterval&&a.operateNumberInterval>c.value&&(t.error("".concat(c.symbol.name,"余额不足")),dt("".concat(l.symbol.name,"余额不足")),a.existInterval&&vt());case 16:case"end":return e.stop()}}),e)}))),[jt,kt,ht,vt]),Pt=(0,Y.useCallback)(function(){var e=u()(i()().mark((function e(r){var a,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c&&c.broadcast){e.next=6;break}return t.error("".concat(nt)),e.abrupt("return");case 6:if(l){e.next=9;break}return t.error("".concat(st)),e.abrupt("return");case 9:if("owner"===(n=c.permissionLevel.permission.toString())||"active"===n){e.next=13;break}return t.error("permission权限必须是owner或者active"),e.abrupt("return");case 13:return Mr.current=0,null===(a=Er.current)||void 0===a||a.setFieldValue("logTx",""),(0,D.gr)(Hr.current),(0,D.gr)($r.current),Ur.current=void 0,Jr.current=!0,Wr.current="",ut(JSON.stringify(o()(o()({},r),{},{logTx:""}))),e.next=23,bt();case 23:return Zt(),e.abrupt("return",!0);case 27:return e.prev=27,e.t0=e.catch(0),oe(!1),(0,v.Tv)(e.t0,t),e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(r){return e.apply(this,arguments)}}(),[c,l,bt,Zt,ut]),Ct=(0,Y.useCallback)(function(){var e=u()(i()().mark((function e(r){var a,n,s,u,m,d,p,f,x,g;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c&&c.broadcast){e.next=6;break}return t.error("".concat(nt)),e.abrupt("return");case 6:if(l){e.next=9;break}return t.error("".concat(st)),e.abrupt("return");case 9:if("owner"===(s=c.permissionLevel.permission.toString())||"active"===s){e.next=13;break}return t.error("permission权限必须是owner或者active"),e.abrupt("return");case 13:return null===(a=Ar.current)||void 0===a||a.setFieldValue("logTime",""),Kr.current=void 0,Qr.current=!0,Br.current="",u=null===(n=Ar.current)||void 0===n?void 0:n.getFieldValue("triggerConditionTime"),ir(u.format("YYYY-MM-DDTHH:mm:ss")),nr(u.valueOf()),mt(JSON.stringify(o()(o()({},r),{},{logTime:""}))),d=(m=r).triggerOperateTime,p=m.operateNumberTime,x=(f=Ue).asset0,g=f.asset1,"buy"===d?p>x.value&&(t.error("".concat(x.symbol.name,"余额不足")),mt("".concat(x.symbol.name,"余额不足"))):"sell"===d&&p>g.value&&(t.error("".concat(g.symbol.name,"余额不足")),mt("".concat(x.symbol.name,"余额不足"))),e.abrupt("return",!0);case 27:return e.prev=27,e.t0=e.catch(0),oe(!1),(0,v.Tv)(e.t0,t),e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(r){return e.apply(this,arguments)}}(),[c,l,mt,Ue]),Vt=(0,Y.useCallback)(function(){var e=u()(i()().mark((function e(r){var a,n,s,u,m,d,p,f,x,g,h;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c&&c.broadcast){e.next=6;break}return t.error("".concat(nt)),e.abrupt("return");case 6:if(l){e.next=9;break}return t.error("".concat(st)),e.abrupt("return");case 9:if("owner"===(n=c.permissionLevel.permission.toString())||"active"===n){e.next=13;break}return t.error("permission权限必须是owner或者active"),e.abrupt("return");case 13:return null===(a=Gr.current)||void 0===a||a.setFieldValue("logInterval",""),Xr.current=void 0,et.current=!0,rt.current="",u=(s=r).triggerOperateInterval,m=s.operateNumberInterval,d=s.buyNowInterval,p=s.existInterval,dt(JSON.stringify(o()(o()({},r),{},{logInterval:""}))),d?Ft():(f=R()().add(r.triggerConditionInterval,"seconds"),qr(f.format("YYYY-MM-DDTHH:mm:ss")),zr(f.valueOf()),g=(x=Sr).asset0,h=x.asset1,"buy"===u?m>g.value&&(t.error("".concat(g.symbol.name,"余额不足")),dt("".concat(g.symbol.name,"余额不足")),p&&vt()):"sell"===u&&m>h.value&&(t.error("".concat(h.symbol.name,"余额不足")),dt("".concat(g.symbol.name,"余额不足")),p&&vt())),e.abrupt("return",!0);case 23:return e.prev=23,e.t0=e.catch(0),dr(!1),(0,v.Tv)(e.t0,t),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(r){return e.apply(this,arguments)}}(),[c,l,dt,Sr,Ft,vt]),Ot=(0,Y.useCallback)((function(){s&&!W&&ct(s)}),[ct,s]),_t=(0,Y.useCallback)((function(e){if(e.hasOwnProperty("midTx")){var r,t,a,n,s,o,l,i,c=null===(r=Er.current)||void 0===r?void 0:r.getFieldValue("midTx").split("-")[1],u=B.filter((function(e){return e.mid.toString()===c}))[0],m=u.reserve0.toString(),d=u.reserve1.toString(),p=u.reserve1.symbol.name;null===(t=Er.current)||void 0===t||t.setFieldValue("liquidityTx",d+" / "+m),null===(a=Er.current)||void 0===a||a.setFieldValue("balanceTx",""),null===(n=Er.current)||void 0===n||n.setFieldValue("triggerConditionTx",""),null===(s=Er.current)||void 0===s||s.setFieldValue("triggerNumberTx",""),null===(o=Er.current)||void 0===o||o.setFieldValue("triggerOperateTx",""),null===(l=Er.current)||void 0===l||l.setFieldValue("operateNumberTx",""),null===(i=Er.current)||void 0===i||i.setFieldValue("logTx",""),Wr.current="",fe(u),we({buy:"买入 "+p,sell:"卖出 "+p}),Ze(""),Ce(""),xt()}if(e.hasOwnProperty("triggerConditionTx")){var f,v=null===(f=Er.current)||void 0===f?void 0:f.getFieldValue("triggerConditionTx");if(pe){var x=pe.sym0.name,g=pe.sym1.name;"buy"===v?Ze(x):"sell"===v&&Ze(g)}}if(e.hasOwnProperty("triggerOperateTx")){var h,b=null===(h=Er.current)||void 0===h?void 0:h.getFieldValue("triggerOperateTx");if(pe){var y=pe.sym0.name,j=pe.sym1.name;"buy"===b?Ce(y):"sell"===b&&Ce(j)}}}),[B,pe,xt]),It=(0,Y.useCallback)((function(e){if(e.hasOwnProperty("midTime")){var r,t,a,n,s,o,l=null===(r=Ar.current)||void 0===r?void 0:r.getFieldValue("midTime").split("-")[1],i=B.filter((function(e){return e.mid.toString()===l}))[0],c=i.reserve0.toString(),u=i.reserve1.toString(),m=i.reserve1.symbol.name;null===(t=Ar.current)||void 0===t||t.setFieldValue("liquidityTime",u+" / "+c),null===(a=Ar.current)||void 0===a||a.setFieldValue("balanceTime",""),null===(n=Ar.current)||void 0===n||n.setFieldValue("triggerOperateTime",""),null===(s=Ar.current)||void 0===s||s.setFieldValue("operateNumberTime",""),null===(o=Ar.current)||void 0===o||o.setFieldValue("logTime",""),Br.current="",Ee(i),Qe({buy:"买入 "+m,sell:"卖出 "+m}),er(""),gt()}if(e.hasOwnProperty("triggerOperateTime")){var d,p=null===(d=Ar.current)||void 0===d?void 0:d.getFieldValue("triggerOperateTime");if(Me){var f=Me.sym0.name,v=Me.sym1.name;"buy"===p?er(f):"sell"===p&&er(v)}}}),[B,Me,gt]),Rt=(0,Y.useCallback)((function(e){if(e.hasOwnProperty("midInterval")){var r,t,a,n,s,o,l=null===(r=Gr.current)||void 0===r?void 0:r.getFieldValue("midInterval").split("-")[1],i=B.filter((function(e){return e.mid.toString()===l}))[0],c=i.reserve0.toString(),u=i.reserve1.toString(),m=i.reserve1.symbol.name;null===(t=Gr.current)||void 0===t||t.setFieldValue("liquidityInterval",u+" / "+c),null===(a=Gr.current)||void 0===a||a.setFieldValue("balanceInterval",""),null===(n=Gr.current)||void 0===n||n.setFieldValue("triggerOperateInterval",""),null===(s=Gr.current)||void 0===s||s.setFieldValue("operateNumberInterval",""),null===(o=Gr.current)||void 0===o||o.setFieldValue("logInterval",""),rt.current="",yr(i),Fr({buy:"买入 "+m,sell:"卖出 "+m}),Or(""),ht()}if(e.hasOwnProperty("triggerOperateInterval")){var d,p=null===(d=Gr.current)||void 0===d?void 0:d.getFieldValue("triggerOperateInterval");if(br){var f=br.sym0.name,v=br.sym1.name;"buy"===p?Or(f):"sell"===p&&Or(v)}}}),[B,br,ht]),zt=(0,Y.useCallback)((function(){if(H){if(l){var e=l.accountName.toString();return!!z.includes(e)||($(!1),!1)}return!0}if(l){var r=l.accountName.toString();return!!z.includes(r)&&($(!0),!0)}return!1}),[l,H,z]),Lt=(0,Y.useCallback)((function(){var e=R()().format("YYYY-MM-DDTHH:mm:ss"),r=Wr.current,t="data:,".concat(r),a=document.createElement("a");a.href=t,a.download="log_".concat(e,".json"),a.click()}),[]),Yt=(0,Y.useCallback)((function(){var e=R()().format("YYYY-MM-DDTHH:mm:ss"),r=Br.current,t="data:,".concat(r),a=document.createElement("a");a.href=t,a.download="log_".concat(e,".json"),a.click()}),[]),Dt=(0,Y.useCallback)((function(){var e=R()().format("YYYY-MM-DDTHH:mm:ss"),r=rt.current,t="data:,".concat(r),a=document.createElement("a");a.href=t,a.download="log_".concat(e,".json"),a.click()}),[]);return(0,Y.useEffect)((function(){!s||Object.keys(re).length||W||ct(s)}),[ct,re,s,W]),(0,Y.useEffect)((function(){return function(){(0,D.gr)(Hr.current),(0,D.gr)($r.current)}}),[]),(0,q.jsx)(b._z,{className:"",ghost:!0,children:zt()?(0,q.jsxs)("div",{className:"flex flex-wrap justify-center gap-5",children:[(0,q.jsxs)(y.Z,{title:(0,q.jsx)("div",{className:" font-semibold text-lg hardline",children:"使用说明"}),style:{maxWidth:"400px"},children:[(0,q.jsx)("div",{children:"1. 操作步骤如下："}),(0,q.jsxs)("div",{className:"ml-3",children:['a）进入"工具-简易钱包"页面 ',(0,q.jsx)(x.Z,{})," ","导入私钥 ",(0,q.jsx)(x.Z,{})," 点击右上角钱包图标"," ",(0,q.jsx)(x.Z,{})," 选择账号进行连接；"]}),(0,q.jsxs)("div",{className:"ml-3",children:['b）进入"PPP-自动交易"页面 ',(0,q.jsx)(x.Z,{})," ","选择相应的工具 ",(0,q.jsx)(x.Z,{})," 按需求填入相应的栏位"," ",(0,q.jsx)(x.Z,{})," 点击启动按钮。"]}),(0,q.jsx)("div",{className:"mt-3",children:"2. 注意事项："}),(0,q.jsx)("div",{className:"ml-3",children:"a）自动交易需要用户导入私钥才可以正常执行。私钥只保存在浏览器的数据库中，不会上传到服务器，请评估好风险后再使用；"}),(0,q.jsx)("div",{className:"ml-3",children:"b）每次切换账号前，都需要先断开账号的连接。"}),(0,q.jsx)("div",{className:"mt-3",children:"3. 费用说明："}),(0,q.jsx)("div",{className:"ml-3",children:"每次成功的交易会收取0.3%费用。例如使用工具花费100 USDT买入 DFS，则工具会收取0.3 USDT作为费用。"})]}),(0,q.jsxs)(y.Z,{title:(0,q.jsxs)("div",{className:" font-semibold text-lg hardline",children:["大单交易",(0,q.jsx)(V.Z,{placement:"topLeft",title:"监听交易大单自动进行买卖操作",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),style:{maxWidth:"400px"},children:[(0,q.jsxs)(j.A,{formRef:Er,onFinish:Pt,onValuesChange:_t,onReset:ot,loading:se,disabled:Jr.current,layout:"vertical",initialValues:{intervalTx:1,limitTx:10,splitTx:3,loopTx:!0},submitter:{searchConfig:{submitText:"启动"},render:function(e,r){return[r[1],r[0]]}},children:[(0,q.jsx)(w.Z,{name:"midTx",label:(0,q.jsxs)("div",{children:["交易对",(0,q.jsx)(h.Z,{spin:W,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:Ot})]}),valueEnum:re,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(at),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,filterOption:function(e,r){var t=r.label.split("_"),a=t[0],n=t[6];return(a.padStart(3,"0")+n).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var r=e.label.split("_"),t=r[0],a=r[2],n=r[6],s=r[9];return(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsx)("div",{className:"mr-2",children:t.padStart(3,"0")}),(0,q.jsx)(O.C,{className:"mr-2",size:"default",src:s}),(0,q.jsx)("div",{children:"".concat(n,"/").concat(a)})]})}}}),(0,q.jsx)(S.Z,{name:"liquidityTx",label:"资金池",placeholder:"",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,q.jsx)(S.Z,{name:"balanceTx",label:(0,q.jsxs)("div",{children:["账号余额",(0,q.jsx)(h.Z,{spin:ce,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:xt})]}),placeholder:"",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,q.jsx)(w.Z,{name:"triggerConditionTx",label:(0,q.jsxs)("div",{children:["触发条件",(0,q.jsx)(V.Z,{placement:"topLeft",title:"链上出现大单买入或者大单卖出",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),valueEnum:je,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(at),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1}}),(0,q.jsx)(k.Z,{name:"triggerNumberTx",label:(0,q.jsxs)("div",{children:["触发数量",Te,"(大于等于)",(0,q.jsx)(V.Z,{placement:"topLeft",title:"出现大单买入或者大单卖出，并且数量大于等于指定值时触发",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Te,min:0,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,q.jsx)(w.Z,{name:"triggerOperateTx",label:(0,q.jsxs)("div",{children:["触发操作",(0,q.jsx)(V.Z,{placement:"topLeft",title:"触发条件满足后，账号将要进行的操作",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),valueEnum:je,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(at),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1}}),(0,q.jsx)(k.Z,{name:"operateNumberTx",label:(0,q.jsxs)("div",{children:["操作数量",Pe,(0,q.jsx)(V.Z,{placement:"topLeft",title:"触发条件满足后，账号将要进行买入或者卖出的数量",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Pe,min:0,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,q.jsx)(k.Z,{name:"splitTx",label:(0,q.jsxs)("div",{children:["拆分数量",(0,q.jsx)(V.Z,{placement:"topLeft",title:"将当前操作数量，平均分成多少笔进行交易",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Pe,min:1,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:3}}),(0,q.jsx)(k.Z,{name:"intervalTx",label:(0,q.jsxs)("div",{children:["监控间隔时间(秒)",(0,q.jsx)(V.Z,{placement:"topLeft",title:"监控链上交易的时间间隔",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",min:0,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1}}),(0,q.jsx)(k.Z,{name:"limitTx",label:(0,q.jsxs)("div",{children:["每次读取交易数",(0,q.jsx)(V.Z,{placement:"topLeft",title:"每次读取监控对象的最新交易数量",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",min:5,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:10}}),(0,q.jsx)(T.Z,{name:"loopTx",label:(0,q.jsxs)("div",{children:["是否循环运行",(0,q.jsx)(V.Z,{placement:"topLeft",title:"交易成功或者失败后，是否继续进行监控",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,q.jsx)(Z.Z,{name:"logTx",label:"日志信息",placeholder:"",fieldProps:{autoSize:{maxRows:6,minRows:6},allowClear:!0,autoFocus:!1,size:"large",readOnly:!0}})]}),(0,q.jsxs)("div",{className:"mt-2 ",children:[(0,q.jsx)(_.ZP,{type:"primary",className:"mr-2",onClick:pt,children:"停止"}),(0,q.jsx)(_.ZP,{onClick:Lt,children:"下载"}),","]})]}),(0,q.jsxs)(y.Z,{title:(0,q.jsxs)("div",{className:" font-semibold text-lg hardline",children:["定时交易",(0,q.jsx)(V.Z,{placement:"topLeft",title:"在指定的时间自动进行交易",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),style:{maxWidth:"400px"},children:[(0,q.jsxs)(j.A,{formRef:Ar,onFinish:Ct,onValuesChange:It,onReset:lt,loading:_e,disabled:Qr.current,layout:"vertical",initialValues:{splitTime:3,loopTime:!0},submitter:{searchConfig:{submitText:"启动"},render:function(e,r){return[r[1],r[0]]}},children:[(0,q.jsx)(w.Z,{name:"midTime",label:(0,q.jsxs)("div",{children:["交易对",(0,q.jsx)(h.Z,{spin:W,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:Ot})]}),valueEnum:re,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(at),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,filterOption:function(e,r){var t=r.label.split("_"),a=t[0],n=t[6];return(a.padStart(3,"0")+n).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var r=e.label.split("_"),t=r[0],a=r[2],n=r[6],s=r[9];return(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsx)("div",{className:"mr-2",children:t.padStart(3,"0")}),(0,q.jsx)(O.C,{className:"mr-2",size:"default",src:s}),(0,q.jsx)("div",{children:"".concat(n,"/").concat(a)})]})}}}),(0,q.jsx)(S.Z,{name:"liquidityTime",label:"资金池",placeholder:"",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,q.jsx)(S.Z,{name:"balanceTime",label:(0,q.jsxs)("div",{children:["账号余额",(0,q.jsx)(h.Z,{spin:Le,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:gt})]}),placeholder:"",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,q.jsx)(N.Z,{name:"triggerConditionTime",label:(0,q.jsxs)("div",{children:["触发时间",(0,q.jsx)(V.Z,{placement:"topLeft",title:"在指定时间点自动进行交易操作",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(at),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1},width:"100%"}),(0,q.jsx)(w.Z,{name:"triggerOperateTime",label:(0,q.jsxs)("div",{children:["触发操作",(0,q.jsx)(V.Z,{placement:"topLeft",title:"触发条件满足后，账号将要进行的操作",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),valueEnum:Ke,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(at),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1}}),(0,q.jsx)(k.Z,{name:"operateNumberTime",label:(0,q.jsxs)("div",{children:["操作数量",Xe,(0,q.jsx)(V.Z,{placement:"topLeft",title:"触发条件满足后，账号将要进行买入或者卖出的数量",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Xe,min:0,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,q.jsx)(k.Z,{name:"splitTime",label:(0,q.jsxs)("div",{children:["拆分数量",(0,q.jsx)(V.Z,{placement:"topLeft",title:"将当前操作数量，平均分成多少笔进行交易",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Xe,min:1,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:3}}),(0,q.jsx)(T.Z,{name:"loopTime",label:(0,q.jsxs)("div",{children:["是否循环运行",(0,q.jsx)(V.Z,{placement:"topLeft",title:"交易成功或者失败后，是否继续进行监控",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,q.jsx)(j.A.Item,{label:"倒计时",children:(0,q.jsxs)("div",{className:"flex items-center gap-x-5 flex-wrap",children:[(0,q.jsx)(p.Wo,{className:"text-2xl",value:ar,onFinish:Nt}),(0,q.jsx)("div",{className:"text-2xl",children:"".concat(lr)})]})}),(0,q.jsx)(Z.Z,{name:"logTime",label:"日志信息",placeholder:"",fieldProps:{autoSize:{maxRows:6,minRows:6},allowClear:!0,autoFocus:!1,size:"large",readOnly:!0}})]}),(0,q.jsxs)("div",{className:"mt-2 ",children:[(0,q.jsx)(_.ZP,{type:"primary",className:"mr-2",onClick:ft,children:"停止"}),(0,q.jsx)(_.ZP,{onClick:Yt,children:"下载"}),","]})]}),(0,q.jsxs)(y.Z,{title:(0,q.jsxs)("div",{className:" font-semibold text-lg hardline",children:["间隔交易",(0,q.jsx)(V.Z,{placement:"topLeft",title:"在固定的间隔时间自动进行交易",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),style:{maxWidth:"400px"},children:[(0,q.jsxs)(j.A,{formRef:Gr,onFinish:Vt,onValuesChange:Rt,onReset:it,loading:mr,disabled:et.current,layout:"vertical",initialValues:{splitInterval:2,buyNowInterval:!1,existInterval:!0},submitter:{searchConfig:{submitText:"启动"},render:function(e,r){return[r[1],r[0]]}},children:[(0,q.jsx)(w.Z,{name:"midInterval",label:(0,q.jsxs)("div",{children:["交易对",(0,q.jsx)(h.Z,{spin:W,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:Ot})]}),valueEnum:re,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(at),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,filterOption:function(e,r){var t=r.label.split("_"),a=t[0],n=t[6];return(a.padStart(3,"0")+n).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var r=e.label.split("_"),t=r[0],a=r[2],n=r[6],s=r[9];return(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsx)("div",{className:"mr-2",children:t.padStart(3,"0")}),(0,q.jsx)(O.C,{className:"mr-2",size:"default",src:s}),(0,q.jsx)("div",{children:"".concat(n,"/").concat(a)})]})}}}),(0,q.jsx)(S.Z,{name:"liquidityInterval",label:"资金池",placeholder:"",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,q.jsx)(S.Z,{name:"balanceInterval",label:(0,q.jsxs)("div",{children:["账号余额",(0,q.jsx)(h.Z,{spin:vr,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:ht})]}),placeholder:"",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,q.jsx)(k.Z,{name:"triggerConditionInterval",label:(0,q.jsxs)("div",{children:["间隔时间(秒)",(0,q.jsx)(V.Z,{placement:"topLeft",title:"在指定间隔时间自动进行交易操作",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",min:1,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,q.jsx)(w.Z,{name:"triggerOperateInterval",label:(0,q.jsxs)("div",{children:["间隔操作",(0,q.jsx)(V.Z,{placement:"topLeft",title:"间隔时间满足后，账号将要进行的操作",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),valueEnum:Nr,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(at),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1}}),(0,q.jsx)(k.Z,{name:"operateNumberInterval",label:(0,q.jsxs)("div",{children:["操作数量",Vr,(0,q.jsx)(V.Z,{placement:"topLeft",title:"间隔时间满足后，账号将要进行买入或者卖出的数量",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Vr,min:0,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,q.jsx)(k.Z,{name:"splitInterval",label:(0,q.jsxs)("div",{children:["拆分数量",(0,q.jsx)(V.Z,{placement:"topLeft",title:"将当前操作数量，平均分成多少笔进行交易",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Vr,min:1,rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:2}}),(0,q.jsx)(T.Z,{name:"existInterval",label:(0,q.jsxs)("div",{children:["余额不足是否自动退出",(0,q.jsx)(V.Z,{placement:"topLeft",title:"账号余额不足是否自动退出",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,q.jsx)(T.Z,{name:"buyNowInterval",label:(0,q.jsxs)("div",{children:["是否立即买入",(0,q.jsx)(V.Z,{placement:"topLeft",title:"启动后，是否立即进行交易",children:(0,q.jsx)(g.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(at),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!1}}),(0,q.jsx)(j.A.Item,{label:"倒计时",children:(0,q.jsxs)("div",{className:"flex items-center gap-x-5 flex-wrap",children:[(0,q.jsx)(p.Wo,{className:"text-2xl",value:Rr,onFinish:Ft}),(0,q.jsx)("div",{className:"text-2xl",children:"".concat(Dr)})]})}),(0,q.jsx)(Z.Z,{name:"logInterval",label:"日志信息",placeholder:"",fieldProps:{autoSize:{maxRows:6,minRows:6},allowClear:!0,autoFocus:!1,size:"large",readOnly:!0}})]}),(0,q.jsxs)("div",{className:"mt-2 ",children:[(0,q.jsx)(_.ZP,{type:"primary",className:"mr-2",onClick:vt,children:"停止"}),(0,q.jsx)(_.ZP,{onClick:Dt,children:"下载"}),","]})]}),a]}):(0,q.jsx)("div",{})})}}}]);