(self.webpackChunk=self.webpackChunk||[]).push([[5457],{98165:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var n=t(87462),s=t(62435),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},o=t(84089),i=function(e,r){return s.createElement(o.Z,(0,n.Z)({},e,{ref:r,icon:a}))};var c=s.forwardRef(i)},64317:function(e,r,t){"use strict";var n=t(1413),s=t(91),a=t(22270),o=t(62435),i=t(66758),c=t(56499),l=t(86074),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],d=function(e,r){var t=e.fieldProps,m=e.children,d=e.params,p=e.proFieldProps,f=e.mode,v=e.valueEnum,h=e.request,x=e.showSearch,g=e.options,b=(0,s.Z)(e,u),y=(0,o.useContext)(i.Z);return(0,l.jsx)(c.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,a.h)(v),request:h,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:g,mode:f,showSearch:x,getPopupContainer:y.getPopupContainer},t),ref:r,proFieldProps:p},b),{},{children:m}))},p=o.forwardRef((function(e,r){var t=e.fieldProps,u=e.children,d=e.params,p=e.proFieldProps,f=e.mode,v=e.valueEnum,h=e.request,x=e.options,g=(0,s.Z)(e,m),b=(0,n.Z)({options:x,mode:f||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},t),y=(0,o.useContext)(i.Z);return(0,l.jsx)(c.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,a.h)(v),request:h,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:y.getPopupContainer},b),ref:r,proFieldProps:p},g),{},{children:u}))})),f=o.forwardRef(d);f.SearchSelect=p,f.displayName="ProFormComponent",r.Z=f},67939:function(e,r,t){"use strict";t.r(r);var n=t(19632),s=t.n(n),a=t(97857),o=t.n(a),i=t(15009),c=t.n(i),l=t(99289),u=t.n(l),m=t(5574),d=t.n(m),p=t(75633),f=t(64119),v=t(87603),h=t(25035),x=t(98165),g=t(11774),b=t(38345),y=t(97269),w=t(64317),T=t(5966),j=t(31199),S=t(52688),k=t(90672),Z=t(59530),N=t(80507),C=t(45360),P=t(83062),F=t(7134),E=t(15867),M=t(27484),_=t.n(M),O=t(70178),R=t.n(O),L=t(62435),V=t(51409),q=t(86074);_().extend(R());r.default=function(){var e=C.ZP.useMessage(),r=d()(e,2),t=r[0],n=r[1],a=(0,Z.useSelector)((function(e){return e.global.contractKit})),i=(0,Z.useSelector)((function(e){return e.global.account})),l=(0,Z.useSelector)((function(e){return e.global.session})),m=(0,Z.useSelector)((function(e){return e.global.privateKey})),M=(0,Z.useSelector)((function(e){return e.ppp.vipAccounts})),O=(0,Z.useSelector)((function(e){return e.ppp.accessAccounts})),R=(0,p.N)(),z=(0,L.useState)(!1),I=d()(z,2),D=I[0],U=I[1],H=(0,L.useState)(!1),Y=d()(H,2),A=Y[0],$=Y[1],W=(0,L.useState)(!1),K=d()(W,2),J=K[0],B=K[1],G=(0,L.useState)(!1),X=d()(G,2),Q=X[0],ee=X[1],re=(0,L.useState)(!1),te=d()(re,2),ne=(te[0],te[1]),se=(0,L.useState)([]),ae=d()(se,2),oe=ae[0],ie=ae[1],ce=(0,L.useState)({}),le=d()(ce,2),ue=le[0],me=le[1],de=(0,L.useState)({buy:"买入",sell:"卖出"}),pe=d()(de,2),fe=pe[0],ve=pe[1],he=(0,L.useState)(""),xe=d()(he,2),ge=xe[0],be=xe[1],ye=(0,L.useState)(""),we=d()(ye,2),Te=we[0],je=we[1],Se=(0,L.useState)(null),ke=d()(Se,2),Ze=ke[0],Ne=ke[1],Ce=(0,L.useState)(null),Pe=d()(Ce,2),Fe=(Pe[0],Pe[1],(0,L.useState)()),Ee=d()(Fe,2),Me=Ee[0],_e=Ee[1],Oe=(0,L.useState)(),Re=d()(Oe,2),Le=(Re[0],Re[1]),Ve=(0,L.useRef)(),qe=(0,L.useRef)(),ze=(0,L.useRef)(0),Ie=(0,L.useRef)(),De=(0,L.useRef)(0),Ue=(0,L.useRef)(!1),He=(0,L.useRef)(!1),Ye=(0,L.useRef)(""),Ae=(0,L.useRef)(""),$e=(0,Z.useIntl)(),We=$e.formatMessage({id:"coffee.inputException"}),Ke=$e.formatMessage({id:"common.intlPleaseConnectWallet"}),Je=$e.formatMessage({id:"common.intlPleaseConnectNetwork"}),Be=(0,L.useCallback)((function(){var e;null===(e=Ve.current)||void 0===e||e.resetFields(),Ne(null),ve({}),be(""),je(""),me({}),ie([]),B(!1),ee(!1),_e(void 0),Ie.current=void 0,De.current=0,Ye.current=""}),[]),Ge=((0,L.useCallback)((function(){var e;null===(e=qe.current)||void 0===e||e.resetFields(),ne(!1),Le(void 0),Ae.current=""}),[]),(0,L.useCallback)(function(){var e=u()(c()().mark((function e(r){var n,s,a,o,i,l,u,m,d,p,v,h;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,r.load("swapswapswap");case 4:return n=e.sent,e.next=7,r.load("dfs3protocol");case 7:return s=e.sent,a=n.table("markets"),o=s.table("projects"),e.next=12,a.all();case 12:return i=e.sent,e.next=15,o.all();case 15:l=e.sent,u={},l.forEach((function(e){var r=e.max_token_supply.symbol.name;u[r]=e.token_url})),m=[],"usdtusdtusdt-USDT-8",p="eosio.token-DFS-8",v=[],(d={})["usdtusdtusdt-USDT-8"]=1,d[p]=(0,f.ri)(i[0].reserve0)/(0,f.ri)(i[0].reserve1),i.forEach((function(e){var r=e.contract0.toString(),t=e.contract1.toString(),n=r+"-"+e.sym0.name+"-"+e.sym0.precision,s=t+"-"+e.sym1.name+"-"+e.sym1.precision;m.includes(n)||m.push(n),m.includes(s)||m.push(s);var a=(0,f.ri)(e.reserve0),o=(0,f.ri)(e.reserve1);"eosio.token"===r?d.hasOwnProperty(s)||(d[s]=a/o*d[p]):"eosio.token"===t?d.hasOwnProperty(n)||(d[n]=o/a*d[p]):"usdtusdtusdt"===r?d.hasOwnProperty(s)||(d[s]=a/o):"usdtusdtusdt"===t?d.hasOwnProperty(n)||(d[n]=o/a):v.push({key0:n,key1:s,value0:a,value1:o})})),v.forEach((function(e){var r=e.key0,t=e.key1,n=e.value0,s=e.value1;d.hasOwnProperty(r)&&!d.hasOwnProperty(t)?d[t]=n/s*d[r]:!d.hasOwnProperty(r)&&d.hasOwnProperty(t)?d[r]=s/n*d[t]:d.hasOwnProperty(r)||d.hasOwnProperty(t)||(d[r]=0,d[t]=0)})),Object.keys(d).forEach((function(e){Number.isNaN(d[e])&&(d[e]=0)})),i.sort((function(e,r){var t=e.contract0.toString(),n=e.contract1.toString(),s=r.contract0.toString(),a=r.contract1.toString(),o=e.sym0.name,i=e.sym1.name,c=r.sym0.name,l=r.sym1.name,u=t+"-"+o+"-"+e.sym0.precision,m=n+"-"+i+"-"+e.sym1.precision,p=s+"-"+c+"-"+r.sym0.precision,v=a+"-"+l+"-"+r.sym1.precision,h=(0,f.ri)(e.reserve0),x=(0,f.ri)(e.reserve1),g=(0,f.ri)(r.reserve0),b=(0,f.ri)(r.reserve1),y=h*d[u]+x*d[m];return g*d[p]+b*d[v]-y})),h={},i.forEach((function(e){var r=e.mid.toNumber(),t=e.contract0.toString(),n=e.contract1.toString(),s=e.sym0.name,a=e.sym1.name,o=e.sym0.precision,i=e.sym1.precision,c=e.reserve0.toString(),l=e.reserve1.toString(),m="".concat(n,"-").concat(a),d="dfsppptokens"===n?u[a]:"https://dfs.land/assets/tokens/".concat(m,".png");"USDT"===s&&"DFS"!==a||(h["swap-".concat(r)]="".concat(r,"_").concat(t,"_").concat(s,"_").concat(o,"_").concat(c,"_").concat(n,"_").concat(a,"_").concat(i,"_").concat(l,"_").concat(d))})),me(h),ie(i),B(!1),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(0),B(!1),(0,f.Tv)(e.t0,t);case 40:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(r){return e.apply(this,arguments)}}(),[])),Xe=(0,L.useCallback)((function(e){var r,t=_()().format("MM-DDTHH:mm:ss"),n="[".concat(t,"]: ").concat(e,"\n");Ye.current=n+Ye.current,null===(r=Ve.current)||void 0===r||r.setFieldValue("logTx",Ye.current),R()}),[R]),Qe=(0,L.useCallback)((function(e){var r,t=_()().format("MM-DDTHH:mm:ss"),n="[".concat(t,"]: ").concat(e,"\n");Ae.current=n+Ae.current,null===(r=qe.current)||void 0===r||r.setFieldValue("logTime",Ae.current),R()}),[R]),er=(0,L.useCallback)(u()(c()().mark((function e(){var r,n,a,u,p,v,h,x,g,b,y,w,T,j,S,k,Z,C,P,F,E,O,R,L,q,z,I,D,U,H,Y,A,W,K,J,B,G,X,Q;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,V.gr)(ze.current),Ue.current){e.next=4;break}return e.abrupt("return");case 4:if(Xe("创建交易"),l&&l.broadcast){e.next=12;break}return t.error("".concat(Ke)),Ue.current=!1,Xe("".concat(Ke)),e.abrupt("return");case 12:if(i){e.next=17;break}return t.error("".concat(Je)),Ue.current=!1,Xe("".concat(Je)),e.abrupt("return");case 17:if("owner"===(n=l.permissionLevel.permission.toString())||"active"===n){e.next=23;break}return t.error("permission权限必须是owner或者active"),Ue.current=!1,Xe("permission权限必须是owner或者active"),e.abrupt("return");case 23:for($(!0),a=null===(r=Ve.current)||void 0===r?void 0:r.getFieldsValue(),u=a.midTx,p=a.triggerOperateTx,v=a.operateNumberTx,h=a.splitTx,g=(x=Me).asset0,b=x.asset1,y=l.actor.toString(),w=null==Ze?void 0:Ze.contract0.toString(),T=null==Ze?void 0:Ze.contract1.toString(),j=M.includes(y)?0:.003*v,Z=null,C="","buy"===p?(v>g.value&&(t.error("".concat(g.symbol.name,"余额不足")),Xe("".concat(g.symbol.name,"余额不足"))),C=w,Z=N.xR.from(j,g.symbol),S=v-j,k=g.symbol):"sell"===p&&(v>b.value&&(t.error("".concat(b.symbol.name,"余额不足")),Xe("".concat(g.symbol.name,"余额不足"))),C=T,Z=N.xR.from(j,b.symbol),S=v-j,k=b.symbol),P="swap:".concat(u.split("-")[1],":0"),F=[],E=[],O=0;O<h;++O)R={account:C,name:"transfer",authorization:[l.permissionLevel],data:f.FE.from({from:y,to:"swapswapswap",quantity:N.xR.from(S/h,k),memo:P})},L=N.aU.from(R),F.push(L),E.push(R);return q={account:C,name:"transfer",authorization:[l.permissionLevel],data:f.FE.from({from:y,to:"davidaccount",quantity:Z,memo:"swap fee"})},z=N.aU.from(q),I={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},l.permissionLevel],data:f._9.from({user:y})},D=N.aU.from(I),e.next=43,l.client.v1.chain.get_info();case 43:return U=e.sent,H=U.getTransactionHeader(),Y=_()().add(3600,"seconds").utc().format("YYYY-MM-DDTHH:mm:ss"),K=[],J=M.includes(y)?[D].concat(F):[D].concat(F,[z]),A=N.YW.from(o()(o()({},H),{},{expiration:Y,actions:J})),K[0]=m.signDigest(A.signingDigest(l.chain.id.toString())),e.next=52,(0,f.zI)(l.transact({transaction:A},{broadcast:!1,transactPlugins:[]}));case 52:if(B=e.sent,G=d()(B,2),X=G[0],Q=G[1],!X){e.next=62;break}return t.error(X),$(!1),Ue.current=!1,Xe(X),e.abrupt("return");case 62:W=N.uQ.from(o()(o()({},A),{},{signatures:[].concat(K,s()(Q.signatures))})),Ie.current=W,$(!1),Xe(JSON.stringify([I].concat(E,[q]))),ze.current=(0,V.iK)(er,3e6),e.next=75;break;case 69:e.prev=69,e.t0=e.catch(0),$(!1),Ue.current=!1,(0,f.Tv)(e.t0,t),Xe(e.t0);case 75:case"end":return e.stop()}}),e,null,[[0,69]])}))),[l,i,Ze,Me,Xe]),rr=(0,L.useCallback)(u()(c()().mark((function e(){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe("发送交易"),e.abrupt("return",l.client.v1.chain.push_transaction(Ie.current).then((function(e){e&&e.processed&&"executed"===e.processed.receipt.status?Xe("交易成功"):Xe("交易失败")})).catch((function(e){if(e instanceof Error){if(e.message.includes("eosio_assert_message assertion failure")){var r=e.details[0].message;Xe(r)}}else Xe(e)})));case 2:case"end":return e.stop()}}),e)}))),[l,Xe]),tr=(0,L.useCallback)((function(e,r){var t=e.filter((function(e){return e.id>r}));if(t.length){for(var n=0;n<t.length;++n)t[n].create_time=_().utc(t[n].create_time).local().format("MM-DDTHH:mm:ss");Xe(JSON.stringify(t))}}),[Xe]),nr=(0,L.useCallback)(u()(c()().mark((function e(){var r,n,s,a,o,u,m,d,p,v,h,x,g,b,y,w,T,j,S,k;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ue.current){e.next=3;break}return e.abrupt("return");case 3:return Xe("监控交易"),n=null===(r=Ve.current)||void 0===r?void 0:r.getFieldsValue(),s=n.midTx,a=n.triggerConditionTx,o=n.triggerNumberTx,u=n.intervalTx,m=n.loopTx,d=n.limitTx,p=null==Ze?void 0:Ze.sym0.name,v=null==Ze?void 0:Ze.sym1.name,e.next=9,l.client.v1.chain.get_table_rows({code:"loglogloglog",table:"logs",scope:"loglogloglog",key_type:"i64",index_position:"secondary",lower_bound:N.zM.from(s.split("-")[1]),upper_bound:N.zM.from(s.split("-")[1]),limit:d,reverse:!0});case 9:if(h=e.sent,x=h.rows,g=x[0].id,b=0,y=!1,De.current){e.next=18;break}return De.current=g,nr(),e.abrupt("return");case 18:w=0;case 19:if(!(w<x.length)){e.next=35;break}if(T=x[w].id,j=x[w].user,S=N.xR.from(x[w].in),k=N.xR.from(x[w].out),j!==i.accountName.toString()){e.next=26;break}return e.abrupt("continue",32);case 26:if(T!==De.current){e.next=31;break}return y=!0,e.abrupt("break",35);case 31:"buy"===a?S.symbol.name===p?b+=S.value:b-=k.value:"sell"===a&&(S.symbol.name===v?b+=S.value:b-=k.value);case 32:++w,e.next=19;break;case 35:if(!(y&&b>=o)){e.next=51;break}return e.next=38,rr();case 38:if(tr(x,De.current),Xe("交易结束"),!m){e.next=47;break}return De.current=g,e.next=44,er();case 44:nr(),e.next=49;break;case 47:Ue.current=!1,Xe("监控结束");case 49:e.next=54;break;case 51:tr(x,De.current),De.current=g,ze.current=(0,V.iK)(nr,1e3*u);case 54:e.next=60;break;case 56:e.prev=56,e.t0=e.catch(0),Ue.current=!1,(0,f.Tv)(e.t0,t);case 60:case"end":return e.stop()}}),e,null,[[0,56]])}))),[l,Ze,i,rr,er,Xe,R,tr]),sr=(0,L.useCallback)(function(){var e=u()(c()().mark((function e(r){var n,s;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l&&l.broadcast){e.next=6;break}return t.error("".concat(Ke)),e.abrupt("return");case 6:if(i){e.next=9;break}return t.error("".concat(Je)),e.abrupt("return");case 9:if("owner"===(s=l.permissionLevel.permission.toString())||"active"===s){e.next=13;break}return t.error("permission权限必须是owner或者active"),e.abrupt("return");case 13:return De.current=0,Ue.current=!0,Ye.current="",null===(n=Ve.current)||void 0===n||n.setFieldValue("logTx",""),Xe(JSON.stringify(r)),e.next=20,er();case 20:return nr(),e.abrupt("return",!0);case 24:return e.prev=24,e.t0=e.catch(0),$(!1),(0,f.Tv)(e.t0,t),e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(r){return e.apply(this,arguments)}}(),[l,i,er,nr,Xe]),ar=(0,L.useCallback)((function(){a&&!J&&Ge(a)}),[Ge,a]),or=(0,L.useCallback)(u()(c()().mark((function e(){var r,n,s,a,o,u,m,d,p,v,h,x,g,b,y,w,T,j;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(r=Ve.current)||void 0===r?void 0:r.getFieldValue("midTx").split("-")[1],!i||!n){e.next=31;break}return e.prev=2,ee(!0),a=oe.filter((function(e){return e.mid.toString()===n}))[0],o=a.contract0.toString(),u=a.contract1.toString(),m=a.reserve0.symbol.name,d=a.reserve1.symbol.name,p=a.reserve0.symbol.precision,v=a.reserve1.symbol.precision,h=i.accountName.toString(),e.next=14,l.client.v1.chain.get_currency_balance(o,h,m);case 14:return x=e.sent,e.next=17,l.client.v1.chain.get_currency_balance(u,h,d);case 17:g=e.sent,b="",g.length?(b+=g[0].toString(),w=g[0]):(T=N.xR.from(0,N.xR.Symbol.fromParts(d,v)),b+=T.toString(),w=T),b+=" / ",x.length?(b+=x[0].toString(),y=x[0]):(j=N.xR.from(0,N.xR.Symbol.fromParts(m,p)),b+=j.toString(),y=j),null===(s=Ve.current)||void 0===s||s.setFieldValue("balanceTx",b),_e({asset0:y,asset1:w}),ee(!1),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(2),ee(!1),(0,f.Tv)(e.t0,t);case 31:case"end":return e.stop()}}),e,null,[[2,27]])}))),[i,oe,t]),ir=(0,L.useCallback)((function(e){if(e.hasOwnProperty("midTx")){var r,t,n,s,a,o,i,c,l=null===(r=Ve.current)||void 0===r?void 0:r.getFieldValue("midTx").split("-")[1],u=oe.filter((function(e){return e.mid.toString()===l}))[0],m=u.reserve0.toString(),d=u.reserve1.toString(),p=u.reserve1.symbol.name;null===(t=Ve.current)||void 0===t||t.setFieldValue("liquidityTx",d+" / "+m),null===(n=Ve.current)||void 0===n||n.setFieldValue("balanceTx",""),null===(s=Ve.current)||void 0===s||s.setFieldValue("triggerConditionTx",""),null===(a=Ve.current)||void 0===a||a.setFieldValue("triggerNumberTx",""),null===(o=Ve.current)||void 0===o||o.setFieldValue("triggerOperateTx",""),null===(i=Ve.current)||void 0===i||i.setFieldValue("operateNumberTx",""),null===(c=Ve.current)||void 0===c||c.setFieldValue("logTx",""),Ye.current="",Ne(u),ve({buy:"买入 "+p,sell:"卖出 "+p}),or()}if(e.hasOwnProperty("triggerConditionTx")){var f,v=null===(f=Ve.current)||void 0===f?void 0:f.getFieldValue("triggerConditionTx");if(Ze){var h=Ze.sym0.name,x=Ze.sym1.name;"buy"===v?be(h):"sell"===v&&be(x)}}if(e.hasOwnProperty("triggerOperateTx")){var g,b=null===(g=Ve.current)||void 0===g?void 0:g.getFieldValue("triggerOperateTx");if(Ze){var y=Ze.sym0.name,w=Ze.sym1.name;"buy"===b?je(y):"sell"===b&&je(w)}}}),[oe,Ze,or]),cr=(0,L.useCallback)((function(){Ue.current=!1,(0,V.gr)(ze.current),Xe("停止监控")}),[Xe,R]),lr=((0,L.useCallback)((function(){He.current=!1,Qe("停止监控")}),[Qe,R]),(0,L.useCallback)((function(){if(D){if(i){var e=i.accountName.toString();return!!O.includes(e)||(U(!1),!1)}return!0}if(i){var r=i.accountName.toString();return!!O.includes(r)&&(U(!0),!0)}return!1}),[i,D,O])),ur=(0,L.useCallback)((function(){var e=_()().format("YYYY-MM-DDTHH:mm:ss"),r=Ye.current,t="data:,".concat(r),n=document.createElement("a");n.href=t,n.download="log_".concat(e,".json"),n.click()}),[]);(0,L.useCallback)((function(){var e=_()().format("YYYY-MM-DDTHH:mm:ss"),r=Ae.current,t="data:,".concat(r),n=document.createElement("a");n.href=t,n.download="log_".concat(e,".json"),n.click()}),[]);return(0,L.useEffect)((function(){!a||Object.keys(ue).length||J||Ge(a)}),[Ge,ue,a,J]),(0,L.useEffect)((function(){return function(){(0,V.gr)(ze.current)}}),[]),(0,q.jsx)(g._z,{className:"",ghost:!0,children:lr()?(0,q.jsxs)("div",{className:"flex flex-wrap justify-center gap-5",children:[(0,q.jsxs)(b.Z,{title:(0,q.jsx)("div",{className:" font-semibold text-lg hardline",children:"使用说明"}),style:{maxWidth:"500px"},children:[(0,q.jsx)("div",{children:"1. 操作步骤如下："}),(0,q.jsxs)("div",{className:"ml-3",children:['a）进入"工具-简易钱包"页面 ',(0,q.jsx)(v.Z,{})," ","导入私钥 ",(0,q.jsx)(v.Z,{})," 点击右上角钱包图标"," ",(0,q.jsx)(v.Z,{})," 选择账号进行连接；"]}),(0,q.jsxs)("div",{className:"ml-3",children:['b）进入"PPP-自动交易"页面 ',(0,q.jsx)(v.Z,{})," ","选择相应的工具 ",(0,q.jsx)(v.Z,{})," 按需求填入相应的栏位"," ",(0,q.jsx)(v.Z,{})," 点击启动按钮。"]}),(0,q.jsx)("div",{className:"mt-3",children:"2. 注意事项："}),(0,q.jsx)("div",{className:"ml-3",children:"a）自动交易需要用户导入私钥才可以正常执行。私钥只保存在浏览器的数据库中，不会上传到服务器，请评估好风险后再使用；"}),(0,q.jsx)("div",{className:"ml-3",children:"b）每次切换账号前，都需要先断开账号的连接。"}),(0,q.jsx)("div",{className:"mt-3",children:"3. 费用说明："}),(0,q.jsx)("div",{className:"ml-3",children:"每次成功的交易会收取0.3%费用。例如使用工具花费100 USDT买入 DFS，则工具会收取0.3 USDT作为费用。"})]}),(0,q.jsxs)(b.Z,{title:(0,q.jsxs)("div",{className:" font-semibold text-lg hardline",children:["大单交易",(0,q.jsx)(P.Z,{placement:"topLeft",title:"监听交易大单自动进行买卖操作",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),style:{maxWidth:"500px"},children:[(0,q.jsxs)(y.A,{formRef:Ve,onFinish:sr,onValuesChange:ir,onReset:Be,loading:A,disabled:Ue.current,layout:"vertical",initialValues:{interval:1,limit:10,split:3,loop:!0},submitter:{searchConfig:{submitText:"启动"},render:function(e,r){return[r[1],r[0]]}},children:[(0,q.jsx)(w.Z,{name:"midTx",label:(0,q.jsxs)("div",{children:["交易对",(0,q.jsx)(x.Z,{spin:J,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:ar})]}),valueEnum:ue,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(We),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,filterOption:function(e,r){var t=r.label.split("_"),n=t[0],s=t[6];return(n.padStart(3,"0")+s).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var r=e.label.split("_"),t=r[0],n=r[2],s=r[6],a=r[9];return(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsx)("div",{className:"mr-2",children:t.padStart(3,"0")}),(0,q.jsx)(F.C,{className:"mr-2",size:"default",src:a}),(0,q.jsx)("div",{children:"".concat(s,"/").concat(n)})]})}}}),(0,q.jsx)(T.Z,{name:"liquidityTx",label:"资金池",placeholder:"",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,q.jsx)(T.Z,{name:"balanceTx",label:(0,q.jsxs)("div",{children:["账号余额",(0,q.jsx)(x.Z,{spin:Q,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:or})]}),placeholder:"",fieldProps:{size:"large",autoFocus:!1,defaultValue:"",readOnly:!0}}),(0,q.jsx)(w.Z,{name:"triggerConditionTx",label:(0,q.jsxs)("div",{children:["触发条件",(0,q.jsx)(P.Z,{placement:"topLeft",title:"链上出现大单买入或者大单卖出",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),valueEnum:fe,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(We),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1}}),(0,q.jsx)(j.Z,{name:"triggerNumberTx",label:(0,q.jsxs)("div",{children:["触发数量",ge,"(大于等于)",(0,q.jsx)(P.Z,{placement:"topLeft",title:"出现大单买入或者大单卖出，并且数量大于等于指定值时触发",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:ge,min:0,rules:[{required:!0,message:"".concat(We),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,q.jsx)(w.Z,{name:"triggerOperateTx",label:(0,q.jsxs)("div",{children:["触发操作",(0,q.jsx)(P.Z,{placement:"topLeft",title:"触发条件满足后，账号将要进行的操作",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),valueEnum:fe,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(We),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1}}),(0,q.jsx)(j.Z,{name:"operateNumberTx",label:(0,q.jsxs)("div",{children:["操作数量",Te,(0,q.jsx)(P.Z,{placement:"topLeft",title:"触发条件满足后，账号将要进行买入或者卖出的数量",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Te,min:0,rules:[{required:!0,message:"".concat(We),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{autoFocus:!1,size:"large"}}),(0,q.jsx)(j.Z,{name:"splitTx",label:(0,q.jsxs)("div",{children:["拆分数量",(0,q.jsx)(P.Z,{placement:"topLeft",title:"将当前操作数量，平均分成多少笔进行交易",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:Te,min:1,rules:[{required:!0,message:"".concat(We),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:3}}),(0,q.jsx)(j.Z,{name:"intervalTx",label:(0,q.jsxs)("div",{children:["监控间隔时间(秒)",(0,q.jsx)(P.Z,{placement:"topLeft",title:"监控链上交易的时间间隔",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",min:0,rules:[{required:!0,message:"".concat(We),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1}}),(0,q.jsx)(j.Z,{name:"limitTx",label:(0,q.jsxs)("div",{children:["每次读取交易数",(0,q.jsx)(P.Z,{placement:"topLeft",title:"每次读取监控对象的最新交易数量",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),placeholder:"",min:5,rules:[{required:!0,message:"".concat(We),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:10}}),(0,q.jsx)(S.Z,{name:"loopTx",label:(0,q.jsxs)("div",{children:["是否循环运行",(0,q.jsx)(P.Z,{placement:"topLeft",title:"交易成功或者失败后，是否继续进行监控",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),rules:[{required:!0,message:"".concat(We),whitespace:!0,pattern:/^true|false$/}],fieldProps:{autoFocus:!1,defaultValue:!0}}),(0,q.jsx)(k.Z,{name:"logTx",label:"日志信息",placeholder:"",fieldProps:{autoSize:{maxRows:8,minRows:8},allowClear:!0,autoFocus:!1,size:"large",readOnly:!0}})]}),(0,q.jsxs)("div",{className:"mt-2 ",children:[(0,q.jsx)(E.ZP,{type:"primary",className:"mr-2",onClick:cr,children:"停止"}),(0,q.jsx)(E.ZP,{onClick:ur,children:"下载"}),","]})]}),(0,q.jsx)(b.Z,{title:(0,q.jsxs)("div",{className:" font-semibold text-lg hardline",children:["定时交易",(0,q.jsx)(P.Z,{placement:"topLeft",title:"在指定的时间自动进行交易",children:(0,q.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),style:{maxWidth:"500px"},children:(0,q.jsx)(y.A,{formRef:qe,disabled:He.current,layout:"vertical",initialValues:{intervalTime:1,limitTime:10,splitTime:3,loopTime:!0},submitter:{searchConfig:{submitText:"启动"},render:function(e,r){return[r[1],r[0]]}},children:(0,q.jsx)(w.Z,{name:"midTime",label:(0,q.jsxs)("div",{children:["交易对",(0,q.jsx)(x.Z,{spin:J,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:ar})]}),valueEnum:ue,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(We),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,filterOption:function(e,r){var t=r.label.split("_"),n=t[0],s=t[6];return(n.padStart(3,"0")+s).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var r=e.label.split("_"),t=r[0],n=r[2],s=r[6],a=r[9];return(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsx)("div",{className:"mr-2",children:t.padStart(3,"0")}),(0,q.jsx)(F.C,{className:"mr-2",size:"default",src:a}),(0,q.jsx)("div",{children:"".concat(s,"/").concat(n)})]})}}})})}),n]}):(0,q.jsx)("div",{})})}},76650:function(e,r){!function(e){"use strict";var r=function(e){return function(r){var t=e(r);return r.add(t),t}},t=function(e){return function(r,t){return e.set(r,t),t}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=2*s,o=function(e,r){return function(t){var o=r.get(t),i=void 0===o?t.size:o<a?o+1:0;if(!t.has(i))return e(t,i);if(t.size<s){for(;t.has(i);)i=Math.floor(Math.random()*a);return e(t,i)}if(t.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;t.has(i);)i=Math.floor(Math.random()*n);return e(t,i)}},i=new WeakMap,c=t(i),l=o(c,i),u=r(l);e.addUniqueNumber=u,e.generateUniqueNumber=l}(r)},51409:function(e,r,t){"use strict";t.d(r,{cv:function(){return a},gr:function(){return o},Zi:function(){return i},iK:function(){return c}});var n=t(76650);const s=((e,r)=>{let t=null;return()=>{if(null!==t)return t;const n=new Blob([r],{type:"application/javascript; charset=utf-8"}),s=URL.createObjectURL(n);return t=e(s),setTimeout((()=>URL.revokeObjectURL(s))),t}})((e=>{const r=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),s=new Map,a=new Worker(e);a.addEventListener("message",(({data:e})=>{if(void 0!==(n=e).method&&"call"===n.method){const{params:{timerId:n,timerType:a}}=e;if("interval"===a){const e=r.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const r=s.get(e);if(void 0===r||r.timerId!==n||r.timerType!==a)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&e()}else if("timeout"===a){const e=t.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const r=s.get(e);if(void 0===r||r.timerId!==n||r.timerType!==a)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&(e(),t.delete(n))}}else{if(!(e=>"number"==typeof e.id&&"boolean"==typeof e.result)(e)){const{error:{message:r}}=e;throw new Error(r)}{const{id:n}=e,a=s.get(n);if(void 0===a)throw new Error("The timer is in an undefined state.");const{timerId:o,timerType:i}=a;s.delete(n),"interval"===i?r.delete(o):t.delete(o)}}var n}));return{clearInterval:e=>{if("function"==typeof r.get(e)){const t=(0,n.generateUniqueNumber)(s);s.set(t,{timerId:e,timerType:"interval"}),r.set(e,t),a.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"interval"}})}},clearTimeout:e=>{if("function"==typeof t.get(e)){const r=(0,n.generateUniqueNumber)(s);s.set(r,{timerId:e,timerType:"timeout"}),t.set(e,r),a.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"timeout"}})}},setInterval:(e,t=0,...s)=>{const o=(0,n.generateUniqueNumber)(r);return r.set(o,(()=>{e(...s),"function"==typeof r.get(o)&&a.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"interval"}})})),a.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"interval"}}),o},setTimeout:(e,r=0,...s)=>{const o=(0,n.generateUniqueNumber)(t);return t.set(o,(()=>e(...s))),a.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"timeout"}}),o}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(({data:n})=>{try{if("clear"===n.method){const{id:e,params:{timerId:t,timerType:o}}=n;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error(\'The given type "\'.concat(o,\'" is not supported\'));postMessage({id:e,result:s(t)})}}else{if("set"!==n.method)throw new Error(\'The given method "\'.concat(n.method,\'" is not supported\'));{const{params:{delay:r,now:s,timerId:a,timerType:m}}=n;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,a,s);else{if("timeout"!==m)throw new Error(\'The given type "\'.concat(m,\'" is not supported\'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,a,s)}}}}catch(e){postMessage({error:{message:e.message},id:n.id,result:null})}}))})();'),a=e=>s().clearInterval(e),o=e=>s().clearTimeout(e),i=(...e)=>s().setInterval(...e),c=(...e)=>s().setTimeout(...e)}}]);