"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[233],{80652:function(e,t,a){var r=a(62435),n=a(20701),s=a(11924),i=a(79360),l=a(24770),o=a(79642),c=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},u=(0,r.forwardRef)((function(e,t){var a=e.chartRef,u=e.style,m=void 0===u?{height:"inherit"}:u,d=e.className,f=e.loading,h=e.loadingTemplate,p=e.errorTemplate,g=c(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),x=(0,s.Z)(n.x1,g),y=x.chart,b=x.container;return(0,r.useEffect)((function(){(0,i.J)(a,y.current)}),[y.current]),(0,r.useImperativeHandle)(t,(function(){return{getChart:function(){return y.current}}})),r.createElement(l.Z,{errorTemplate:p},f&&r.createElement(o.Z,{loadingTemplate:h,theme:e.theme}),r.createElement("div",{className:d,style:m,ref:b}))}));t.Z=u},86289:function(e,t,a){a.r(t);var r=a(97857),n=a.n(r),s=a(15009),i=a.n(s),l=a(99289),o=a.n(l),c=a(5574),u=a.n(c),m=a(5621),d=a(64119),f=a(80652),h=a(11774),p=a(38345),g=a(59530),x=a(45360),y=a(57953),b=a(32983),E=a(9669),N=a.n(E),v=a(27484),S=a.n(v),Z=a(70178),M=a.n(Z),j=a(62435),F=a(86074);S().extend(M());t.default=function(){var e=(0,g.useDispatch)(),t=x.ZP.useMessage(),a=u()(t,2),r=a[0],s=a[1],l=(0,j.useState)(!1),c=u()(l,2),E=c[0],v=c[1],Z=(0,j.useState)(""),M=u()(Z,1)[0],P=(0,g.useSelector)((function(e){return e.statistics.minuteDataSource})),D=(0,g.useSelector)((function(e){return e.statistics.minuteApyDataSource})),I=(0,g.useSelector)((function(e){return e.statistics.minuteNodeDataSource})),T=(0,g.useSelector)((function(e){return e.global.host})),O=(0,g.useIntl)(),w=O.formatMessage({id:"statistics.intlMinutePool"}),k=O.formatMessage({id:"statistics.intlMinuteApy"}),_=O.formatMessage({id:"statistics.intlMinuteNode"}),A=(0,j.useCallback)(o()(i()().mark((function t(){var a,n,s,l,o,c,f,h;return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=[],n=[],s=[],t.next=6,(0,d.zI)(N().get("".concat(T,"/api/pools")));case 6:l=t.sent,o=u()(l,2),c=o[0],f=o[1],c||200!==f.status?r.error(c):((h=f.data).liq.forEach((function(e,t){t%10==0&&(a.push({time:S().unix(Number(e.time)).format().slice(8,16),value:Number(e.quantity.toFixed(0)),category:w}),n.push({time:S().unix(Number(e.time)).format().slice(8,16),value:Number(e.apy.toFixed(2)),category:k}))})),h.node.forEach((function(e,t){t%30==0&&s.push({time:S().unix(Number(e.time)).format().slice(8,16),value:Number(e.quantity.toFixed(2)),category:_})})),e(m.N.setMinuteDataSource(a)),e(m.N.setMinuteApyDataSource(n)),e(m.N.setMinuteNodeDataSource(s))),v(!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),v(!1),(0,d.Tv)(t.t0,r,"handleGetPool");case 18:case"end":return t.stop()}}),t,null,[[0,14]])}))),[T]),R={data:P,xField:"time",yField:"value",seriesField:"category",slider:{start:0,end:1},smooth:!0,label:{}},C={data:D,xField:"time",yField:"value",seriesField:"category",slider:{start:0,end:1},smooth:!0,label:{}},G={data:I,xField:"time",yField:"value",seriesField:"category",slider:{start:0,end:1},smooth:!0,label:{}};return(0,j.useEffect)((function(){P.length?v(!1):v(!0),A()}),[A]),(0,F.jsxs)(h._z,{className:"",ghost:!0,children:[(0,F.jsxs)(y.Z,{size:"large",spinning:E,tip:M,children:[(0,F.jsx)(p.Z,{className:"mb-3",children:P.length?(0,F.jsx)(f.Z,n()(n()({},R),{},{loading:E})):(0,F.jsx)(b.Z,{image:b.Z.PRESENTED_IMAGE_SIMPLE})}),(0,F.jsx)(p.Z,{className:"mb-3",children:D.length?(0,F.jsx)(f.Z,n()(n()({},C),{},{loading:E})):(0,F.jsx)(b.Z,{image:b.Z.PRESENTED_IMAGE_SIMPLE})}),(0,F.jsx)(p.Z,{className:"mb-3",children:I.length?(0,F.jsx)(f.Z,n()(n()({},G),{},{loading:E})):(0,F.jsx)(b.Z,{image:b.Z.PRESENTED_IMAGE_SIMPLE})})]}),s]})}}}]);