(self.webpackChunk=self.webpackChunk||[]).push([[7103],{98165:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(87462),o=r(62435),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},a=r(84089),i=function(e,t){return o.createElement(a.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var u=o.forwardRef(i)},64317:function(e,t,r){"use strict";var n=r(1413),o=r(91),s=r(22270),a=r(62435),i=r(66758),u=r(56499),c=r(86074),l=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(e,t){var r=e.fieldProps,d=e.children,p=e.params,f=e.proFieldProps,m=e.mode,h=e.valueEnum,v=e.request,g=e.showSearch,b=e.options,w=(0,o.Z)(e,l),x=(0,a.useContext)(i.Z);return(0,c.jsx)(u.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(h),request:v,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:b,mode:m,showSearch:g,getPopupContainer:x.getPopupContainer},r),ref:t,proFieldProps:f},w),{},{children:d}))},f=a.forwardRef((function(e,t){var r=e.fieldProps,l=e.children,p=e.params,f=e.proFieldProps,m=e.mode,h=e.valueEnum,v=e.request,g=e.options,b=(0,o.Z)(e,d),w=(0,n.Z)({options:g,mode:m||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},r),x=(0,a.useContext)(i.Z);return(0,c.jsx)(u.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(h),request:v,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:x.getPopupContainer},w),ref:t,proFieldProps:f},b),{},{children:l}))})),m=a.forwardRef(p);m.SearchSelect=f,m.displayName="ProFormComponent",t.Z=m},71296:function(e,t,r){"use strict";r.r(t);var n=r(19632),o=r.n(n),s=r(97857),a=r.n(s),i=r(15009),u=r.n(i),c=r(99289),l=r.n(c),d=r(5574),p=r.n(d),f=r(40956),m=r(64119),h=r(25035),v=r(98165),g=r(11774),b=r(38345),w=r(97269),x=r(64317),y=r(31199),k=r(59530),S=r(80507),T=r(45360),_=r(83062),C=r(7134),E=r(15867),M=r(9669),N=r.n(M),j=r(27484),A=r.n(j),F=r(70178),P=r.n(F),Z=r(62435),I=r(51409),z=r(86074);A().extend(P());var D=[];t.default=function(){var e=(0,k.useDispatch)(),t=T.ZP.useMessage(),r=p()(t,2),n=r[0],s=r[1],i=(0,k.useSelector)((function(e){return e.global.contractKit})),c=(0,k.useSelector)((function(e){return e.global.account})),d=(0,k.useSelector)((function(e){return e.global.session})),M=(0,k.useSelector)((function(e){return e.global.privateKey})),j=(0,k.useSelector)((function(e){return e.ppp.valueEnum})),F=(0,k.useSelector)((function(e){return e.ppp.projects})),P=(0,k.useSelector)((function(e){return e.ppp.accessAccounts})),q=(0,Z.useState)(0),R=p()(q,2),Y=(R[0],R[1]),L=(0,Z.useState)(0),O=p()(L,2),V=(O[0],O[1]),U=(0,Z.useState)(0),H=p()(U,2),W=(H[0],H[1]),K=(0,Z.useState)(0),J=p()(K,2),$=(J[0],J[1]),B=(0,Z.useState)(0),G=p()(B,2),Q=(G[0],G[1]),X=(0,Z.useState)([]),ee=p()(X,2),te=ee[0],re=ee[1],ne=(0,Z.useState)(0),oe=p()(ne,2),se=(oe[0],oe[1]),ae=(0,Z.useState)(!1),ie=p()(ae,2),ue=ie[0],ce=ie[1],le=(0,Z.useState)({}),de=p()(le,2),pe=de[0],fe=de[1],me=(0,Z.useState)({}),he=p()(me,2),ve=(he[0],he[1]),ge=(0,Z.useState)(!1),be=p()(ge,2),we=(be[0],be[1]),xe=(0,Z.useState)(!1),ye=p()(xe,2),ke=ye[0],Se=ye[1],Te=(0,Z.useState)(!1),_e=p()(Te,2),Ce=_e[0],Ee=_e[1],Me=(0,Z.useState)(!1),Ne=p()(Me,2),je=Ne[0],Ae=Ne[1],Fe=(0,Z.useState)([]),Pe=p()(Fe,2),Ze=Pe[0],Ie=(Pe[1],(0,Z.useState)(!1)),ze=p()(Ie,2),De=(ze[0],ze[1],(0,k.useIntl)()),qe=De.formatMessage({id:"coffee.inputException"}),Re=De.formatMessage({id:"msig.intlTransactionEmpty"}),Ye=De.formatMessage({id:"common.intlPleaseConnectWallet"}),Le=De.formatMessage({id:"common.intlPleaseConnectNetwork"}),Oe=(0,Z.useRef)([]),Ve=(0,Z.useRef)(!1),Ue=(0,Z.useRef)({}),He=(0,Z.useRef)(),We=(0,Z.useRef)(0),Ke=(0,Z.useRef)(!0),Je=(0,Z.useCallback)((function(){var e=0,t=0,r=0,n=0;for(var o in Ue.current)"success"===Ue.current[o].status?t+=1:"error"===Ue.current[o].status?r+=1:"processing"===Ue.current[o].status?n+=1:"default"===Ue.current[o].status&&(e+=1);Y(t),V(r),W(n),$(e)}),[]),$e=(0,Z.useCallback)((function(e){var t=A()(e).valueOf();se(t)}),[]),Be=(0,Z.useCallback)(function(){var e=l()(u()().mark((function e(t){var r,n;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=A()().format("YYYY-MM-DDTHH:mm:ss.SSS"),D.push({time:n}),t.forEach((function(e){if("success"!==Ue.current[e.cid].status&&"processing"!==Ue.current[e.cid].status&&("error"!==Ue.current[e.cid].status||!Ue.current[e.cid].message.includes("asset not found"))){var t=new Promise((function(t){Ue.current[e.cid].status="processing",Je(),d.client.v1.chain.push_transaction(e.signedTransaction).then((function(r){r&&r.processed&&"executed"===r.processed.receipt.status?(Ue.current[e.cid].status="success",Je(),t(!0)):("success"!==Ue.current[e.cid].status&&(Ue.current[e.cid].status="error",D.push({cid:e.cid,error:JSON.stringify(r),pos:"then"}),console.log(r),Je()),t(!1))})).catch((function(r){if("success"!==Ue.current[e.cid].status){if(Ue.current[e.cid].status="error",Je(),D.push({cid:e.cid,error:JSON.stringify(r),pos:"catch"}),r instanceof Error)if(r.message.includes("eosio_assert_message assertion failure"))r.details[0].message.includes("asset not found")&&(Ue.current[e.cid].message="asset not found");console.log(r)}t(!1)}))}));r.push(t)}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,Je]),Ge=(0,Z.useCallback)(l()(u()().mark((function e(){var t,r,s,i,l,f,h,v,g,b,w,x,y,k,T,_,C,E,N,j,F,P,Z,I,z,D,q,R,Y,L,O,V,U,H,W,K,J,$,B,G,Q,X,ee,te,re,ne,oe,se,ae,ie;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d&&d.broadcast){e.next=6;break}return n.error("".concat(Ye)),e.abrupt("return");case 6:if(c){e.next=9;break}return n.error("".concat(Le)),e.abrupt("return");case 9:if("owner"===(r=d.permissionLevel.permission.toString())||"active"===r){e.next=13;break}return n.error("permission权限必须是owner或者active"),e.abrupt("return");case 13:return Se(!0),s=null===(t=He.current)||void 0===t?void 0:t.getFieldsValue(),i=s.pidAuto,l=s.rankAuto,f=s.countAuto,h=Number(i.split("-")[1]),v=d.actor.toString(),e.next=19,d.client.v1.chain.get_table_rows({code:"dfs3protocol",table:"registry",scope:"dfs3protocol",key_type:"i64",index_position:"secondary",lower_bound:S.zM.from(h),upper_bound:S.zM.from(h),limit:5e3});case 19:for(g=e.sent,b={},w=[],x=[],y=[],0,0,172800,86400,200,k=A().utc("2024-12-18T01:51:27").valueOf(),g.rows.forEach((function(e){var t=A()().valueOf(),r=A().utc(e.last_trade).valueOf(),n=Number(e.current_price.split(" ")[0]),o=(e.current_round,"");n,n>=200?o="可拆分":(t-r>1728e5&&(o="可销毁"),o=k>r||t-k>864e5?o?"可买/"+o:"可买":"已售"),b.hasOwnProperty(e.owner)||(b[e.owner]={number:0,invest:0,profit:0}),b[e.owner].number+=1,w.includes(e.owner)||w.push(e.owner);var s=e.owner;(o.includes("可买")||o.includes("可销毁"))&&"pppisthebest"!==s&&"iloveblowjob"!==s&&"wzqhyrgs1234"!==s&&x.push({key:e.id,id:e.id,cid:e.cid,pid:e.pid,owner:s,current_round:e.current_round,current_price:e.current_price,last_trade:e.last_trade,create_time:e.create_time,profit:"0.00000000 DFS",invest:"0.00000000 DFS",status:o,split:!1})})),Object.keys(b).forEach((function(e,t){var r=b[e].number;y.push({key:t,owner:e,number:r})})),y.sort((function(e,t){return t.number-e.number})),T=y[0].number,_=y[1].number,C=y[2].number,E=0,N=0,j=0,F=0;F<y.length;++F)y[F].owner===v&&(N=F+1,j=y[F].number);N<=l?Ge():1===l?E=T-j+f:2===l?E=_-j+f:3===l&&(E=C-j+f),P=[],Z=u()().mark((function e(){var t,r,n;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("pppisthebest"===(t=y[I].owner)||"iloveblowjob"===t||"wzqhyrgs1234"===t){e.next=11;break}if((r=x.filter((function(e){return e.owner===t&&(e.status.includes("可买")||e.status.includes("可销毁"))}))).sort((function(){return Math.random()-.5})),!(r.length>=E)){e.next=9;break}for(n=0;n<E;++n)P.push(r[n]);return e.abrupt("return",1);case 9:r.forEach((function(e){P.push(e)})),E-=r.length;case 11:case"end":return e.stop()}}),e)})),I=0;case 44:if(!(I<y.length)){e.next=51;break}return e.delegateYield(Z(),"t0",46);case 46:if(!e.t0){e.next=48;break}return e.abrupt("break",51);case 48:++I,e.next=44;break;case 51:return z={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},d.permissionLevel],data:m._9.from({user:v})},D=S.aU.from(z),e.next=55,d.client.v1.chain.get_info();case 55:q=e.sent,R=q.getTransactionHeader(),Y=A()(),L=[],O="",V=0,U=0;case 62:if(!(U<P.length)){e.next=99;break}return P[U].owner,Number(P[U].current_price.split(" ")[0]),O=A()(Y).add(3600-V++,"seconds").utc().format("YYYY-MM-DDTHH:mm:ss"),H=P[U].current_price,W=S.xR.from(H),K=W.value,W.symbol,J="buy:"+P[U].id.toString(),$={account:"eosio.token",name:"transfer",authorization:[d.permissionLevel],data:m.FE.from({from:v,to:"dfs3protocol",quantity:H,memo:J})},B=S.aU.from($),G=void 0,Q=void 0,X=[],ee=[D,B],G=S.YW.from(a()(a()({},R),{},{expiration:O,actions:ee})),X[0]=M.signDigest(G.signingDigest(d.chain.id.toString())),e.next=81,(0,m.zI)(d.transact({transaction:G},{broadcast:!1,transactPlugins:[]}));case 81:if(te=e.sent,re=p()(te,2),ne=re[0],oe=re[1],!ne){e.next=90;break}return n.error(ne),Se(!1),console.log(ne),e.abrupt("return",!1);case 90:Q=S.uQ.from(a()(a()({},G),{},{signatures:[].concat(X,o()(oe.signatures))})),se={},ae=P[U].cid,ie=P[U].id,se[ae]={status:"default",message:""},L.push({signedTransaction:Q,cid:ae,nftid:ie,amount:K,from:v});case 96:++U,e.next=62;break;case 99:return Ae(!0),Se(!1),e.abrupt("return",!0);case 104:e.prev=104,e.t1=e.catch(0),Se(!1),(0,m.Tv)(e.t1,n,"handleFinishAuto");case 108:case"end":return e.stop()}}),e,null,[[0,104]])}))),[$e,c,i,d,Ze]),Qe=((0,Z.useCallback)((function(){var e,t=Oe.current;if(0===t.length)return n.error(Re),console.log(Re),!1;var r=null===(e=He.current)||void 0===e?void 0:e.getFieldsValue(),o=r.repeatAuto,s=r.intervalAuto;try{console.log("handleCountDownFinishAuto",A()().format()),D.push({position:"handleCountDownFinishAuto",time:A()().format()}),Be(t);for(var a=1;a<o;a++)(0,I.iK)(Be,s*a,t);return!0}catch(e){(0,m.Tv)(e,n,"handleCountDownFinishAuto")}}),[te,Be]),(0,Z.useCallback)((function(){var e;null===(e=He.current)||void 0===e||e.resetFields(),V(0),Y(0),W(0),$(0),re([]),se(0),Ue.current={},ve({}),fe({}),Q(0),Je(),Ve.current=!1,Ke.current=!0}),[Je])),Xe=(0,Z.useCallback)(function(){var t=l()(u()().mark((function t(r){var o,s,a,i,c,l,d,p,h,v;return u()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.load("dfs3protocol");case 3:return s=t.sent,a=s.table("projects"),i=s.table("stat"),t.next=8,a.all({scope:"dfs3protocol"});case 8:return c=t.sent,t.next=11,i.all({scope:"dfs3protocol"});case 11:return l=t.sent,t.next=14,N().get("https://api.dfs.land/dfschain/pppvolume2");case 14:200!==(d=t.sent).status&&n.error("获取pppvolume2数据失败"),p=d.data,h=[],c.forEach((function(e){p.hasOwnProperty(e.id.toString())&&h.push(e)})),h.sort((function(e,t){var r=e.id.toString(),n=t.id.toString();return p[n].volume_24h-p[r].volume_24h})),v={},h.forEach((function(e){var t=e.nft_img,r=e.id.toString(),n=e.project_name,o=e.creator.toString();v["pid-"+r]="".concat(r,"-").concat(n,"-").concat(o,"-").concat(t)})),null===(o=He.current)||void 0===o||o.setFieldValue("pidAuto",""),e(f.N.setValueEnum(v)),e(f.N.setProjects(c)),e(f.N.setStats(l)),Ee(!1),t.next=33;break;case 29:t.prev=29,t.t0=t.catch(0),Ee(!1),(0,m.Tv)(t.t0,n,"handleValueEnum");case 33:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e){return t.apply(this,arguments)}}(),[]),et=(0,Z.useCallback)((function(){return d&&d.broadcast?c?(Ee(!0),void Xe(i)):(n.error("".concat(Le)),!1):(n.error("".concat(Ye)),!1)}),[d,c,Xe,i]),tt=((0,Z.useCallback)(l()(u()().mark((function e(){var t,r,o,s,a;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,we(!0),t={},r=[],o=pe.pid,e.next=9,d.client.v1.chain.get_table_rows({code:"dfs3protocol",table:"registry",scope:"dfs3protocol",key_type:"name",index_position:"tertiary",lower_bound:c.accountName,upper_bound:c.accountName,limit:2e3});case 9:s=e.sent,s.rows.filter((function(e){return e.pid===o})).forEach((function(e){r.push(e.cid)})),a=0,te.forEach((function(e){var n=e.cid;r.includes(n)?t[n]="default":(t[n]="success",a+=1)})),Q(a),ve(t),we(!1),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),we(!1),(0,m.Tv)(e.t0,n,"handleCheckOwnCountAuto");case 23:case"end":return e.stop()}}),e,null,[[2,19]])}))),[i,n,pe,te,d]),(0,Z.useCallback)(function(){var e=l()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,d,F])),rt=(0,Z.useCallback)(l()(u()().mark((function e(){var t,r,s,l,f,h,v,g,b,w,x,y,k,T,_,C,E,N,j,F,P,Z,I,z,D,q,R,L,O,U,H,K,J;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d&&d.broadcast){e.next=7;break}return n.error("".concat(Ye)),console.log(Ye),e.abrupt("return");case 7:if(c){e.next=11;break}return n.error("".concat(Le)),console.log(Le),e.abrupt("return");case 11:if("owner"===(s=d.permissionLevel.permission.toString())||"active"===s){e.next=16;break}return n.error("permission权限必须是owner或者active"),console.log("permission权限必须是owner或者active"),e.abrupt("return");case 16:if(Se(!0),l=null===(t=He.current)||void 0===t?void 0:t.getFieldsValue(),f=l.pidAuto,h=l.burnAuto,v=l.sellAuto,0!==h.length){e.next=21;break}return n.error("请选择图片"),e.abrupt("return");case 21:return g=Number(f.split("-")[1]),b=d.actor.toString(),e.next=25,i.load("dfs3protocol");case 25:return w=e.sent,x=w.table("projects"),e.next=29,x.all({scope:"dfs3protocol",from:g,to:g});case 29:return y=e.sent,k=y[0],T=k.token_per_nft.toString(),_=k.token_per_nft.value,C=k.token_per_nft.symbol,E=k.mid.toNumber(),N=k.creator.toString(),j=k.project_name,F=k.nft_name,P={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},d.permissionLevel],data:m._9.from({user:b})},Z=S.aU.from(P),e.next=42,d.client.v1.chain.get_info();case 42:I=e.sent,z=I.getTransactionHeader(),D=A()(),q=[],R={},L="",O=0,U=u()().mark((function e(t){var r,s,i,c,l,f,g,w,x,y,k,C,N,j,F,P,I,Y,V;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h[t].split("-"),s=Number(r[0]),i=Number(r[1]),c=Ze.filter((function(e){return e.value===h[t]}))[0].time,L=A()(D).add(3600-t,"seconds").utc().format("YYYY-MM-DDTHH:mm:ss"),O+=_,l={account:"dfs3protocol",name:"burn",authorization:[d.permissionLevel],data:m.g_.from({assetid:s})},f=S.aU.from(l),g=T,w="swap:".concat(E,":0"),x={account:"dfsppptokens",name:"transfer",authorization:[d.permissionLevel],data:m.FE.from({from:b,to:"swapswapswap",quantity:g,memo:w})},y=S.aU.from(x),N=[],j=[],j=v?[Z,f,y]:[Z,f],k=S.YW.from(a()(a()({},z),{},{expiration:L,actions:j})),N[0]=M.signDigest(k.signingDigest(d.chain.id.toString())),e.next=19,(0,m.zI)(d.transact({transaction:k},{broadcast:!1,transactPlugins:[]}));case 19:if(F=e.sent,P=p()(F,2),I=P[0],Y=P[1],!I){e.next=28;break}return n.error(I),Se(!1),console.log(I),e.abrupt("return",{v:!1});case 28:C=S.uQ.from(a()(a()({},k),{},{signatures:[].concat(N,o()(Y.signatures))})),V=s,R[i]={status:"default",message:""},q.push({signedTransaction:C,cid:i,nftid:V,amount:_,from:b,burn_time:c});case 32:case"end":return e.stop()}}),e)})),K=0;case 51:if(!(K<h.length)){e.next=59;break}return e.delegateYield(U(K),"t0",53);case 53:if(!(H=e.t0)){e.next=56;break}return e.abrupt("return",H.v);case 56:++K,e.next=51;break;case 59:J=S.xR.from(O,C).toString(),null===(r=He.current)||void 0===r||r.setFieldValue("amountAuto",J),Ue.current=R,ve({}),V(0),Y(0),W(0),$(q.length),re(q),Oe.current=q,Q(0),fe({pid:g,creator:N,nft_name:F,project_name:j}),Q(0),n.success("创建完成"),Se(!1),console.log("创建完成"),e.next=82;break;case 77:e.prev=77,e.t1=e.catch(0),Se(!1),(0,m.Tv)(e.t1,n,"handleCreateTransactions"),console.log(e.t1);case 82:case"end":return e.stop()}}),e,null,[[0,77]])}))),[i,d,c,Ze]),nt=((0,Z.useCallback)((function(e){var t;e<18e5&&!Ve.current&&(Ve.current=!0,rt());var r=null===(t=He.current)||void 0===t?void 0:t.getFieldValue("leadTimeAuto");r&&e<r&&Ke.current&&(Ke.current=!1,Be(Oe.current),console.log(A()().format(),"handleCountdownChangeAuto",e),D.push({position:"handleCountdownChangeAuto",time:A()().format(),value:e}))}),[rt,Be]),(0,Z.useCallback)((function(){Ae(!1),(0,I.gr)(We.current)}),[])),ot=(0,Z.useCallback)((function(){if(ue){if(c){var e=c.accountName.toString();return!!P.includes(e)||(ce(!1),!1)}return!0}if(c){var t=c.accountName.toString();return!!P.includes(t)&&(ce(!0),!0)}return!1}),[c,ue,P]),st=((0,Z.useCallback)((function(){var e=A()().format("YYYY-MM-DDTHH:mm:ss"),t=JSON.stringify(D,null,2),r="data:,".concat(t),n=document.createElement("a");n.href=r,n.download="log_".concat(e,".json"),n.click()}),[]),(0,Z.useCallback)((function(){var e,t,r;V(0),Y(0),W(0),$(0),re([]),se(0),Ue.current={},ve({}),fe({}),Q(0),Je(),Ve.current=!1,Ke.current=!0,null===(e=He.current)||void 0===e||e.setFieldValue("startTime",""),null===(t=He.current)||void 0===t||t.setFieldValue("endTime",""),null===(r=He.current)||void 0===r||r.setFieldValue("amountAuto","")}),[Je]));return(0,Z.useEffect)((function(){!i||Object.keys(j).length||Ce||(Ee(!0),Xe(i))}),[Xe,j,i,Ce]),(0,z.jsx)(g._z,{className:"",ghost:!0,children:ot()?(0,z.jsxs)("div",{className:"flex flex-wrap justify-center gap-5",children:[(0,z.jsxs)(b.Z,{title:(0,z.jsxs)("div",{className:" font-semibold text-lg hardline",children:["抢排名",(0,z.jsx)(_.Z,{placement:"topLeft",title:'需要在"工具-简易钱包"页面中导入私钥，然后点击右上角的钱包图标进行连接后，才能正常使用',children:(0,z.jsx)(h.Z,{className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"}})})]}),style:{maxWidth:"500px"},children:[(0,z.jsxs)(w.A,{formRef:He,onFinish:Ge,onValuesChange:tt,onReset:Qe,loading:ke,disabled:je,layout:"vertical",initialValues:{countAuto:1},submitter:{searchConfig:{submitText:"启动"},render:function(e,t){return[t[1],t[0]]}},children:[(0,z.jsx)(x.Z,{name:"pidAuto",label:(0,z.jsxs)("div",{children:["项目",(0,z.jsx)(v.Z,{spin:Ce,className:"ml-[8px] hover:cursor-pointer",style:{color:"#1677ff"},onClick:et})]}),valueEnum:j,placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(qe),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0,onChange:st,filterOption:function(e,t){var r=t.label.split("-"),n=p()(r,3),o=n[0],s=n[1],a=n[2];return(o.padStart(3,"0")+s+a).toLowerCase().includes(e.toLowerCase())},optionItemRender:function(e){var t=e.label.split("-"),r=p()(t,4),n=r[0],o=r[1],s=r[2],a=r[3];return(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)("div",{className:"mr-2",children:n.padStart(3,"0")}),(0,z.jsx)(C.C,{className:"mr-2",size:"default",src:a}),(0,z.jsxs)("div",{children:[o," @",s]})]})}}}),(0,z.jsx)(x.Z,{name:"rankAuto",label:"抢占排名",valueEnum:{1:"第一名",2:"第二名",3:"第三名"},placeholder:"",rules:[{required:!0,whitespace:!0,message:"".concat(qe),pattern:/^.+$/}],fieldProps:{size:"large",autoFocus:!1,showSearch:!0}}),(0,z.jsx)(y.Z,{name:"countAuto",label:"超出下一名多少张图",placeholder:"",min:1,rules:[{required:!0,message:"".concat(qe),whitespace:!0,pattern:/^\d+$/}],fieldProps:{autoFocus:!1,size:"large",defaultValue:1}})]}),(0,z.jsx)("div",{className:"mt-2 ",children:(0,z.jsx)(E.ZP,{type:"primary",className:"mr-2",onClick:nt,children:"停止"})})]}),s]}):(0,z.jsx)("div",{children:"此工具为收费功能，有需要请联系开发者。"})})}},76650:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)},51409:function(e,t,r){"use strict";r.d(t,{cv:function(){return s},gr:function(){return a},Zi:function(){return i},iK:function(){return u}});var n=r(76650);const o=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob([t],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=e(o),setTimeout((()=>URL.revokeObjectURL(o))),r}})((e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),o=new Map,s=new Worker(e);s.addEventListener("message",(({data:e})=>{if(void 0!==(n=e).method&&"call"===n.method){const{params:{timerId:n,timerType:s}}=e;if("interval"===s){const e=t.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const t=o.get(e);if(void 0===t||t.timerId!==n||t.timerType!==s)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&e()}else if("timeout"===s){const e=r.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const t=o.get(e);if(void 0===t||t.timerId!==n||t.timerType!==s)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&(e(),r.delete(n))}}else{if(!(e=>"number"==typeof e.id&&"boolean"==typeof e.result)(e)){const{error:{message:t}}=e;throw new Error(t)}{const{id:n}=e,s=o.get(n);if(void 0===s)throw new Error("The timer is in an undefined state.");const{timerId:a,timerType:i}=s;o.delete(n),"interval"===i?t.delete(a):r.delete(a)}}var n}));return{clearInterval:e=>{if("function"==typeof t.get(e)){const r=(0,n.generateUniqueNumber)(o);o.set(r,{timerId:e,timerType:"interval"}),t.set(e,r),s.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"interval"}})}},clearTimeout:e=>{if("function"==typeof r.get(e)){const t=(0,n.generateUniqueNumber)(o);o.set(t,{timerId:e,timerType:"timeout"}),r.set(e,t),s.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})}},setInterval:(e,r=0,...o)=>{const a=(0,n.generateUniqueNumber)(t);return t.set(a,(()=>{e(...o),"function"==typeof t.get(a)&&s.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}})})),s.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}}),a},setTimeout:(e,t=0,...o)=>{const a=(0,n.generateUniqueNumber)(r);return r.set(a,(()=>e(...o))),s.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"timeout"}}),a}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(({data:n})=>{try{if("clear"===n.method){const{id:e,params:{timerId:t,timerType:o}}=n;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error(\'The given type "\'.concat(o,\'" is not supported\'));postMessage({id:e,result:s(t)})}}else{if("set"!==n.method)throw new Error(\'The given method "\'.concat(n.method,\'" is not supported\'));{const{params:{delay:r,now:s,timerId:a,timerType:m}}=n;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,a,s);else{if("timeout"!==m)throw new Error(\'The given type "\'.concat(m,\'" is not supported\'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,a,s)}}}}catch(e){postMessage({error:{message:e.message},id:n.id,result:null})}}))})();'),s=e=>o().clearInterval(e),a=e=>o().clearTimeout(e),i=(...e)=>o().setInterval(...e),u=(...e)=>o().setTimeout(...e)}}]);