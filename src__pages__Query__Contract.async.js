(self.webpackChunk=self.webpackChunk||[]).push([[9110],{98165:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var n=t(87462),a=t(62435),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},o=t(84089),c=function(e,r){return a.createElement(o.Z,(0,n.Z)({},e,{ref:r,icon:s}))};var i=a.forwardRef(c)},63434:function(e,r,t){"use strict";var n=t(1413),a=t(91),s=t(22270),o=t(84567),c=t(62435),i=t(90789),u=t(56499),l=t(86074),m=["options","fieldProps","proFieldProps","valueEnum"],d=c.forwardRef((function(e,r){var t=e.options,o=e.fieldProps,c=e.proFieldProps,i=e.valueEnum,d=(0,a.Z)(e,m);return(0,l.jsx)(u.Z,(0,n.Z)({ref:r,valueType:"checkbox",valueEnum:(0,s.h)(i,void 0),fieldProps:(0,n.Z)({options:t},o),lightProps:(0,n.Z)({labelFormatter:function(){return(0,l.jsx)(u.Z,(0,n.Z)({ref:r,valueType:"checkbox",mode:"read",valueEnum:(0,s.h)(i,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:t},o),proFieldProps:c},d))}},d.lightProps),proFieldProps:c},d))})),p=c.forwardRef((function(e,r){var t=e.fieldProps,a=e.children;return(0,l.jsx)(o.Z,(0,n.Z)((0,n.Z)({ref:r},t),{},{children:a}))})),f=(0,i.G)(p,{valuePropName:"checked"});f.Group=d,r.Z=f},64317:function(e,r,t){"use strict";var n=t(1413),a=t(91),s=t(22270),o=t(62435),c=t(66758),i=t(56499),u=t(86074),l=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],d=function(e,r){var t=e.fieldProps,m=e.children,d=e.params,p=e.proFieldProps,f=e.mode,g=e.valueEnum,h=e.request,x=e.showSearch,b=e.options,v=(0,a.Z)(e,l),j=(0,o.useContext)(c.Z);return(0,u.jsx)(i.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(g),request:h,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:b,mode:f,showSearch:x,getPopupContainer:j.getPopupContainer},t),ref:r,proFieldProps:p},v),{},{children:m}))},p=o.forwardRef((function(e,r){var t=e.fieldProps,l=e.children,d=e.params,p=e.proFieldProps,f=e.mode,g=e.valueEnum,h=e.request,x=e.options,b=(0,a.Z)(e,m),v=(0,n.Z)({options:x,mode:f||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},t),j=(0,o.useContext)(c.Z);return(0,u.jsx)(i.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(g),request:h,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:j.getPopupContainer},v),ref:r,proFieldProps:p},b),{},{children:l}))})),f=o.forwardRef(d);f.SearchSelect=p,f.displayName="ProFormComponent",r.Z=f},90672:function(e,r,t){"use strict";var n=t(1413),a=t(91),s=t(62435),o=t(56499),c=t(86074),i=["fieldProps","proFieldProps"],u=function(e,r){var t=e.fieldProps,s=e.proFieldProps,u=(0,a.Z)(e,i);return(0,c.jsx)(o.Z,(0,n.Z)({ref:r,valueType:"textarea",fieldProps:t,proFieldProps:s},u))};r.Z=s.forwardRef(u)},33419:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return $e}});var n=t(15009),a=t.n(n),s=t(99289),o=t.n(s),c=t(5574),i=t.n(c),u=t(19632),l=t.n(u),m=t(97857),d=t.n(m),p=t(80107),f=t(64119),g=t(1413),h=t(91),x=t(62435),b=t(56499),v=t(86074),j=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],y=x.forwardRef((function(e,r){var t=e.fieldProps,n=e.unCheckedChildren,a=e.checkedChildren,s=e.proFieldProps,o=(0,h.Z)(e,j);return(0,v.jsx)(b.Z,(0,g.Z)({valueType:"switch",fieldProps:(0,g.Z)({unCheckedChildren:n,checkedChildren:a},t),ref:r,valuePropName:"checked",proFieldProps:s,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},o))})),P=t(5966),k=t(97269),S=t(59530),w=t(80507),N=t(45360),C=t(15867),M=t(71230),Z=t(15746),_=t(37476),F=t(38345),O=t(17186),T=t(66758),A=["fieldProps","proFieldProps"],E="dateTime",z=x.forwardRef((function(e,r){var t=e.fieldProps,n=e.proFieldProps,a=(0,h.Z)(e,A),s=(0,x.useContext)(T.Z);return(0,v.jsx)(b.Z,(0,g.Z)({ref:r,fieldProps:(0,g.Z)({getPopupContainer:s.getPopupContainer},t),valueType:E,proFieldProps:n,filedConfig:{valueType:E,customLightMode:!0}},a))})),I=t(27484),q=t.n(I),D=t(70178),R=t.n(D),$=t(98165),Y=t(68795),J=t(63434),B=x.forwardRef((function(e,r){var t=N.ZP.useMessage(),n=i()(t,2),s=n[0],c=n[1],u=(0,S.useSelector)((function(e){return e.contract.abi})),l=(0,S.useSelector)((function(e){return e.contract.actionSelection})),m=(0,x.useState)(1),d=i()(m,2),p=d[0],f=d[1],g=(0,x.useState)(0),h=i()(g,2),b=h[0],j=h[1],y=(0,x.useState)([]),P=i()(y,2),k=P[0],w=P[1],C=(0,x.useState)(),M=i()(C,2),Z=M[0],F=M[1],O=(0,S.useIntl)(),T=O.formatMessage({id:"contract.intlImportRequested"}),A=O.formatMessage({id:"contract.intlRequested"}),E=O.formatMessage({id:"contract.intlThreshold"}),z=O.formatMessage({id:"msig.intlImportSuccess"}),I=(0,x.useRef)(),q=(0,x.useState)(!1),D=i()(q,2),R=D[0],$=D[1],Y=(0,x.useCallback)((function(e,r){var t;f(e.keyThreshold),w(e.accounts),F(r),j(0),null===(t=I.current)||void 0===t||t.resetFields(),$(!0)}),[I]);(0,x.useImperativeHandle)(r,(function(){return{handleOpen:Y}}));var B=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r.checkbox&&r.checkbox.forEach((function(e){var r=e.split(" ")[0],n=e.split(" ")[1];t.push({requestedAccount:r,requestedPermission:n})})),t.length||t.push({requestedAccount:"",requestedPermission:""}),null==Z||Z.current.setFieldValue("requested",t),null==Z||Z.current.validateFields(["requested"]),s.success("".concat(z)),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[u,l,Z]);return(0,v.jsxs)(_.Y,{formRef:I,title:T,open:R,onFinish:B,onOpenChange:function(e){$(e)},layout:"horizontal",width:"300px",children:[(0,v.jsxs)("div",{className:" font-semibold",children:[E,"：",p]}),(0,v.jsxs)("div",{className:" font-semibold mb-1",children:[A+"：",b<p?(0,v.jsx)("span",{className:" text-red-600",children:b}):(0,v.jsx)("span",{className:" text-green-600",children:b})]}),!!k.length&&(0,v.jsx)(J.Z.Group,{name:"checkbox",layout:"vertical",label:"",options:k.map((function(e){var r=e.permission.actor.toString(),t=e.permission.permission.toString(),n=e.weight.toString();return{label:"+".concat(n," ").concat(r,"@").concat(t),value:"".concat(r," ").concat(t," ").concat(n)}})),fieldProps:{onChange:function(e){var r=0;e.forEach((function(e){r+=Number(e.split(" ")[2])})),j(r)}}}),c]})})),V=(0,x.memo)(B);q().extend(R());var H=x.forwardRef((function(e,r){var t=N.ZP.useMessage(),n=i()(t,2),s=n[0],c=n[1],u=(0,S.useSelector)((function(e){return e.global.account})),l=(0,S.useSelector)((function(e){return e.global.session})),m=(0,S.useSelector)((function(e){return e.contract.contract})),p=(0,S.useSelector)((function(e){return e.contract.batchActions})),g=(0,x.useState)(!1),h=i()(g,2),b=h[0],j=h[1],y=(0,x.useRef)(),k=(0,x.useRef)(),C=(0,x.useState)(!1),T=i()(C,2),A=T[0],E=T[1],I=(0,S.useIntl)(),D=I.formatMessage({id:"contract.intlCreateProposal"}),R=I.formatMessage({id:"common.intlInputException"}),J=I.formatMessage({id:"account.intlPermissionNotExist"}),B=I.formatMessage({id:"contract.intlCreate"}),H=I.formatMessage({id:"contract.intlExpirationError"}),W=I.formatMessage({id:"contract.intlExpiration"}),L=I.formatMessage({id:"contract.intlPermission"}),U=I.formatMessage({id:"common.intlTxSuccess"}),G=I.formatMessage({id:"common.intlTxFail"}),K=I.formatMessage({id:"common.intlPleaseConnectWallet"}),Q=I.formatMessage({id:"common.intlPleaseConnectNetwork"}),X=I.formatMessage({id:"contract.intlProposer"}),ee=I.formatMessage({id:"contract.intlProposalName"}),re=I.formatMessage({id:"contract.intlMsigAccount"}),te=I.formatMessage({id:"contract.intlRequested"}),ne=I.formatMessage({id:"contract.intlMsigAccountWeightInsufficient"}),ae=I.formatMessage({id:"contract.intlProposalNamePlaceholder"}),se=(0,x.useCallback)((function(){E(!0)}),[]);(0,x.useImperativeHandle)(r,(function(){return{handleOpen:se}}));var oe=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,c,m,g,h,x,b,v,j,y,P,k,S,N,C,M,Z,_,F,O,T,A,E,z,I;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&l.broadcast){e.next=5;break}return s.error("".concat(K)),e.abrupt("return");case 5:if(u){e.next=8;break}return s.error("".concat(Q)),e.abrupt("return");case 8:return t=r.proposer,n=r.proposalName,o=r.msigAccount,c=r.msigPermission,m=[],r.requested.forEach((function(e){m.find((function(r){return r.actor===e.requestedAccount&&r.permission===e.requestedPermission}))||m.push({actor:e.requestedAccount,permission:e.requestedPermission})})),g=q()(r.expiration).utc().format("YYYY-MM-DDTHH:mm:ss"),e.next=17,(0,f.zI)(l.client.v1.chain.get_account(o));case 17:if(h=e.sent,x=i()(h,2),b=x[0],v=x[1],!b){e.next=26;break}return s.error(b),e.abrupt("return",!1);case 26:j=!1,y=0;case 28:if(!(y<v.permissions.length)){e.next=51;break}if(v.permissions[y].perm_name.toString()!==c){e.next=48;break}P=v.permissions[y].required_auth.keyThreshold,k=v.permissions[y].required_auth.accounts,S=0,N=0;case 34:if(!(N<m.length)){e.next=43;break}for(C=!1,M=0;M<k.length;M++)m[N].actor===k[M].permission.actor.toString()&&m[N].permission===k[M].permission.permission.toString()&&(C=!0,S+=k[M].weight.toNumber());if(C){e.next=40;break}return s.error("".concat(J)),e.abrupt("return",!1);case 40:N++,e.next=34;break;case 43:if(!(S<P)){e.next=46;break}return s.error("".concat(ne)),e.abrupt("return",!1);case 46:return j=!0,e.abrupt("break",51);case 48:y++,e.next=28;break;case 51:if(j){e.next=54;break}return s.error("".concat(J)),e.abrupt("return",!1);case 54:return Z=[],p.forEach((function(e){var r=JSON.parse(e.typedAction);r.authorization=[{actor:o,permission:c}],Z.push(r)})),e.next=58,l.client.v1.chain.get_info();case 58:return _=e.sent,F=_.getTransactionHeader(),O=w.YW.from(d()(d()({},F),{},{expiration:g,actions:Z})),T={action:{account:"eosio.msig",name:"propose",authorization:[l.permissionLevel],data:{proposer:t,proposal_name:n,requested:m,trx:O.toJSON()}}},e.next=64,(0,f.zI)(l.transact(T));case 64:return A=e.sent,E=i()(A,2),z=E[0],I=E[1],z?s.error(z):I&&I.response?s.success("".concat(U)):s.error("".concat(G)),e.abrupt("return",!0);case 70:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[l,m,p]),ce=(0,x.useCallback)(o()(a()().mark((function e(){var r,t,n,o,c,u,m,d,p,g,h;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),t=null===(r=k.current)||void 0===r?void 0:r.getFieldsValue(),n=t.msigAccount,o=t.msigPermission,c={},e.next=7,(0,f.zI)(l.client.v1.chain.get_account(n));case 7:if(u=e.sent,m=i()(u,2),d=m[0],p=m[1],!d){e.next=17;break}return s.error(d),j(!1),e.abrupt("return",!1);case 17:g=!1,h=0;case 19:if(!(h<p.permissions.length)){e.next=27;break}if(p.permissions[h].perm_name.toString()!==o){e.next=24;break}return c=p.permissions[h].required_auth,g=!0,e.abrupt("break",27);case 24:h++,e.next=19;break;case 27:if(g){e.next=31;break}return s.error("".concat(J)),j(!1),e.abrupt("return",!1);case 31:j(!1),y.current.handleOpen(c,k);case 33:case"end":return e.stop()}}),e)}))),[l]);return(0,v.jsxs)(_.Y,{formRef:k,title:D,open:A,onFinish:oe,onOpenChange:function(e){E(e)},initialValues:{proposer:u?u.accountName.toString():""},submitter:{searchConfig:{submitText:B},render:function(e,r){return[r[0],r[1]]}},layout:"vertical",width:"500px",modalProps:{style:{top:25}},children:[(0,v.jsx)(P.Z,{disabled:!0,name:"proposer",label:X,placeholder:"example: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(P.Z,{name:"proposalName",label:ee,placeholder:ae,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"msigAccount",label:re,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"msigPermission",label:(0,v.jsxs)("div",{className:"flex items-center",children:[L,b?(0,v.jsx)($.Z,{spin:b,className:"ml-3 text-blue-600"}):(0,v.jsx)(Y.Z,{className:"ml-3 text-blue-600 hover:cursor-pointer",onClick:ce})]}),placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]})})]}),(0,v.jsx)(F.Z,{bordered:!0,bodyStyle:{paddingInline:"12px",paddingBlock:"6px"},className:"mb-3 requestedAccount",children:(0,v.jsx)(O.u,{name:"requested",min:1,creatorButtonProps:!1,itemContainerRender:function(e){return(0,v.jsx)("div",{children:e})},initialValue:[{requestedAccount:"",permission:""}],children:(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"requestedAccount",label:te,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"requestedPermission",label:L,placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]})})]})})}),(0,v.jsx)(z,{width:"lg",name:"expiration",label:W,rules:[{required:!0,validator:function(e,r){try{return r?r.unix()<q()().unix()?Promise.reject(H):Promise.resolve(""):Promise.reject(R)}catch(e){return Promise.reject(e.message)}}}]}),(0,v.jsx)(V,{ref:y}),c]})})),W=(0,x.memo)(H),L=t(64599),U=t.n(L),G=t(72004),K=t.n(G),Q=t(12444),X=t.n(Q),ee=t(31996),re=t.n(ee),te=t(26037),ne=t.n(te),ae=t(9783),se=t.n(ae),oe=["fieldProps","proFieldProps","min","max","step","marks","vertical","range"],ce=x.forwardRef((function(e,r){var t=e.fieldProps,n=e.proFieldProps,a=e.min,s=e.max,o=e.step,c=e.marks,i=e.vertical,u=e.range,l=(0,h.Z)(e,oe);return(0,v.jsx)(b.Z,(0,g.Z)({valueType:"slider",fieldProps:(0,g.Z)((0,g.Z)({},t),{},{min:a,max:s,step:o,marks:c,vertical:i,range:u,style:null==t?void 0:t.style}),ref:r,proFieldProps:n,filedConfig:{ignoreWidth:!0}},l))})),ie=t(90672);q().extend(R());var ue=x.forwardRef((function(e,r){var t=N.ZP.useMessage(),n=i()(t,2),s=n[0],c=n[1],u=(0,x.useRef)(),l=(0,x.useState)(!1),m=i()(l,2),d=m[0],p=m[1],f=(0,x.useState)(""),g=i()(f,2),h=g[0],b=g[1],j=(0,x.useState)(""),y=i()(j,2),P=y[0],k=y[1],w=(0,x.useState)(1),M=i()(w,2),Z=M[0],F=M[1],O=(0,x.useState)(""),T=i()(O,2),A=T[0],E=T[1],z=(0,x.useState)(""),I=i()(z,2),q=I[0],D=I[1],R=(0,S.useIntl)(),$=R.formatMessage({id:"common.intlCopySuccess"}),Y=R.formatMessage({id:"common.intlCopy"}),J=R.formatMessage({id:"common.intlExport"}),B=R.formatMessage({id:"contract.intlSignedTransaction"}),V=R.formatMessage({id:"contract.intlExported"}),H=(0,x.useCallback)((function(e,r,t,n,a){var s;null===(s=u.current)||void 0===s||s.setFieldValue("content",JSON.stringify(e,null,2)),b(JSON.stringify(e,null,2)),k(r),F(a),E(t),D(n),p(!0)}),[]);(0,x.useImperativeHandle)(r,(function(){return{handleOpen:H}}));var W=(0,x.useCallback)(o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.clipboard.writeText(h);case 2:s.success("".concat($));case 3:case"end":return e.stop()}}),e)}))),[h]),L=(0,x.useCallback)((function(){var e="data:,".concat(h),r=document.createElement("a");r.href=e,r.download="".concat(A,"@").concat(q,"_threshold@").concat(Z,"_expiration@").concat(P,"_msig.json"),r.click(),s.info("".concat(V)),p(!1)}),[h,P,Z,A,q]);return(0,v.jsxs)(_.Y,{formRef:u,title:B,open:d,onOpenChange:function(e){p(e)},submitter:{render:function(e,r){return[r[0],(0,v.jsx)(C.ZP,{onClick:W,children:Y},"copy"),(0,v.jsx)(C.ZP,{type:"primary",onClick:L,children:J},"export")]}},layout:"vertical",width:"700px",modalProps:{style:{top:25}},children:[(0,v.jsx)(ie.Z,{name:"content",fieldProps:{autoSize:{minRows:5},allowClear:!1,autoFocus:!1,onChange:void 0,value:h}}),c]})})),le=(0,x.memo)(ue);q().extend(R());var me=function(e){re()(t,e);var r=ne()(t);function t(){return X()(this,t),r.apply(this,arguments)}return K()(t)}(w.AU);se()(me,"abiName","freecpu"),se()(me,"abiFields",[{name:"user",type:w.VG}]);var de=x.forwardRef((function(e,r){var t=N.ZP.useMessage(),n=i()(t,2),s=n[0],c=n[1],u=(0,S.useSelector)((function(e){return e.global.account})),m=(0,S.useSelector)((function(e){return e.global.session})),p=(0,S.useSelector)((function(e){return e.contract.contract})),g=(0,S.useSelector)((function(e){return e.global.privateKey})),h=(0,S.useSelector)((function(e){return e.contract.batchActions})),b=(0,x.useRef)(),j=(0,S.useIntl)(),k=j.formatMessage({id:"contract.intlCreateTransaction"}),M=j.formatMessage({id:"common.intlInputException"}),Z=j.formatMessage({id:"account.intlPermissionNotExist"}),F=j.formatMessage({id:"contract.intlCreate"}),O=j.formatMessage({id:"contract.intlCreateAndSign"}),T=j.formatMessage({id:"contract.intlExpiration"}),A=j.formatMessage({id:"contract.intlFreeCpu"}),E=j.formatMessage({id:"contract.intlAccount"}),z=j.formatMessage({id:"contract.intlPermission"}),I=j.formatMessage({id:"contract.intlFreeCpuLimit"}),D=j.formatMessage({id:"common.intlPleaseConnectWallet"}),R=j.formatMessage({id:"common.intlPleaseConnectNetwork"}),$=(0,x.useRef)(),Y=(0,x.useState)(!1),J=i()(Y,2),B=J[0],V=J[1],H=(0,x.useCallback)((function(){V(!0)}),[]);(0,x.useImperativeHandle)(r,(function(){return{handleOpen:H}}));var W=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,c,p,x,v,j,y,P,k,S,N,C,M,_,F,O,T,A,E,z,$,Y,J,B,V,H,W,L,G,K;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&m.broadcast){e.next=5;break}return s.error("".concat(D)),e.abrupt("return");case 5:if(u){e.next=8;break}return s.error("".concat(R)),e.abrupt("return");case 8:return t=r.account,n=r.permission,o=q()().add(r.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),c=r.freeCpu,v=[],j=1,e.next=16,(0,f.zI)(m.client.v1.chain.get_account(t));case 16:if(y=e.sent,P=i()(y,2),k=P[0],S=P[1],!k){e.next=25;break}return s.error(k),e.abrupt("return",!1);case 25:N=!1,C=0;case 27:if(!(C<S.permissions.length)){e.next=35;break}if(S.permissions[C].perm_name.toString()!==n){e.next=32;break}return j=S.permissions[C].required_auth.keyThreshold,N=!0,e.abrupt("break",35);case 32:C++,e.next=27;break;case 35:if(N){e.next=38;break}return s.error("".concat(Z)),e.abrupt("return",!1);case 38:if(!c||"active"===n||"owner"===n){e.next=41;break}return s.error("".concat(I)),e.abrupt("return",!1);case 41:return M=[],h.forEach((function(e){var r=JSON.parse(e.typedAction);r.authorization=[{actor:t,permission:n}],M.push(r)})),_={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},{actor:t,permission:n}],data:me.from({user:t})},F=w.aU.from(_),e.next=47,m.client.v1.chain.get_info();case 47:O=e.sent,T=O.getTransactionHeader(),c?(p=w.YW.from(d()(d()({},T),{},{expiration:o,actions:[F].concat(M)})),v[0]=g.signDigest(p.signingDigest(m.chain.id.toString()))):p=w.YW.from(d()(d()({},T),{},{expiration:o,actions:M})),A=[],E=new Set,p.actions.forEach((function(e){E.add(e.account.toString())})),z=U()(E),e.prev=54,z.s();case 56:if(($=z.n()).done){e.next=72;break}return Y=$.value,e.next=60,(0,f.zI)(m.client.v1.chain.get_abi(Y));case 60:if(J=e.sent,B=i()(J,2),V=B[0],H=B[1],!V){e.next=69;break}return s.error(V),e.abrupt("return",!1);case 69:A.push({abi:w.dL.from(H.abi),account:w.VG.from(Y)});case 70:e.next=56;break;case 72:e.next=77;break;case 74:e.prev=74,e.t0=e.catch(54),z.e(e.t0);case 77:return e.prev=77,z.f(),e.finish(77);case 80:return e.next=82,(0,f.zI)(m.transact({transaction:p},{broadcast:!1,transactPlugins:[],abis:A}));case 82:if(W=e.sent,L=i()(W,2),G=L[0],K=L[1],!G){e.next=89;break}return s.error(G),e.abrupt("return",!1);case 89:x=w.uQ.from(d()(d()({},p),{},{signatures:[].concat(v,l()(K.signatures))})),b.current.handleOpen(x,o,t,n,j);case 91:case"end":return e.stop()}}),e,null,[[54,74,77,80]])})));return function(r){return e.apply(this,arguments)}}(),[m,p,g,u,h]),L=(0,x.useCallback)(o()(a()().mark((function e(){var r,t,n,o,c,u,l,p,x,v,j,y,P,k,S,N,C,M,_,F,O,T;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=$.current)||void 0===r||r.validateFields(),n=null===(t=$.current)||void 0===t?void 0:t.getFieldsValue(),o=n.account,c=n.permission,u=q()().add(n.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),l=n.freeCpu,v=1,e.next=9,(0,f.zI)(m.client.v1.chain.get_account(o));case 9:if(j=e.sent,y=i()(j,2),P=y[0],k=y[1],!P){e.next=18;break}return s.error(P),e.abrupt("return",!1);case 18:S=!1,N=0;case 20:if(!(N<k.permissions.length)){e.next=28;break}if(k.permissions[N].perm_name.toString()!==c){e.next=25;break}return v=k.permissions[N].required_auth.keyThreshold,S=!0,e.abrupt("break",28);case 25:N++,e.next=20;break;case 28:if(S){e.next=31;break}return s.error("".concat(Z)),e.abrupt("return",!1);case 31:if(!l||"active"===c||"owner"===c){e.next=34;break}return s.error("".concat(I)),e.abrupt("return",!1);case 34:return C=[],h.forEach((function(e){var r=JSON.parse(e.typedAction);r.authorization=[{actor:o,permission:c}],C.push(r)})),M={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},{actor:o,permission:c}],data:me.from({user:o})},_=w.aU.from(M),e.next=40,m.client.v1.chain.get_info();case 40:F=e.sent,O=F.getTransactionHeader(),l?(p=w.YW.from(d()(d()({},O),{},{expiration:u,actions:[_].concat(C)})),T=g.signDigest(p.signingDigest(m.chain.id.toString())),x=w.uQ.from(d()(d()({},p),{},{signatures:[T]}))):(p=w.YW.from(d()(d()({},O),{},{expiration:u,actions:C})),x=w.uQ.from(d()(d()({},p),{},{signatures:[]}))),b.current.handleOpen(x,u,o,c,v);case 44:case"end":return e.stop()}}),e)}))),[m,p,g,h]);return(0,v.jsxs)(_.Y,{formRef:$,title:k,open:B,onFinish:W,onOpenChange:function(e){V(e)},initialValues:{freeCpu:!0,expiration:60},submitter:{searchConfig:{submitText:O},render:function(e,r){return[r[0],(0,v.jsx)(C.ZP,{onClick:L,children:F},"import"),r[1]]}},layout:"vertical",width:"400px",children:[(0,v.jsx)(P.Z,{name:"account",label:E,placeholder:"example: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(M),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(P.Z,{name:"permission",label:z,placeholder:"example: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(M),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(ce,{name:"expiration",label:T,marks:{10:"10",30:"30",60:"60"},min:10,max:60,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(M),pattern:/^\d+$/}]}),(0,v.jsx)(y,{name:"freeCpu",label:A}),(0,v.jsx)(le,{ref:b}),c]})})),pe=(0,x.memo)(de),fe=function(){var e=(0,S.useDispatch)(),r=(0,S.useSelector)((function(e){return e.contract.batchActions})),t=(0,S.useSelector)((function(e){return e.global.session})),n=(0,S.useSelector)((function(e){return e.global.account})),s=N.ZP.useMessage(),c=i()(s,2),u=c[0],l=c[1],m=(0,x.useRef)(),d=(0,x.useRef)(),g=(0,S.useIntl)(),h=g.formatMessage({id:"contract.intlBatchActions"}),b=g.formatMessage({id:"common.intlTxSuccess"}),j=g.formatMessage({id:"common.intlTxFail"}),y=g.formatMessage({id:"common.intlPleaseConnectWallet"}),P=g.formatMessage({id:"common.intlPleaseConnectNetwork"}),w=g.formatMessage({id:"contract.intlMsigPubkey"}),M=g.formatMessage({id:"contract.intlMsigProposal"}),Z=(0,x.useCallback)(o()(a()().mark((function e(){var s,o,c,l,m;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.broadcast){e.next=5;break}return u.error("".concat(y)),e.abrupt("return");case 5:if(n){e.next=8;break}return u.error("".concat(P)),e.abrupt("return");case 8:return s=[],r.forEach((function(e){s.push(JSON.parse(e.typedAction))})),e.next=12,(0,f.zI)(t.transact({actions:s}));case 12:o=e.sent,c=i()(o,2),l=c[0],m=c[1],l?u.error(l):m&&m.response?u.success("".concat(b)):u.error("".concat(j));case 17:case"end":return e.stop()}}),e)}))),[t,n,r]),_=(0,x.useCallback)((function(t){var n=r.filter((function(e,r){return r!==t}));e(p.N.setBatchActions(n))}),[r]),F=(0,x.useCallback)((function(){e(p.N.setBatchActions([]))}),[]);return(0,v.jsxs)("div",{className:"tab-action",children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:"".concat(h,"(").concat(r.length,")")}),(0,v.jsx)("div",{className:"px-[13px]",children:r.map((function(e,r){return(0,v.jsx)("div",{className:"mb-2",children:(0,v.jsxs)("div",{style:{background:"#e6f4ff",border:"1px solid #91caff",boxSizing:"border-box",margin:"0",padding:"8px 12px",color:"rgba(0, 0, 0, 0.88)",fontSize:"14px",lineHeight:"1.5714285714285714",listStyle:"none",position:"relative",display:"flex",alignItems:"center",wordWrap:"break-word",borderRadius:"8px"},children:[(0,v.jsx)("div",{style:{flex:1,minWidth:0,boxSizing:"border-box"},children:e.untypedAction}),(0,v.jsx)("button",{type:"button",onClick:function(){return _(r)},style:{marginInlineStart:"8px",padding:0,overflow:"hidden",fontSize:"12px",lineHeight:"12px",backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer"},children:(0,v.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.45)",transition:"color 0.2s"},children:(0,v.jsx)("svg",{fillRule:"evenodd",viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor",children:(0,v.jsx)("path",{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"})})})})]})},r)}))}),(0,v.jsx)(k.A,{className:"pl-[13px]",layout:"vertical",onFinish:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z());case 1:case"end":return e.stop()}}),e)}))),onReset:F,submitter:{render:function(e,r){return[r[1],r[0],(0,v.jsx)(C.ZP,{onClick:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.current.handleOpen();case 1:case"end":return e.stop()}}),e)}))),children:M},"msig"),(0,v.jsx)(C.ZP,{onClick:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.current.handleOpen();case 1:case"end":return e.stop()}}),e)}))),children:w},"msig")]}}}),(0,v.jsx)(W,{ref:d}),(0,v.jsx)(pe,{ref:m}),l]})},ge=(0,x.memo)(fe),he=function(){var e=(0,S.useSelector)((function(e){return e.contract.decodeData})),r=(0,S.useIntl)().formatMessage({id:"contract.intlDecodeResult"});return(0,v.jsxs)("div",{className:"tab-action",children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:r}),(0,v.jsx)("div",{className:"px-[13px]",children:(0,v.jsx)("pre",{children:e})})]})},xe=(0,x.memo)(he),be=function(){var e=(0,S.useSelector)((function(e){return e.contract.encodeData})),r=(0,S.useIntl)().formatMessage({id:"contract.intlEncodeResult"});return(0,v.jsxs)("div",{className:"tab-action",children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:r}),(0,v.jsxs)("div",{className:"px-[13px]",children:[(0,v.jsx)("div",{className:"text-base font-semibold",children:"Action:"}),(0,v.jsx)("pre",{children:e.action}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"Transaction:"}),(0,v.jsx)("pre",{children:e.transaction}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"SigningData:"}),(0,v.jsx)("div",{className:" break-words mb-3",children:e.signingData}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"SigningDigest:"}),(0,v.jsx)("pre",{children:e.signingDigest}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"SignedTransaction:"}),(0,v.jsx)("pre",{children:e.signedTransaction}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"PackedTransaction:"}),(0,v.jsx)("pre",{children:e.packedTransaction}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"Transaction ID:"}),(0,v.jsx)("pre",{children:e.transactionId})]})]})},ve=(0,x.memo)(be),je=x.forwardRef((function(e,r){var t=(0,S.useDispatch)(),n=N.ZP.useMessage(),s=i()(n,2),c=s[0],u=s[1],l=(0,S.useSelector)((function(e){return e.contract.abi})),m=(0,S.useSelector)((function(e){return e.contract.actionSelection})),d=(0,S.useIntl)(),f=d.formatMessage({id:"contract.intlDecode"}),g=d.formatMessage({id:"common.intlInputException"}),h=d.formatMessage({id:"contract.intlDecodeSuccess"}),b=(0,x.useRef)(),j=(0,x.useState)(!1),y=i()(j,2),P=y[0],k=y[1],C=(0,x.useCallback)((function(){k(!0)}),[]);(0,x.useImperativeHandle)(r,(function(){return{handleOpen:C}}));var M=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r){var n,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w.ei.decode({data:r.input,abi:l,type:m}),s=JSON.stringify(n,null,2),t(p.N.setDecodeData(s)),t(p.N.setBatchActions([])),t(p.N.setEncodeData(void 0)),c.success("".concat(h)),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),c.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),[l,m]);return(0,v.jsxs)(_.Y,{formRef:b,title:f,open:P,onFinish:M,onOpenChange:function(e){k(e)},layout:"horizontal",width:"600px",children:[(0,v.jsx)(ie.Z,{placeholder:"example: 000000000090b1ca10270000000000000444465300000000",name:"input",fieldProps:{autoSize:{minRows:5},allowClear:!0,autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(g),pattern:/^[a-fA-F0-9]+$/}]}),u]})})),ye=(0,x.memo)(je);q().extend(R());var Pe=x.forwardRef((function(e,r){var t=N.ZP.useMessage(),n=i()(t,2),s=n[0],c=n[1],u=(0,S.useSelector)((function(e){return e.contract.abi})),l=(0,S.useSelector)((function(e){return e.contract.actionSelection})),m=(0,S.useSelector)((function(e){return e.global.account})),p=(0,S.useSelector)((function(e){return e.global.session})),g=(0,S.useSelector)((function(e){return e.contract.fields})),h=(0,S.useSelector)((function(e){return e.contract.contract})),b=(0,x.useState)(!1),j=i()(b,2),y=j[0],k=j[1],C=(0,x.useState)(),T=i()(C,2),A=T[0],E=T[1],I=(0,x.useState)(new Set),D=i()(I,2),R=D[0],J=D[1],B=(0,x.useRef)(),H=(0,x.useRef)(),W=(0,x.useState)(!1),L=i()(W,2),U=L[0],G=L[1],K=(0,S.useIntl)(),Q=K.formatMessage({id:"contract.intlCreateProposal"}),X=K.formatMessage({id:"common.intlInputException"}),ee=K.formatMessage({id:"account.intlPermissionNotExist"}),re=K.formatMessage({id:"contract.intlCreate"}),te=K.formatMessage({id:"contract.intlExpirationError"}),ne=K.formatMessage({id:"contract.intlExpiration"}),ae=K.formatMessage({id:"contract.intlPermission"}),se=K.formatMessage({id:"common.intlTxSuccess"}),oe=K.formatMessage({id:"common.intlTxFail"}),ce=K.formatMessage({id:"common.intlPleaseConnectWallet"}),ie=K.formatMessage({id:"common.intlPleaseConnectNetwork"}),ue=K.formatMessage({id:"contract.intlProposer"}),le=K.formatMessage({id:"contract.intlProposalName"}),me=K.formatMessage({id:"contract.intlMsigAccount"}),de=K.formatMessage({id:"contract.intlRequested"}),pe=K.formatMessage({id:"contract.intlMsigAccountWeightInsufficient"}),fe=K.formatMessage({id:"contract.intlProposalNamePlaceholder"}),ge=(0,x.useCallback)((function(e,r){E(e),J(r),G(!0)}),[]);(0,x.useImperativeHandle)(r,(function(){return{handleOpen:ge}}));var he=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,c,x,b,v,j,y,P,k,S,N,C,M,Z,_,F,O,T,E,z,I,D,$,Y,J,B,V,H,W,L,U;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&p.broadcast){e.next=5;break}return s.error("".concat(ce)),e.abrupt("return");case 5:if(m){e.next=8;break}return s.error("".concat(ie)),e.abrupt("return");case 8:return n=r.proposer,o=r.proposalName,c=r.msigAccount,x=r.msigPermission,b=[],r.requested.forEach((function(e){b.find((function(r){return r.actor===e.requestedAccount&&r.permission===e.requestedPermission}))||b.push({actor:e.requestedAccount,permission:e.requestedPermission})})),v=q()(r.expiration).utc().format("YYYY-MM-DDTHH:mm:ss"),e.next=17,(0,f.zI)(p.client.v1.chain.get_account(c));case 17:if(j=e.sent,y=i()(j,2),P=y[0],k=y[1],!P){e.next=26;break}return s.error(P),e.abrupt("return",!1);case 26:S=!1,N=0;case 28:if(!(N<k.permissions.length)){e.next=51;break}if(k.permissions[N].perm_name.toString()!==x){e.next=48;break}C=k.permissions[N].required_auth.keyThreshold,M=k.permissions[N].required_auth.accounts,Z=0,_=0;case 34:if(!(_<b.length)){e.next=43;break}for(F=!1,O=0;O<M.length;O++)b[_].actor===M[O].permission.actor.toString()&&b[_].permission===M[O].permission.permission.toString()&&(F=!0,Z+=M[O].weight.toNumber());if(F){e.next=40;break}return s.error("".concat(ee)),e.abrupt("return",!1);case 40:_++,e.next=34;break;case 43:if(!(Z<C)){e.next=46;break}return s.error("".concat(pe)),e.abrupt("return",!1);case 46:return S=!0,e.abrupt("break",51);case 48:N++,e.next=28;break;case 51:if(S){e.next=54;break}return s.error("".concat(ee)),e.abrupt("return",!1);case 54:return T=null===(t=A.current)||void 0===t?void 0:t.getFieldsValue(),E=/.+\?$/,z=/.+\$$/,I=Object.assign({},T),Object.keys(I).forEach((function(e){R.has(e)&&(I[e]=JSON.parse(I[e]))})),Object.keys(I).forEach((function(e){var r=g.find((function(r){return r.name===e}));r&&E.test(r.type)?void 0!==I[e]&&String(I[e]).trim()||(I[e]=null):r&&z.test(r.type)&&(I[e]="")})),D={account:h,name:l,authorization:[{actor:c,permission:x}],data:I},$=w.aU.from(D,u),e.next=64,p.client.v1.chain.get_info();case 64:return Y=e.sent,J=Y.getTransactionHeader(),B=w.YW.from(d()(d()({},J),{},{expiration:v,actions:[$]})),V={action:{account:"eosio.msig",name:"propose",authorization:[p.permissionLevel],data:{proposer:n,proposal_name:o,requested:b,trx:B.toJSON()}}},e.next=70,(0,f.zI)(p.transact(V));case 70:return H=e.sent,W=i()(H,2),L=W[0],U=W[1],L?s.error(L):U&&U.response?s.success("".concat(se)):s.error("".concat(oe)),e.abrupt("return",!0);case 76:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[p,A,R,g,h,m]),xe=(0,x.useCallback)(o()(a()().mark((function e(){var r,t,n,o,c,u,l,m,d,g,h;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),t=null===(r=H.current)||void 0===r?void 0:r.getFieldsValue(),n=t.msigAccount,o=t.msigPermission,c={},e.next=7,(0,f.zI)(p.client.v1.chain.get_account(n));case 7:if(u=e.sent,l=i()(u,2),m=l[0],d=l[1],!m){e.next=17;break}return s.error(m),k(!1),e.abrupt("return",!1);case 17:g=!1,h=0;case 19:if(!(h<d.permissions.length)){e.next=27;break}if(d.permissions[h].perm_name.toString()!==o){e.next=24;break}return c=d.permissions[h].required_auth,g=!0,e.abrupt("break",27);case 24:h++,e.next=19;break;case 27:if(g){e.next=31;break}return s.error("".concat(ee)),k(!1),e.abrupt("return",!1);case 31:k(!1),B.current.handleOpen(c,H);case 33:case"end":return e.stop()}}),e)}))),[p]);return(0,v.jsxs)(_.Y,{formRef:H,title:Q,open:U,onFinish:he,onOpenChange:function(e){G(e)},initialValues:{proposer:m?m.accountName.toString():""},submitter:{searchConfig:{submitText:re},render:function(e,r){return[r[0],r[1]]}},layout:"vertical",width:"500px",modalProps:{style:{top:25}},children:[(0,v.jsx)(P.Z,{disabled:!0,name:"proposer",label:ue,placeholder:"example: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(P.Z,{name:"proposalName",label:le,placeholder:fe,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"msigAccount",label:me,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"msigPermission",label:(0,v.jsxs)("div",{className:"flex items-center",children:[ae,y?(0,v.jsx)($.Z,{spin:y,className:"ml-3 text-blue-600"}):(0,v.jsx)(Y.Z,{className:"ml-3 text-blue-600 hover:cursor-pointer",onClick:xe})]}),placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]})})]}),(0,v.jsx)(F.Z,{bordered:!0,bodyStyle:{paddingInline:"12px",paddingBlock:"6px"},className:"mb-3 requestedAccount",children:(0,v.jsx)(O.u,{name:"requested",min:1,creatorButtonProps:!1,itemContainerRender:function(e){return(0,v.jsx)("div",{children:e})},initialValue:[{requestedAccount:"",permission:""}],children:(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"requestedAccount",label:de,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"requestedPermission",label:ae,placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]})})]})})}),(0,v.jsx)(z,{width:"lg",name:"expiration",label:ne,rules:[{required:!0,validator:function(e,r){try{return r?r.unix()<q()().unix()?Promise.reject(te):Promise.resolve(""):Promise.reject(X)}catch(e){return Promise.reject(e.message)}}}]}),(0,v.jsx)(V,{ref:B}),c]})})),ke=(0,x.memo)(Pe);q().extend(R());var Se=function(e){re()(t,e);var r=ne()(t);function t(){return X()(this,t),r.apply(this,arguments)}return K()(t)}(w.AU);se()(Se,"abiName","freecpu"),se()(Se,"abiFields",[{name:"user",type:w.VG}]);var we=x.forwardRef((function(e,r){var t=N.ZP.useMessage(),n=i()(t,2),s=n[0],c=n[1],u=(0,S.useSelector)((function(e){return e.contract.abi})),m=(0,S.useSelector)((function(e){return e.contract.actionSelection})),p=(0,S.useSelector)((function(e){return e.global.account})),g=(0,S.useSelector)((function(e){return e.global.session})),h=(0,S.useSelector)((function(e){return e.contract.fields})),b=(0,S.useSelector)((function(e){return e.contract.contract})),j=(0,S.useSelector)((function(e){return e.global.privateKey})),k=(0,x.useState)(),M=i()(k,2),Z=M[0],F=M[1],O=(0,x.useState)(new Set),T=i()(O,2),A=T[0],E=T[1],z=(0,x.useRef)(),I=(0,S.useIntl)(),D=I.formatMessage({id:"contract.intlCreateTransaction"}),R=I.formatMessage({id:"common.intlInputException"}),$=I.formatMessage({id:"account.intlPermissionNotExist"}),Y=I.formatMessage({id:"contract.intlCreate"}),J=I.formatMessage({id:"contract.intlCreateAndSign"}),B=I.formatMessage({id:"contract.intlExpiration"}),V=I.formatMessage({id:"contract.intlFreeCpu"}),H=I.formatMessage({id:"contract.intlAccount"}),W=I.formatMessage({id:"contract.intlPermission"}),L=I.formatMessage({id:"contract.intlFreeCpuLimit"}),U=I.formatMessage({id:"common.intlPleaseConnectWallet"}),G=I.formatMessage({id:"common.intlPleaseConnectNetwork"}),K=(0,x.useRef)(),Q=(0,x.useState)(!1),X=i()(Q,2),ee=X[0],re=X[1],te=(0,x.useCallback)((function(e,r){F(e),E(r),re(!0)}),[]);(0,x.useImperativeHandle)(r,(function(){return{handleOpen:te}}));var ne=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,c,x,v,y,P,k,S,N,C,M,_,F,O,T,E,I,D,R,Y,J,B,V,H,W,K,Q;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&g.broadcast){e.next=5;break}return s.error("".concat(U)),e.abrupt("return");case 5:if(p){e.next=8;break}return s.error("".concat(G)),e.abrupt("return");case 8:return n=r.account,o=r.permission,c=q()().add(r.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),x=r.freeCpu,P=[],k=1,e.next=16,(0,f.zI)(g.client.v1.chain.get_account(n));case 16:if(S=e.sent,N=i()(S,2),C=N[0],M=N[1],!C){e.next=25;break}return s.error(C),e.abrupt("return",!1);case 25:_=!1,F=0;case 27:if(!(F<M.permissions.length)){e.next=35;break}if(M.permissions[F].perm_name.toString()!==o){e.next=32;break}return k=M.permissions[F].required_auth.keyThreshold,_=!0,e.abrupt("break",35);case 32:F++,e.next=27;break;case 35:if(_){e.next=38;break}return s.error("".concat($)),e.abrupt("return",!1);case 38:if(O=null===(t=Z.current)||void 0===t?void 0:t.getFieldsValue(),T=/.+\?$/,E=/.+\$$/,I=Object.assign({},O),Object.keys(I).forEach((function(e){A.has(e)&&(I[e]=JSON.parse(I[e]))})),Object.keys(I).forEach((function(e){var r=h.find((function(r){return r.name===e}));r&&T.test(r.type)?void 0!==I[e]&&String(I[e]).trim()||(I[e]=null):r&&E.test(r.type)&&(I[e]="")})),!x||"active"===o||"owner"===o){e.next=47;break}return s.error("".concat(L)),e.abrupt("return",!1);case 47:return D={account:b,name:m,authorization:[{actor:n,permission:o}],data:I},R=w.aU.from(D,u),Y={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},{actor:n,permission:o}],data:Se.from({user:n})},J=w.aU.from(Y),e.next=53,g.client.v1.chain.get_info();case 53:return B=e.sent,V=B.getTransactionHeader(),x?(v=w.YW.from(d()(d()({},V),{},{expiration:c,actions:[J,R]})),P[0]=j.signDigest(v.signingDigest(g.chain.id.toString()))):v=w.YW.from(d()(d()({},V),{},{expiration:c,actions:[R]})),e.next=58,(0,f.zI)(g.transact({transaction:v},{broadcast:!1,transactPlugins:[]}));case 58:if(H=e.sent,W=i()(H,2),K=W[0],Q=W[1],!K){e.next=65;break}return s.error(K),e.abrupt("return",!1);case 65:y=w.uQ.from(d()(d()({},v),{},{signatures:[].concat(P,l()(Q.signatures))})),z.current.handleOpen(y,c,n,o,k);case 67:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[g,Z,A,h,b,j,p]),ae=(0,x.useCallback)(o()(a()().mark((function e(){var r,t,n,o,c,l,p,x,v,y,P,k,S,N,C,M,_,F,O,T,E,I,D,R,Y,J,B,V;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=K.current)||void 0===r||r.validateFields(),o=null===(t=K.current)||void 0===t?void 0:t.getFieldsValue(),c=o.account,l=o.permission,p=q()().add(o.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),x=o.freeCpu,P=1,e.next=9,(0,f.zI)(g.client.v1.chain.get_account(c));case 9:if(k=e.sent,S=i()(k,2),N=S[0],C=S[1],!N){e.next=18;break}return s.error(N),e.abrupt("return",!1);case 18:M=!1,_=0;case 20:if(!(_<C.permissions.length)){e.next=28;break}if(C.permissions[_].perm_name.toString()!==l){e.next=25;break}return P=C.permissions[_].required_auth.keyThreshold,M=!0,e.abrupt("break",28);case 25:_++,e.next=20;break;case 28:if(M){e.next=31;break}return s.error("".concat($)),e.abrupt("return",!1);case 31:if(F=null===(n=Z.current)||void 0===n?void 0:n.getFieldsValue(),O=/.+\?$/,T=/.+\$$/,E=Object.assign({},F),Object.keys(E).forEach((function(e){A.has(e)&&(E[e]=JSON.parse(E[e]))})),Object.keys(E).forEach((function(e){var r=h.find((function(r){return r.name===e}));r&&O.test(r.type)?void 0!==E[e]&&String(E[e]).trim()||(E[e]=null):r&&T.test(r.type)&&(E[e]="")})),!x||"active"===l||"owner"===l){e.next=40;break}return s.error("".concat(L)),e.abrupt("return",!1);case 40:return I={account:b,name:m,authorization:[{actor:c,permission:l}],data:E},D=w.aU.from(I,u),R={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},{actor:c,permission:l}],data:Se.from({user:c})},Y=w.aU.from(R),e.next=46,g.client.v1.chain.get_info();case 46:J=e.sent,B=J.getTransactionHeader(),x?(v=w.YW.from(d()(d()({},B),{},{expiration:p,actions:[Y,D]})),V=j.signDigest(v.signingDigest(g.chain.id.toString())),y=w.uQ.from(d()(d()({},v),{},{signatures:[V]}))):(v=w.YW.from(d()(d()({},B),{},{expiration:p,actions:[D]})),y=w.uQ.from(d()(d()({},v),{},{signatures:[]}))),z.current.handleOpen(y,p,c,l,P);case 50:case"end":return e.stop()}}),e)}))),[g,Z,A,h,b,j]);return(0,v.jsxs)(_.Y,{formRef:K,title:D,open:ee,onFinish:ne,onOpenChange:function(e){re(e)},initialValues:{freeCpu:!0,expiration:60},submitter:{searchConfig:{submitText:J},render:function(e,r){return[r[0],(0,v.jsx)(C.ZP,{onClick:ae,children:Y},"import"),r[1]]}},layout:"vertical",width:"400px",children:[(0,v.jsx)(P.Z,{name:"account",label:H,placeholder:"example: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(P.Z,{name:"permission",label:W,placeholder:"example: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(ce,{name:"expiration",label:B,marks:{10:"10",30:"30",60:"60"},min:10,max:60,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^\d+$/}]}),(0,v.jsx)(y,{name:"freeCpu",label:V}),(0,v.jsx)(le,{ref:z}),c]})})),Ne=(0,x.memo)(we),Ce=function(){var e,r=(0,x.useRef)(),t=(0,x.useRef)(),n=(0,x.useRef)(),s=(0,x.useRef)(),c=(0,S.useDispatch)(),u=(0,x.useState)(new Set),m=i()(u,1)[0],g=(0,S.useSelector)((function(e){return e.contract.abi})),h=(0,S.useSelector)((function(e){return e.contract.actionSelection})),b=(0,S.useSelector)((function(e){return e.contract.actionType})),j=(0,S.useSelector)((function(e){return e.global.session})),_=(0,S.useSelector)((function(e){return e.global.account})),F=(0,S.useSelector)((function(e){return e.contract.contract})),O=(0,S.useSelector)((function(e){return e.contract.batchActions})),T=(0,S.useSelector)((function(e){return e.contract.encodeData})),A=(0,S.useSelector)((function(e){return e.contract.decodeData})),E=(0,S.useSelector)((function(e){return e.contract.fields})),z=N.ZP.useMessage(),I=i()(z,2),q=I[0],D=I[1],R=(0,S.useIntl)(),$=R.formatMessage({id:"common.intlCopySuccess"}),Y=R.formatMessage({id:"contract.intlSelectAction"}),J=R.formatMessage({id:"contract.intlEnterData"}),B=R.formatMessage({id:"common.intlCopy"}),V=R.formatMessage({id:"common.intlTxSuccess"}),H=R.formatMessage({id:"common.intlTxFail"}),W=R.formatMessage({id:"common.intlPleaseConnectWallet"}),L=R.formatMessage({id:"common.intlPleaseConnectNetwork"}),U=R.formatMessage({id:"contract.intlAdd"}),G=R.formatMessage({id:"contract.intlEncode"}),K=R.formatMessage({id:"contract.intlDecode"}),Q=R.formatMessage({id:"contract.intlEncodeSuccess"}),X=R.formatMessage({id:"contract.intlMsigPubkey"}),ee=R.formatMessage({id:"contract.intlMsigProposal"}),re=(0,x.useCallback)((function(e,r){var t=/(\$|\?)$/g,n=/^[a-z1-5.]{1,12}$/,a=/^\d+$/,s=/^-?\d+$/,o=/^(-?\d+)(.\d+)?$/,c=/^([0-9a-fA-F][0-9a-fA-F])+$/,i=/^\d+,[A-Z]+$/;if(t.test(e.message)&&!r)return Promise.resolve();switch(e.message.replace(t,"")){case"string":return Promise.resolve("");case"name":try{return n.test(r)?Promise.resolve(w.VG.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"asset":try{return Promise.resolve(w.xR.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum160":try{return Promise.resolve(w.b9.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum256":try{return Promise.resolve(w.Nz.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum512":try{return Promise.resolve(w.W4.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"uint8":try{return a.test(r)?Promise.resolve(w._A.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"uint16":try{return a.test(r)?Promise.resolve(w.j8.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"uint32":try{return a.test(r)?Promise.resolve(w.xH.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"uint64":try{return a.test(r)?Promise.resolve(w.zM.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"uint128":try{return a.test(r)?Promise.resolve(w.pB.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint16":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint32":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint64":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint128":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int8":try{return s.test(r)?Promise.resolve(w.tJ.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int16":try{return s.test(r)?Promise.resolve(w.k6.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int32":try{return s.test(r)?Promise.resolve(w.Vq.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int64":try{return s.test(r)?Promise.resolve(w.ni.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int128":try{return s.test(r)?Promise.resolve(w.Gm.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint16":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint32":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint64":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint128":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"float32":try{return o.test(r)?Promise.resolve(w.yA.from(r)):Promise.reject(e.message=String(o))}catch(r){return Promise.reject(e.message=r.message)}case"float64":try{return o.test(r)?Promise.resolve(w.Dh.from(r)):Promise.reject(e.message=String(o))}catch(r){return Promise.reject(e.message=r.message)}case"bytes":try{return c.test(r)?Promise.resolve(w.Jj.from(r)):Promise.reject(e.message=String(c))}catch(r){return Promise.reject(e.message=r.message)}case"block_timestamp_type":try{return a.test(r)?Promise.resolve(w.wm.from(Number(r))):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"time_point":try{return a.test(r)?Promise.resolve(w.hI.from(Number(r))):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"time_point_sec":try{return a.test(r)?Promise.resolve(w.AQ.from(Number(r))):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"public_key":try{return Promise.resolve(w.nh.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"symbol":try{return i.test(r)?Promise.resolve(w.xR.Symbol.from(r)):Promise.reject(e.message=String(i))}catch(r){return Promise.reject(e.message=r.message)}default:try{return JSON.parse(r),m.add(e.field),Promise.resolve()}catch(r){return Promise.reject(e.message=r.message)}}}),[h,m]),te=(0,x.useCallback)((function(e){switch(e.replace(/(\$|\?)$/g,"")){case"name":return"Enter account name...";case"asset":return"example: 1.00000000 DFS";case"uint8":case"uint16":case"uint32":case"uint64":case"uint128":case"varuint":case"varuint16":case"varuint32":case"varuint64":case"varuint128":case"int8":case"int16":case"int32":case"int64":case"int128":case"varint":case"varint16":case"varint32":case"varint64":case"varint128":case"float32":case"float64":return"Enter number...";case"string":return"Enter string...";case"permission_level":return'example: {"actor": "foo", "permission": "active"}';case"bytes":return"example: 1234abcdff";case"checksum256":return"example: 73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d";case"authority":return'example: {"threshold": 1, "keys": [{"key": "EOS6RrvujLQN1x5Tacbep1KAk8zzKpSThAQXBCKYFfGUYeABhJRin", "weight": 1}], "accounts": [], "waits": []}';case"symbol":return"example: 8,DFS";case"name[]":return'example: ["david", "mary"]';case"asset[]":return'example: ["1.00000000 DFS", "2.00000000 USDT"]';case"uint8[]":case"uint16[]":case"uint32[]":case"uint64[]":case"uint128[]":case"varuint[]":case"varuint16[]":case"varuint32[]":case"varuint64[]":case"varuint128[]":return"example: [12, 34]";case"int8[]":case"int16[]":case"int32[]":case"int64[]":case"int128[]":case"varint[]":case"varint16[]":case"varint32[]":case"varint64[]":case"varint128[]":return"example: [12, -34]";case"float32[]":case"float64[]":return"example: [12.12, -34.34]";case"string[]":return'example: ["abc", "def"]';case"permission_level[]":return'example: [{"actor": "foo", "permission": "active"}, {"actor": "foo", "permission": "active"}]';case"bytes[]":return'example: ["123abc", "456def"]';case"checksum256[]":return'example: ["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d", "73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d"]';case"symbol[]":return'example: ["8,DFS", "8,USDT"]';default:return"Enter ".concat(e,"...")}}),[]),ne=(0,x.useCallback)((function(){var e=/.+(\$|\?)$/;return E.map((function(r,t){return"bool"===r.type?(0,v.jsx)(y,{name:r.name,label:(0,v.jsx)("span",{className:"font-semibold",children:r.name})},t):(0,v.jsx)(P.Z,{placeholder:te(r.type),name:r.name,label:(0,v.jsx)("span",{className:"font-semibold",children:r.name}),rules:[{required:!e.test(r.type),message:r.type,validator:re}],hasFeedback:!0,fieldProps:{allowClear:!0,autoFocus:!1,addonAfter:r.type,size:"large"}},t)}))}),[g,h,b,E]),ae=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,s,o,c,u,l,p,x,b;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j&&j.broadcast){e.next=5;break}return q.error("".concat(W)),e.abrupt("return");case 5:if(_){e.next=8;break}return q.error("".concat(L)),e.abrupt("return");case 8:return t={},n=/.+\?$/,s=/.+\$$/,E.forEach((function(e){s.test(e.type)?t[e.name]="":n.test(e.type)&&(t[e.name]=null)})),o=Object.assign(d()({},t),r),Object.keys(o).forEach((function(e){m.has(e)&&(o[e]=JSON.parse(o[e]))})),Object.keys(o).forEach((function(e){var r=E.find((function(r){return r.name===e}));r&&n.test(r.type)&&(String(o[e]).trim()||(o[e]=null))})),c={account:F,name:h,authorization:[j.permissionLevel],data:o},u=w.aU.from(c,g),e.next=19,(0,f.zI)(j.transact({actions:[u]}));case 19:l=e.sent,p=i()(l,2),x=p[0],b=p[1],x?q.error(x):b&&b.response?q.success("".concat(V)):q.error("".concat(H));case 24:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[h,g,m,F,j,_,E]),se=(0,x.useCallback)(o()(a()().mark((function e(){var t,n,s,o,c,i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=r.current)||void 0===t?void 0:t.getFieldsValue(),s=/.+\?$/,o=/.+\$$/,c=Object.assign({},n),Object.keys(c).forEach((function(e){m.has(e)&&(c[e]=JSON.parse(c[e]))})),Object.keys(c).forEach((function(e){var r=E.find((function(r){return r.name===e}));r&&s.test(r.type)?void 0!==c[e]&&String(c[e]).trim()||(c[e]=null):r&&o.test(r.type)&&(c[e]="")})),j.broadcast){e.next=11;break}return e.next=9,window.navigator.clipboard.writeText(JSON.stringify(c));case 9:e.next=14;break;case 11:return i={account:F,name:h,authorization:[{actor:j.actor,permission:j.permission}],data:c},e.next=14,window.navigator.clipboard.writeText(JSON.stringify(i,null,2));case 14:q.success("".concat($));case 15:case"end":return e.stop()}}),e)}))),[q,j,F,h,E]),oe=(0,x.useCallback)(o()(a()().mark((function e(){var t,n,s,o,i,u,d,f;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:if(j&&j.broadcast){e.next=7;break}return q.error("".concat(W)),e.abrupt("return");case 7:if(_){e.next=10;break}return q.error("".concat(L)),e.abrupt("return");case 10:s=null===(n=r.current)||void 0===n?void 0:n.getFieldsValue(),o=/.+\?$/,i=/.+\$$/,u=Object.assign({},s),Object.keys(u).forEach((function(e){m.has(e)&&(u[e]=JSON.parse(u[e]))})),Object.keys(u).forEach((function(e){var r=E.find((function(r){return r.name===e}));r&&o.test(r.type)?void 0!==u[e]&&String(u[e]).trim()||(u[e]=null):r&&i.test(r.type)&&(u[e]="")})),d={account:F,name:h,authorization:[{actor:j.actor,permission:j.permission}],data:u},f=w.aU.from(d,g),c(p.N.setEncodeData(void 0)),c(p.N.setDecodeData(void 0)),c(p.N.setBatchActions([].concat(l()(O),[{untypedAction:JSON.stringify(d),typedAction:JSON.stringify(f)}])));case 21:case"end":return e.stop()}}),e)}))),[q,g,j,_,F,h,O,E]),ce=(0,x.useCallback)(o()(a()().mark((function e(){var t,n,s,o,u,l,x,b,v,y,P,k,S,N,C,M,Z,_,O,T,A,z,I,D;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:if(s=null===(n=r.current)||void 0===n?void 0:n.getFieldsValue(),o=/.+\?$/,u=/.+\$$/,l=Object.assign({},s),Object.keys(l).forEach((function(e){m.has(e)&&(l[e]=JSON.parse(l[e]))})),Object.keys(l).forEach((function(e){var r=E.find((function(r){return r.name===e}));r&&o.test(r.type)?void 0!==l[e]&&String(l[e]).trim()||(l[e]=null):r&&u.test(r.type)&&(l[e]="")})),x=j.broadcast?[j.permissionLevel]:[],b={account:F,name:h,authorization:x,data:l},v=w.aU.from(b,g),y=JSON.stringify(v,null,2),P={expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],transaction_extensions:[]},k=w.YW.from(d()(d()({},P),{},{actions:[v]})),S=JSON.stringify(k,null,2),N=k.id.toString(),C="",M="",Z="",_="",!j||!j.broadcast){e.next=27;break}return e.next=23,(0,f.zI)(j.transact({actions:[v]},{broadcast:!1,transactPlugins:[]}));case 23:O=e.sent,T=i()(O,2),(A=T[1])&&(k=A.resolved.transaction,S=JSON.stringify(k,null,2),z=A.signatures[0],I=w.uQ.from(d()(d()({},k),{},{signatures:[z]})),D=w.f1.fromSigned(I),C=JSON.stringify(I,null,2),M=JSON.stringify(D,null,2),Z=A.resolved.signingData.toString(),_=A.resolved.signingDigest.toString());case 27:c(p.N.setEncodeData({action:y,transaction:S,transactionId:N,signedTransaction:C,packedTransaction:M,signingData:Z,signingDigest:_})),c(p.N.setBatchActions([])),c(p.N.setDecodeData(void 0)),q.success("".concat(Q));case 31:case"end":return e.stop()}}),e)}))),[h,g,m,F,j,E]),ie=(0,x.useCallback)((function(){var e;null===(e=r.current)||void 0===e||e.resetFields(),c(p.N.setEncodeData(void 0))}),[]),ue=(0,x.useCallback)((function(e){var r,t=null==g||null===(r=g.structs)||void 0===r?void 0:r.find((function(r){return r.name===e.type.toString()})),n=null==t?void 0:t.fields;c(p.N.setFields(n)),c(p.N.setActionSelection(e.name.toString())),c(p.N.setActionType(e.type.toString())),ie()}),[ie,E,g]);return(0,v.jsxs)("div",{className:"tab-action",children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-3",children:Y}),(0,v.jsx)("div",{className:"flex flex-start flex-wrap pl-[13px]",children:null==g||null===(e=g.actions)||void 0===e?void 0:e.map((function(e,r){return(0,v.jsx)(C.ZP,{className:"w-[150px] mr-2 mb-2",ghost:h!==e.name.toString(),type:"primary",size:"large",onClick:function(){return ue(e)},children:e.name.toString()},r)}))}),!!h&&(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:J}),(0,v.jsx)(M.Z,{gutter:10,className:"w-full",children:(0,v.jsx)(Z.Z,{lg:{span:"12"},md:{span:"20"},sm:{span:"20"},xs:{span:"24"},children:(0,v.jsx)(k.A,{formRef:r,className:"pl-[13px]",layout:"vertical",onFinish:function(){var e=o()(a()().mark((function e(r){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),onReset:function(){return ie()},submitter:{render:function(e,c){return(0,v.jsxs)("div",{className:"flex flex-wrap",style:{marginTop:"10px"},children:[(0,v.jsx)("div",{className:"mr-[8px] mt-[14px]",children:c[1]}),(0,v.jsx)("div",{className:"mr-[8px] mt-[14px]",children:c[0]}),(0,v.jsx)(C.ZP,{className:"mr-[8px] mt-[14px]",onClick:se,children:B},"copy"),(0,v.jsx)(C.ZP,{className:"mr-[8px] mt-[14px]",onClick:oe,children:U},"add"),(0,v.jsx)(C.ZP,{className:"mr-[8px] mt-[14px]",onClick:ce,children:G},"encode"),(0,v.jsx)(C.ZP,{className:"mr-[8px] mt-[14px]",onClick:function(){return t.current.handleOpen()},children:K},"decode"),(0,v.jsx)(C.ZP,{className:"mr-[8px] mt-[14px]",onClick:o()(a()().mark((function e(){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:s.current.handleOpen(r,m);case 3:case"end":return e.stop()}}),e)}))),children:ee},"msigProposal"),(0,v.jsx)(C.ZP,{className:"mr-[8px] mt-[14px]",onClick:o()(a()().mark((function e(){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:n.current.handleOpen(r,m);case 3:case"end":return e.stop()}}),e)}))),children:X},"msigPubkey")]})}},children:ne()})})})]}),(0,v.jsx)(Ne,{ref:n}),(0,v.jsx)(ke,{ref:s}),(0,v.jsx)(ye,{ref:t}),!!A&&(0,v.jsx)(xe,{}),!!T&&(0,v.jsx)(ve,{}),!!O.length&&(0,v.jsx)(ge,{}),D]})},Me=(0,x.memo)(Ce),Ze=t(64317),_e=t(92340),Fe=t(72269),Oe=t(57953),Te=t(96486),Ae=function(){var e,r=(0,S.useDispatch)(),t=(0,x.useRef)(),n=(0,S.useSelector)((function(e){return e.contract.abi})),s=(0,S.useSelector)((function(e){return e.contract.contract})),c=(0,S.useSelector)((function(e){return e.global.session})),u=(0,S.useSelector)((function(e){return e.contract.tableSelection})),l=(0,S.useSelector)((function(e){return e.contract.tableDataSource})),m=(0,S.useSelector)((function(e){return e.contract.tableColumns})),g=(0,S.useSelector)((function(e){return e.contract.tableByScope})),h=(0,S.useSelector)((function(e){return e.contract.tableParams})),b=(0,S.useSelector)((function(e){return e.contract.tableByScopeParams})),j=N.ZP.useMessage(),w=i()(j,2),M=w[0],Z=w[1],_=(0,x.useState)(!1),F=i()(_,2),O=F[0],T=F[1],A=(0,S.useIntl)(),E=A.formatMessage({id:"common.intlCopySuccess"}),z=A.formatMessage({id:"contract.intlSelectTable"}),I=A.formatMessage({id:"contract.intlEnterParameters"}),q=A.formatMessage({id:"common.intlCopy"}),D=A.formatMessage({id:"contract.intlTableResult"}),R=A.formatMessage({id:"contract.intlNoData"}),$=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(t){var n,s,o,u,l,m,g,h;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],s=[],T(!0),e.next=5,(0,f.zI)(c.client.v1.chain.get_table_rows(t));case 5:if(o=e.sent,u=i()(o,2),l=u[0],m=u[1],T(!1),!l){e.next=13;break}return M.error(l),e.abrupt("return");case 13:if((g=m.rows).length){e.next=18;break}return r(p.N.setTableColumns(n)),r(p.N.setTableDataSource(g)),e.abrupt("return");case 18:t.json?(h=Object.keys(g[0]),n.push({title:"#",dataIndex:"_key",key:"_key",width:"50px",align:"center",render:function(e,r,t){return(0,v.jsx)("span",{children:t+1})}}),h.forEach((function(e){n.push({title:e,dataIndex:e,key:e,render:function(r,t){return(0,Te.isObject)(t[e])?(0,v.jsx)("span",{children:JSON.stringify(t[e])}):(0,v.jsx)("span",{children:t[e]})}})})),t.show_payer?(n.push({title:"payer",dataIndex:"payer",key:"payer",render:function(e,r){return(0,v.jsx)("span",{children:r.payer})}}),g.forEach((function(e,r){g[r]._key=r,s.push(d()(d()({},g[r]),{},{payer:m.ram_payers[r].toString()}))}))):g.forEach((function(e,r){g[r]._key=r,s.push(d()({},g[r]))}))):(n.push({title:"#",dataIndex:"_key",key:"_key",width:"50px",align:"center",render:function(e,r,t){return(0,v.jsx)("span",{children:t+1})}}),n.push({title:"bytes",dataIndex:"bytes",key:"bytes",render:function(e,r){return(0,v.jsx)("span",{children:r.bytes})}}),t.show_payer?(n.push({title:"payer",dataIndex:"payer",key:"payer",render:function(e,r){return(0,v.jsx)("span",{children:r.payer})}}),g.forEach((function(e,r){s.push({_key:r,bytes:e,payer:m.ram_payers[r].toString()})}))):g.forEach((function(e,r){s.push({_key:r,bytes:e})}))),r(p.N.setTableColumns(n)),r(p.N.setTableDataSource(s));case 21:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[c,M]),Y=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(t){var n,s,o,u,l,m,g,h;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],s=[],T(!0),e.next=5,(0,f.zI)(c.client.v1.chain.get_table_by_scope(t));case 5:if(o=e.sent,u=i()(o,2),l=u[0],m=u[1],T(!1),!l){e.next=13;break}return T(!1),e.abrupt("return");case 13:if((g=JSON.parse(JSON.stringify(m.rows))).length){e.next=18;break}return r(p.N.setTableColumns(n)),r(p.N.setTableDataSource(g)),e.abrupt("return");case 18:h=Object.keys(g[0]),n.push({title:"#",dataIndex:"_key",key:"_key",width:"50px",align:"center",render:function(e,r,t){return(0,v.jsx)("span",{children:t+1})}}),h.forEach((function(e){n.push({title:e,dataIndex:e,key:e,render:function(r,t){return(0,Te.isObject)(t[e])?(0,v.jsx)("span",{children:JSON.stringify(t[e])}):(0,v.jsx)("span",{children:t[e]})}})})),g.forEach((function(e,r){g[r]._key=r,s.push(d()({},g[r]))})),r(p.N.setTableColumns(n)),r(p.N.setTableDataSource(s));case 24:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[c,M]),J=(0,x.useCallback)(o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g?Y(b):$(h);case 1:case"end":return e.stop()}}),e)}))),[h,b,g,$,Y]),B=(0,x.useCallback)((function(e){var t=d()(d()({},h),{},{code:s,table:e.name.toString(),scope:h.scope?h.scope:s}),n=d()(d()({},b),{},{code:s,table:e.name.toString()});r(p.N.setTableSelection(e.name.toString())),r(p.N.setTableParams(t)),r(p.N.setTableByScopeParams(n)),g?Y(n):$(t)}),[s,$,Y,h,b]),V=(0,x.useCallback)((function(e){r(p.N.setTableByScope(e)),u&&(e?Y(b):$(h))}),[u,h,b]),H=(0,x.useCallback)((function(e,t){if(g){var n={};e.hasOwnProperty("lower_bound2")?n.lower_bound=e.lower_bound2:e.hasOwnProperty("upper_bound2")?n.upper_bound=e.upper_bound2:e.hasOwnProperty("limit2")?n.limit=e.limit2:e.hasOwnProperty("reverse2")&&(n.reverse=e.reverse2),r(p.N.setTableByScopeParams(d()(d()({},b),n)))}else r(p.N.setTableParams(d()(d()({},h),t)))}),[g,h,b]),W=(0,x.useCallback)(o()(a()().mark((function e(){var r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},g?Object.keys(b).forEach((function(e){b[e]&&(r[e]=b[e])})):Object.keys(h).forEach((function(e){h[e]&&(r[e]=h[e])})),e.next=4,window.navigator.clipboard.writeText(JSON.stringify(r));case 4:M.success("".concat(E));case 5:case"end":return e.stop()}}),e)}))),[M,g,h,b]);return(0,v.jsxs)("div",{className:"tab-table",children:[(0,v.jsxs)("div",{className:"hardline text-lg font-semibold mb-3",children:[(0,v.jsx)("span",{children:z}),(0,v.jsx)("span",{className:"ml-[30px] mr-3",children:"Table by Scope"}),(0,v.jsx)(Fe.Z,{value:g,onChange:V})]}),(0,v.jsx)("div",{className:"flex flex-start flex-wrap pl-[13px]",children:null==n||null===(e=n.tables)||void 0===e?void 0:e.map((function(e,r){return(0,v.jsx)(C.ZP,{className:"w-[150px] mr-2 mb-2",ghost:u!==e.name.toString(),type:"primary",size:"large",onClick:function(){return B(e)},children:e.name.toString()},r)}))}),!!u&&(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:I}),(0,v.jsx)(k.A,{initialValues:{scope:void 0===h.scope?s:h.scope,lower_bound:h.lower_bound,upper_bound:h.upper_bound,limit:h.limit,reverse:h.reverse,index_position:h.index_position,json:h.json,show_payer:h.show_payer,lower_bound2:b.lower_bound,upper_bound2:b.upper_bound,limit2:b.limit,reverse2:b.reverse},className:"pl-[13px]",formRef:t,layout:"vertical",onValuesChange:H,onFinish:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J());case 1:case"end":return e.stop()}}),e)}))),submitter:{render:function(e,r){return[(0,v.jsx)(Oe.Z,{spinning:O,size:"small",children:r[1]},"comfirm"),(0,v.jsx)(C.ZP,{onClick:W,children:q},"copy")]}},children:g?(0,v.jsxs)(k.A.Group,{children:[(0,v.jsx)(P.Z,{name:"lower_bound2",label:"Lower Bound",placeholder:"Search...",fieldProps:{autoFocus:!1}}),(0,v.jsx)(P.Z,{name:"upper_bound2",label:"Upper Bound",placeholder:"Search..."}),(0,v.jsx)(P.Z,{name:"limit2",label:"Limit",placeholder:"Search...",transform:function(e){return Number(e)},fieldProps:{type:"number"}}),(0,v.jsx)(y,{name:"reverse2",label:"Reverse",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}})]}):(0,v.jsxs)(k.A.Group,{children:[(0,v.jsx)(P.Z,{name:"scope",label:"Scope",placeholder:"Search...",fieldProps:{defaultValue:"".concat(s),autoFocus:!1}}),(0,v.jsx)(P.Z,{name:"lower_bound",label:"Lower Bound",placeholder:"Search..."}),(0,v.jsx)(P.Z,{name:"upper_bound",label:"Upper Bound",placeholder:"Search..."}),(0,v.jsx)(P.Z,{name:"limit",label:"Limit",placeholder:"Search...",transform:function(e){return Number(e)},fieldProps:{type:"number"}}),(0,v.jsx)(Ze.Z,{name:"Index Position",label:"index_position",placeholder:"Search...",options:["primary","secondary","tertiary","fourth","fifth","sixth","seventh","eighth","ninth","tenth"]}),(0,v.jsxs)(k.A.Group,{children:[(0,v.jsx)(y,{name:"reverse",label:"Reverse",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}}),(0,v.jsx)(y,{name:"show_payer",label:"Show Payer",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}}),(0,v.jsx)(y,{name:"json",label:"JSON",fieldProps:{defaultValue:!0,onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}})]})]})}),(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:D}),l.length?(0,v.jsx)(_e.Z,{loading:O,rowKey:"_key",scroll:{x:!0},size:"small",columns:m,dataSource:l,defaultData:[],search:!1,options:!1,pagination:!1}):(0,v.jsx)("div",{className:"text-base pl-[13px]",children:R})]}),Z]})},Ee=(0,x.memo)(Ae),ze=t(57132),Ie=t(11774),qe=t(69677),De=t(92398),Re=t(79123),$e=(t(20034),t(31145),function(){var e=N.ZP.useMessage(),r=i()(e,2),t=r[0],n=r[1],s=(0,S.useDispatch)(),c=(0,S.useSelector)((function(e){return e.global.session})),u=(0,S.useSelector)((function(e){return e.global.contractKit})),l=(0,S.useSelector)((function(e){return e.contract.rawAbi})),m=(0,S.useSelector)((function(e){return e.contract.contract})),d=(0,S.useSelector)((function(e){return e.contract.tableSelection})),g=(0,S.useSelector)((function(e){return e.contract.actionSelection})),h=(0,S.useSelector)((function(e){return e.contract.activeKey})),b=(0,x.useState)(""),j=i()(b,2),y=j[0],P=j[1],k=(0,x.useState)(!1),w=i()(k,2),C=w[0],M=w[1],Z=(0,S.useSearchParams)(),_=i()(Z,2),O=_[0],T=_[1],A=O.get("tab")?O.get("tab"):void 0,E=(0,S.useIntl)(),z=E.formatMessage({id:"contract.intlContract"}),I=E.formatMessage({id:"contract.intlSearch"}),q=E.formatMessage({id:"contract.intlAccountFormatError"}),D=E.formatMessage({id:"contract.intlNonContractAccount"}),R=E.formatMessage({id:"contract.intlSearchContract"}),$=E.formatMessage({id:"common.intlCopySuccess"}),Y=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r,n){var s,o,u,l;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^[a-z1-5.]{1,12}$/.test(r)){e.next=8;break}if(r||n.hasOwnProperty("type")){e.next=4;break}return e.abrupt("return",!1);case 4:return t.error("".concat(q)),e.abrupt("return",!1);case 8:return e.next=10,(0,f.zI)(c.client.v1.chain.get_abi(r));case 10:if(s=e.sent,o=i()(s,2),u=o[0],l=o[1],!u){e.next=17;break}return t.error(u),e.abrupt("return",!1);case 17:if(u||!l.hasOwnProperty("abi")){e.next=21;break}return e.abrupt("return",!0);case 21:return t.error("".concat(D)),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[c,t]),J=(0,x.useCallback)(function(){var e=o()(a()().mark((function e(r,n){var o,c,l,m,d,g;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=16;break}return M(!0),e.next=4,Y(r,n);case 4:if(e.sent){e.next=7;break}return M(!1),e.abrupt("return");case 7:return e.next=9,(0,f.zI)(u.load(r));case 9:o=e.sent,c=i()(o,2),l=c[0],m=c[1],l?t.error(l):(d=m.abi.toJSON(),g=JSON.stringify(d),g=JSON.parse(g),s(p.N.setContract(r)),s(p.N.setABI(d)),s(p.N.setRawABI(g)),s(p.N.setActionType("")),s(p.N.setActionSelection("")),s(p.N.setTableSelection("")),s(p.N.setTableDataSource([])),s(p.N.setTableColumns([])),s(p.N.setTableByScope(!1)),s(p.N.setTableParams({code:"",table:"",scope:void 0,lower_bound:void 0,upper_bound:void 0,limit:100,reverse:void 0,index_position:void 0,json:!0,show_payer:void 0})),s(p.N.setTableByScopeParams({code:"",table:"",lower_bound:void 0,upper_bound:void 0,limit:100,reverse:void 0}))),P(""),M(!1);case 16:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[u,Y,t]),B=(0,x.useCallback)((0,Te.debounce)(function(){var e=o()(a()().mark((function e(r){var t,n,s,o,u;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.target.value,/^[a-z1-5.]{1,12}$/.test(t)){e.next=6;break}0===t.trim().length?P(""):P("error"),e.next=13;break;case 6:return e.next=8,(0,f.zI)(c.client.v1.chain.get_abi(t));case 8:n=e.sent,s=i()(n,2),o=s[0],u=s[1],!o&&u.hasOwnProperty("abi")?P(""):P("error");case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),1e3),[c]),V=(0,x.useMemo)((function(){return"tables"===h&&d?m+"::"+d:"actions"===h&&g?m+"::"+g:m||""}),[h,d,g,m]),H=(0,x.useCallback)(o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.clipboard.writeText(JSON.stringify(l));case 2:t.success("".concat($));case 3:case"end":return e.stop()}}),e)}))),[l]),W=[{key:"tables",label:(0,v.jsx)("span",{className:"text-lg font-semibold",children:"Tables"}),children:!!l&&(0,v.jsx)(Ee,{})},{key:"actions",label:(0,v.jsx)("span",{className:"text-lg font-semibold",children:"Actions"}),children:!!l&&(0,v.jsx)(Me,{})},{key:"abi",label:(0,v.jsx)("span",{className:"text-lg font-semibold",children:"ABI"}),children:!!l&&(0,v.jsxs)("div",{className:"pl-[13px]",children:[(0,v.jsx)(ze.Z,{className:"cursor-pointer",style:{color:"#1677ff"},onClick:H}),(0,v.jsx)(Re.ZP,{className:"text-lg",src:l,collapsed:3,displaySize:!0,enableClipboard:!1})]})},{key:"tip",label:(0,v.jsx)("span",{className:"text-lg font-semibold",children:V}),disabled:!0}],L=(0,x.useCallback)((function(e,r){var t={};e&&(t.search=e),t.tab=r||h,T(t)}),[h]);return(0,x.useEffect)((function(){var e=O.get("search"),r=O.get("tab");r&&s(p.N.setActiveKey(r)),e&&J(e,""),L(e,r)}),[J]),(0,x.useEffect)((function(){L(m||"",h)}),[m,h,L]),(0,v.jsxs)(Ie._z,{className:"contract",ghost:!0,children:[(0,v.jsxs)(F.Z,{title:(0,v.jsx)("span",{className:"hardline font-semibold text-lg mb-3",children:R}),children:[(0,v.jsx)(qe.Z.Search,{className:"",loading:C,addonBefore:(0,v.jsx)(Oe.Z,{spinning:C,children:z}),placeholder:"Search...",allowClear:!0,enterButton:I,size:"large",status:y,onSearch:J,onChange:B}),(0,v.jsx)(De.Z,{className:"mt-2",defaultActiveKey:"tables",items:W,activeKey:A,onChange:function(e){return s(p.N.setActiveKey(e))}})]}),n]})})},31145:function(){},64599:function(e,r,t){var n=t(96263);e.exports=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=n(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==t.return||t.return()}finally{if(i)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);