(self.webpackChunk=self.webpackChunk||[]).push([[9110],{98165:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var n=t(87462),a=t(62435),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},o=t(84089),i=function(e,r){return a.createElement(o.Z,(0,n.Z)({},e,{ref:r,icon:s}))};var c=a.forwardRef(i)},63434:function(e,r,t){"use strict";var n=t(1413),a=t(91),s=t(22270),o=t(84567),i=t(62435),c=t(90789),u=t(56499),l=t(86074),m=["options","fieldProps","proFieldProps","valueEnum"],p=i.forwardRef((function(e,r){var t=e.options,o=e.fieldProps,i=e.proFieldProps,c=e.valueEnum,p=(0,a.Z)(e,m);return(0,l.jsx)(u.Z,(0,n.Z)({ref:r,valueType:"checkbox",valueEnum:(0,s.h)(c,void 0),fieldProps:(0,n.Z)({options:t},o),lightProps:(0,n.Z)({labelFormatter:function(){return(0,l.jsx)(u.Z,(0,n.Z)({ref:r,valueType:"checkbox",mode:"read",valueEnum:(0,s.h)(c,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:t},o),proFieldProps:i},p))}},p.lightProps),proFieldProps:i},p))})),d=i.forwardRef((function(e,r){var t=e.fieldProps,a=e.children;return(0,l.jsx)(o.Z,(0,n.Z)((0,n.Z)({ref:r},t),{},{children:a}))})),f=(0,c.G)(d,{valuePropName:"checked"});f.Group=p,r.Z=f},64317:function(e,r,t){"use strict";var n=t(1413),a=t(91),s=t(22270),o=t(62435),i=t(66758),c=t(56499),u=t(86074),l=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(e,r){var t=e.fieldProps,m=e.children,p=e.params,d=e.proFieldProps,f=e.mode,g=e.valueEnum,x=e.request,h=e.showSearch,b=e.options,v=(0,a.Z)(e,l),k=(0,o.useContext)(i.Z);return(0,u.jsx)(c.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(g),request:x,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:b,mode:f,showSearch:h,getPopupContainer:k.getPopupContainer},t),ref:r,proFieldProps:d},v),{},{children:m}))},d=o.forwardRef((function(e,r){var t=e.fieldProps,l=e.children,p=e.params,d=e.proFieldProps,f=e.mode,g=e.valueEnum,x=e.request,h=e.options,b=(0,a.Z)(e,m),v=(0,n.Z)({options:h,mode:f||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},t),k=(0,o.useContext)(i.Z);return(0,u.jsx)(c.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(g),request:x,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:k.getPopupContainer},v),ref:r,proFieldProps:d},b),{},{children:l}))})),f=o.forwardRef(p);f.SearchSelect=d,f.displayName="ProFormComponent",r.Z=f},90672:function(e,r,t){"use strict";var n=t(1413),a=t(91),s=t(62435),o=t(56499),i=t(86074),c=["fieldProps","proFieldProps"],u=function(e,r){var t=e.fieldProps,s=e.proFieldProps,u=(0,a.Z)(e,c);return(0,i.jsx)(o.Z,(0,n.Z)({ref:r,valueType:"textarea",fieldProps:t,proFieldProps:s},u))};r.Z=s.forwardRef(u)},13004:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Ue}});var n=t(15009),a=t.n(n),s=t(99289),o=t.n(s),i=t(5574),c=t.n(i),u=t(19632),l=t.n(u),m=t(97857),p=t.n(m),d=t(80107),f=t(64119),g=t(1413),x=t(91),h=t(62435),b=t(56499),v=t(86074),k=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],j=h.forwardRef((function(e,r){var t=e.fieldProps,n=e.unCheckedChildren,a=e.checkedChildren,s=e.proFieldProps,o=(0,x.Z)(e,k);return(0,v.jsx)(b.Z,(0,g.Z)({valueType:"switch",fieldProps:(0,g.Z)({unCheckedChildren:n,checkedChildren:a},t),ref:r,valuePropName:"checked",proFieldProps:s,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},o))})),P=t(5966),y=t(97269),S=t(59530),w=t(80507),C=t(45360),N=t(15867),M=t(71230),Z=t(15746),_=t(37476),F=t(38345),O=t(17186),T=t(66758),q=["fieldProps","proFieldProps"],A="dateTime",E=h.forwardRef((function(e,r){var t=e.fieldProps,n=e.proFieldProps,a=(0,x.Z)(e,q),s=(0,h.useContext)(T.Z);return(0,v.jsx)(b.Z,(0,g.Z)({ref:r,fieldProps:(0,g.Z)({getPopupContainer:s.getPopupContainer},t),valueType:A,proFieldProps:n,filedConfig:{valueType:A,customLightMode:!0}},a))})),z=t(27484),I=t.n(z),D=t(70178),R=t.n(D),Y=t(98165),$=t(68795),J=t(63434),H=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,S.useSelector)((function(e){return e.contract.abi})),l=(0,S.useSelector)((function(e){return e.contract.actionSelection})),m=(0,h.useState)(1),p=c()(m,2),d=p[0],f=p[1],g=(0,h.useState)(0),x=c()(g,2),b=x[0],k=x[1],j=(0,h.useState)([]),P=c()(j,2),y=P[0],w=P[1],N=(0,h.useState)(),M=c()(N,2),Z=M[0],F=M[1],O=(0,S.useIntl)(),T=O.formatMessage({id:"contract.intlImportRequested"}),q=O.formatMessage({id:"contract.intlRequested"}),A=O.formatMessage({id:"contract.intlThreshold"}),E=O.formatMessage({id:"msig.intlImportSuccess"}),z=(0,h.useRef)(),I=(0,h.useState)(!1),D=c()(I,2),R=D[0],Y=D[1],$=(0,h.useCallback)((function(e,r){var t;f(e.keyThreshold),w(e.accounts),F(r),k(0),null===(t=z.current)||void 0===t||t.resetFields(),Y(!0)}),[z]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:$}}));var H=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r.checkbox&&r.checkbox.forEach((function(e){var r=e.split(" "),n=c()(r,2),a=n[0],s=n[1];t.push({requestedAccount:a,requestedPermission:s})})),t.length||t.push({requestedAccount:"",requestedPermission:""}),null==Z||Z.current.setFieldValue("requested",t),null==Z||Z.current.validateFields(["requested"]),s.success("".concat(E)),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[u,l,Z]);return(0,v.jsxs)(_.Y,{formRef:z,title:T,open:R,onFinish:H,onOpenChange:function(e){Y(e)},layout:"horizontal",width:"300px",children:[(0,v.jsxs)("div",{className:" font-semibold",children:[A,"：",d]}),(0,v.jsxs)("div",{className:" font-semibold mb-1",children:[q+"：",b<d?(0,v.jsx)("span",{className:" text-red-600",children:b}):(0,v.jsx)("span",{className:" text-green-600",children:b})]}),!!y.length&&(0,v.jsx)(J.Z.Group,{name:"checkbox",layout:"vertical",label:"",options:y.map((function(e){var r=e.permission.actor.toString(),t=e.permission.permission.toString(),n=e.weight.toString();return{label:"+".concat(n," ").concat(r,"@").concat(t),value:"".concat(r," ").concat(t," ").concat(n)}})),fieldProps:{onChange:function(e){var r=0;e.forEach((function(e){r+=Number(e.split(" ")[2])})),k(r)}}}),i]})})),V=(0,h.memo)(H);I().extend(R());var B=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,S.useSelector)((function(e){return e.global.account})),l=(0,S.useSelector)((function(e){return e.global.session})),m=(0,S.useSelector)((function(e){return e.contract.batchActions})),d=(0,h.useState)(!1),g=c()(d,2),x=g[0],b=g[1],k=(0,h.useRef)(),j=(0,h.useRef)(),y=(0,h.useState)(!1),N=c()(y,2),T=N[0],q=N[1],A=(0,S.useIntl)(),z=A.formatMessage({id:"contract.intlCreateProposal"}),D=A.formatMessage({id:"common.intlInputException"}),R=A.formatMessage({id:"account.intlPermissionNotExist"}),J=A.formatMessage({id:"contract.intlCreate"}),H=A.formatMessage({id:"contract.intlExpirationError"}),B=A.formatMessage({id:"contract.intlExpiration"}),W=A.formatMessage({id:"contract.intlPermission"}),L=A.formatMessage({id:"common.intlTxSuccess"}),U=A.formatMessage({id:"common.intlTxFail"}),Q=A.formatMessage({id:"common.intlPleaseConnectWallet"}),G=A.formatMessage({id:"common.intlPleaseConnectNetwork"}),K=A.formatMessage({id:"contract.intlProposer"}),X=A.formatMessage({id:"contract.intlProposalName"}),ee=A.formatMessage({id:"contract.intlMsigAccount"}),re=A.formatMessage({id:"contract.intlRequested"}),te=A.formatMessage({id:"contract.intlMsigAccountWeightInsufficient"}),ne=A.formatMessage({id:"contract.intlProposalNamePlaceholder"}),ae=(0,h.useCallback)((function(){q(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:ae}}));var se=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,i,d,g,x,h,b,v,k,j,P,y,S,C,N,M,Z,_,F,O,T,q,A,E,z;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&l.broadcast){e.next=5;break}return s.error("".concat(Q)),e.abrupt("return");case 5:if(u){e.next=8;break}return s.error("".concat(G)),e.abrupt("return");case 8:return t=r.proposer,n=r.proposalName,o=r.msigAccount,i=r.msigPermission,d=[],r.requested.forEach((function(e){d.find((function(r){return r.actor===e.requestedAccount&&r.permission===e.requestedPermission}))||d.push({actor:e.requestedAccount,permission:e.requestedPermission})})),g=I()(r.expiration).utc().format("YYYY-MM-DDTHH:mm:ss"),e.next=17,(0,f.zI)(l.client.v1.chain.get_account(o));case 17:if(x=e.sent,h=c()(x,2),b=h[0],v=h[1],!b){e.next=26;break}return s.error(b),e.abrupt("return",!1);case 26:k=!1,j=0;case 28:if(!(j<v.permissions.length)){e.next=51;break}if(v.permissions[j].perm_name.toString()!==i){e.next=48;break}P=v.permissions[j].required_auth.keyThreshold,y=v.permissions[j].required_auth.accounts,S=0,C=0;case 34:if(!(C<d.length)){e.next=43;break}for(N=!1,M=0;M<y.length;M++)d[C].actor===y[M].permission.actor.toString()&&d[C].permission===y[M].permission.permission.toString()&&(N=!0,S+=y[M].weight.toNumber());if(N){e.next=40;break}return s.error("".concat(R)),e.abrupt("return",!1);case 40:C++,e.next=34;break;case 43:if(!(S<P)){e.next=46;break}return s.error("".concat(te)),e.abrupt("return",!1);case 46:return k=!0,e.abrupt("break",51);case 48:j++,e.next=28;break;case 51:if(k){e.next=54;break}return s.error("".concat(R)),e.abrupt("return",!1);case 54:return Z=[],m.forEach((function(e){var r=JSON.parse(e.typedAction);r.authorization=[{actor:o,permission:i}],Z.push(r)})),e.next=58,l.client.v1.chain.get_info();case 58:return _=e.sent,F=_.getTransactionHeader(),O=w.YW.from(p()(p()({},F),{},{expiration:g,actions:Z})),T={action:{account:"eosio.msig",name:"propose",authorization:[l.permissionLevel],data:{proposer:t,proposal_name:n,requested:d,trx:O.toJSON()}}},e.next=64,(0,f.zI)(l.transact(T));case 64:return q=e.sent,A=c()(q,2),E=A[0],z=A[1],E?s.error(E):z&&z.response?s.success("".concat(L)):s.error("".concat(U)),e.abrupt("return",!0);case 70:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[l,m]),oe=(0,h.useCallback)(o()(a()().mark((function e(){var r,t,n,o,i,u,m,p,d,g,x;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t=null===(r=j.current)||void 0===r?void 0:r.getFieldsValue(),n=t.msigAccount,o=t.msigPermission,i={},e.next=7,(0,f.zI)(l.client.v1.chain.get_account(n));case 7:if(u=e.sent,m=c()(u,2),p=m[0],d=m[1],!p){e.next=17;break}return s.error(p),b(!1),e.abrupt("return",!1);case 17:g=!1,x=0;case 19:if(!(x<d.permissions.length)){e.next=27;break}if(d.permissions[x].perm_name.toString()!==o){e.next=24;break}return i=d.permissions[x].required_auth,g=!0,e.abrupt("break",27);case 24:x++,e.next=19;break;case 27:if(g){e.next=31;break}return s.error("".concat(R)),b(!1),e.abrupt("return",!1);case 31:b(!1),k.current.handleOpen(i,j);case 33:case"end":return e.stop()}}),e)}))),[l]);return(0,v.jsxs)(_.Y,{formRef:j,title:z,open:T,onFinish:se,onOpenChange:function(e){q(e)},initialValues:{proposer:u?u.accountName.toString():""},submitter:{searchConfig:{submitText:J},render:function(e,r){return[r[0],r[1]]}},layout:"vertical",width:"500px",modalProps:{style:{top:25}},children:[(0,v.jsx)(P.Z,{disabled:!0,name:"proposer",label:K,placeholder:"example: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(D),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(P.Z,{name:"proposalName",label:X,placeholder:ne,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(D),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"msigAccount",label:ee,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(D),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"msigPermission",label:(0,v.jsxs)("div",{className:"flex items-center",children:[W,x?(0,v.jsx)(Y.Z,{spin:x,className:"ml-3 text-blue-600"}):(0,v.jsx)($.Z,{className:"ml-3 text-blue-600 hover:cursor-pointer",onClick:oe})]}),placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(D),pattern:/^[a-z1-5.]{1,12}$/}]})})]}),(0,v.jsx)(F.Z,{bordered:!0,bodyStyle:{paddingInline:"12px",paddingBlock:"6px"},className:"mb-3 requestedAccount",children:(0,v.jsx)(O.u,{name:"requested",min:1,creatorButtonProps:!1,itemContainerRender:function(e){return(0,v.jsx)("div",{children:e})},initialValue:[{requestedAccount:"",permission:""}],children:(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"requestedAccount",label:re,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(D),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"requestedPermission",label:W,placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(D),pattern:/^[a-z1-5.]{1,12}$/}]})})]})})}),(0,v.jsx)(E,{width:"lg",name:"expiration",label:B,rules:[{required:!0,validator:function(e,r){try{return r?r.unix()<I()().unix()?Promise.reject(H):Promise.resolve(""):Promise.reject(D)}catch(e){return Promise.reject(e.message)}}}]}),(0,v.jsx)(V,{ref:k}),i]})})),W=(0,h.memo)(B),L=t(64599),U=t.n(L),Q=t(72004),G=t.n(Q),K=t(12444),X=t.n(K),ee=t(31996),re=t.n(ee),te=t(26037),ne=t.n(te),ae=t(9783),se=t.n(ae),oe=["fieldProps","proFieldProps","min","max","step","marks","vertical","range"],ie=h.forwardRef((function(e,r){var t=e.fieldProps,n=e.proFieldProps,a=e.min,s=e.max,o=e.step,i=e.marks,c=e.vertical,u=e.range,l=(0,x.Z)(e,oe);return(0,v.jsx)(b.Z,(0,g.Z)({valueType:"slider",fieldProps:(0,g.Z)((0,g.Z)({},t),{},{min:a,max:s,step:o,marks:i,vertical:c,range:u,style:null==t?void 0:t.style}),ref:r,proFieldProps:n,filedConfig:{ignoreWidth:!0}},l))})),ce=t(90672);I().extend(R());var ue=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,h.useRef)(),l=(0,h.useState)(!1),m=c()(l,2),p=m[0],d=m[1],f=(0,h.useState)(""),g=c()(f,2),x=g[0],b=g[1],k=(0,h.useState)(""),j=c()(k,2),P=j[0],y=j[1],w=(0,h.useState)(1),M=c()(w,2),Z=M[0],F=M[1],O=(0,h.useState)(""),T=c()(O,2),q=T[0],A=T[1],E=(0,h.useState)(""),z=c()(E,2),I=z[0],D=z[1],R=(0,S.useIntl)(),Y=R.formatMessage({id:"common.intlCopySuccess"}),$=R.formatMessage({id:"common.intlCopy"}),J=R.formatMessage({id:"common.intlExport"}),H=R.formatMessage({id:"contract.intlSignedTransaction"}),V=R.formatMessage({id:"contract.intlExported"}),B=(0,h.useCallback)((function(e,r,t,n,a){var s;null===(s=u.current)||void 0===s||s.setFieldValue("content",JSON.stringify(e,null,2)),b(JSON.stringify(e,null,2)),y(r),F(a),A(t),D(n),d(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:B}}));var W=(0,h.useCallback)(o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.clipboard.writeText(x);case 2:s.success("".concat(Y));case 3:case"end":return e.stop()}}),e)}))),[x]),L=(0,h.useCallback)((function(){var e="data:,".concat(x),r=document.createElement("a");r.href=e,r.download="".concat(q,"@").concat(I,"_threshold@").concat(Z,"_expiration@").concat(P,"_msig.json"),r.click(),s.info("".concat(V)),d(!1)}),[x,P,Z,q,I]);return(0,v.jsxs)(_.Y,{formRef:u,title:H,open:p,onOpenChange:function(e){d(e)},submitter:{render:function(e,r){return[r[0],(0,v.jsx)(N.ZP,{onClick:W,children:$},"copy"),(0,v.jsx)(N.ZP,{type:"primary",onClick:L,children:J},"export")]}},layout:"vertical",width:"700px",modalProps:{style:{top:25}},children:[(0,v.jsx)(ce.Z,{name:"content",fieldProps:{autoSize:{minRows:5},allowClear:!1,autoFocus:!1,onChange:void 0,value:x}}),i]})})),le=(0,h.memo)(ue);I().extend(R());var me=function(e){re()(t,e);var r=ne()(t);function t(){return X()(this,t),r.apply(this,arguments)}return G()(t)}(w.AU);se()(me,"abiName","freecpu"),se()(me,"abiFields",[{name:"user",type:w.VG}]);var pe=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,S.useSelector)((function(e){return e.global.account})),m=(0,S.useSelector)((function(e){return e.global.session})),d=(0,S.useSelector)((function(e){return e.global.privateKey})),g=(0,S.useSelector)((function(e){return e.contract.batchActions})),x=(0,h.useRef)(),b=(0,S.useIntl)(),k=b.formatMessage({id:"contract.intlCreateTransaction"}),y=b.formatMessage({id:"common.intlInputException"}),M=b.formatMessage({id:"account.intlPermissionNotExist"}),Z=b.formatMessage({id:"contract.intlCreate"}),F=b.formatMessage({id:"contract.intlCreateAndSign"}),O=b.formatMessage({id:"contract.intlExpiration"}),T=b.formatMessage({id:"contract.intlFreeCpu"}),q=b.formatMessage({id:"contract.intlAccount"}),A=b.formatMessage({id:"contract.intlPermission"}),E=b.formatMessage({id:"contract.intlFreeCpuLimit"}),z=b.formatMessage({id:"common.intlPleaseConnectWallet"}),D=b.formatMessage({id:"common.intlPleaseConnectNetwork"}),R=(0,h.useRef)(),Y=(0,h.useState)(!1),$=c()(Y,2),J=$[0],H=$[1],V=(0,h.useCallback)((function(){H(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:V}}));var B=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,i,h,b,v,k,j,P,y,S,C,N,Z,_,F,O,T,q,A,R,Y,$,J,H,V,B,W,L,Q,G;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&m.broadcast){e.next=5;break}return s.error("".concat(z)),e.abrupt("return");case 5:if(u){e.next=8;break}return s.error("".concat(D)),e.abrupt("return");case 8:return t=r.account,n=r.permission,o=I()().add(r.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),i=r.freeCpu,h=1,e.next=15,(0,f.zI)(m.client.v1.chain.get_account(t));case 15:if(b=e.sent,v=c()(b,2),k=v[0],j=v[1],!k){e.next=24;break}return s.error(k),e.abrupt("return",!1);case 24:P=!1,y=0;case 26:if(!(y<j.permissions.length)){e.next=34;break}if(j.permissions[y].perm_name.toString()!==n){e.next=31;break}return h=j.permissions[y].required_auth.keyThreshold,P=!0,e.abrupt("break",34);case 31:y++,e.next=26;break;case 34:if(P){e.next=37;break}return s.error("".concat(M)),e.abrupt("return",!1);case 37:if(!i||"active"===n||"owner"===n){e.next=40;break}return s.error("".concat(E)),e.abrupt("return",!1);case 40:return S=[],g.forEach((function(e){var r=JSON.parse(e.typedAction);r.authorization=[{actor:t,permission:n}],S.push(r)})),C={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},{actor:t,permission:n}],data:me.from({user:t})},N=w.aU.from(C),F=[],e.next=47,m.client.v1.chain.get_info();case 47:O=e.sent,T=O.getTransactionHeader(),i?(Z=w.YW.from(p()(p()({},T),{},{expiration:o,actions:[N].concat(S)})),F[0]=d.signDigest(Z.signingDigest(m.chain.id.toString()))):Z=w.YW.from(p()(p()({},T),{},{expiration:o,actions:S})),q=[],A=new Set,Z.actions.forEach((function(e){A.add(e.account.toString())})),R=U()(A),e.prev=54,R.s();case 56:if((Y=R.n()).done){e.next=72;break}return $=Y.value,e.next=60,(0,f.zI)(m.client.v1.chain.get_abi($));case 60:if(J=e.sent,H=c()(J,2),V=H[0],B=H[1],!V){e.next=69;break}return s.error(V),e.abrupt("return",!1);case 69:q.push({abi:w.dL.from(B.abi),account:w.VG.from($)});case 70:e.next=56;break;case 72:e.next=77;break;case 74:e.prev=74,e.t0=e.catch(54),R.e(e.t0);case 77:return e.prev=77,R.f(),e.finish(77);case 80:return e.next=82,(0,f.zI)(m.transact({transaction:Z},{broadcast:!1,transactPlugins:[],abis:q}));case 82:if(W=e.sent,L=c()(W,2),Q=L[0],G=L[1],!Q){e.next=89;break}return s.error(Q),e.abrupt("return",!1);case 89:_=w.uQ.from(p()(p()({},Z),{},{signatures:[].concat(F,l()(G.signatures))})),x.current.handleOpen(_,o,t,n,h);case 91:case"end":return e.stop()}}),e,null,[[54,74,77,80]])})));return function(r){return e.apply(this,arguments)}}(),[m,d,u,g]),W=(0,h.useCallback)(o()(a()().mark((function e(){var r,t,n,o,i,u,l,h,b,v,k,j,P,y,S,C,N,Z,_,F,O,T;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=R.current)||void 0===r||r.validateFields(),n=null===(t=R.current)||void 0===t?void 0:t.getFieldsValue(),o=n.account,i=n.permission,u=I()().add(n.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),l=n.freeCpu,h=1,e.next=9,(0,f.zI)(m.client.v1.chain.get_account(o));case 9:if(b=e.sent,v=c()(b,2),k=v[0],j=v[1],!k){e.next=18;break}return s.error(k),e.abrupt("return",!1);case 18:P=!1,y=0;case 20:if(!(y<j.permissions.length)){e.next=28;break}if(j.permissions[y].perm_name.toString()!==i){e.next=25;break}return h=j.permissions[y].required_auth.keyThreshold,P=!0,e.abrupt("break",28);case 25:y++,e.next=20;break;case 28:if(P){e.next=31;break}return s.error("".concat(M)),e.abrupt("return",!1);case 31:if(!l||"active"===i||"owner"===i){e.next=34;break}return s.error("".concat(E)),e.abrupt("return",!1);case 34:return S=[],g.forEach((function(e){var r=JSON.parse(e.typedAction);r.authorization=[{actor:o,permission:i}],S.push(r)})),C={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},{actor:o,permission:i}],data:me.from({user:o})},N=w.aU.from(C),e.next=40,m.client.v1.chain.get_info();case 40:F=e.sent,O=F.getTransactionHeader(),l?(Z=w.YW.from(p()(p()({},O),{},{expiration:u,actions:[N].concat(S)})),T=d.signDigest(Z.signingDigest(m.chain.id.toString())),_=w.uQ.from(p()(p()({},Z),{},{signatures:[T]}))):(Z=w.YW.from(p()(p()({},O),{},{expiration:u,actions:S})),_=w.uQ.from(p()(p()({},Z),{},{signatures:[]}))),x.current.handleOpen(_,u,o,i,h);case 44:case"end":return e.stop()}}),e)}))),[m,d,g]);return(0,v.jsxs)(_.Y,{formRef:R,title:k,open:J,onFinish:B,onOpenChange:function(e){H(e)},initialValues:{freeCpu:!0,expiration:60},submitter:{searchConfig:{submitText:F},render:function(e,r){return[r[0],(0,v.jsx)(N.ZP,{onClick:W,children:Z},"import"),r[1]]}},layout:"vertical",width:"400px",children:[(0,v.jsx)(P.Z,{name:"account",label:q,placeholder:"example: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(y),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(P.Z,{name:"permission",label:A,placeholder:"example: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(y),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(ie,{name:"expiration",label:O,marks:{10:"10",30:"30",60:"60"},min:10,max:60,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(y),pattern:/^\d+$/}]}),(0,v.jsx)(j,{name:"freeCpu",label:T}),(0,v.jsx)(le,{ref:x}),i]})})),de=(0,h.memo)(pe);I().extend(R());var fe=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,h.useRef)(),l=(0,h.useState)(!1),m=c()(l,2),p=m[0],d=m[1],f=(0,h.useState)(""),g=c()(f,2),x=g[0],b=g[1],k=(0,h.useState)(""),j=c()(k,2),P=j[0],y=j[1],w=(0,h.useState)([]),M=c()(w,2),Z=M[0],F=M[1],O=(0,S.useIntl)(),T=O.formatMessage({id:"common.intlCopySuccess"}),q=O.formatMessage({id:"common.intlCopy"}),A=O.formatMessage({id:"common.intlExport"}),E=O.formatMessage({id:"contract.intlSignedTransaction"}),z=O.formatMessage({id:"contract.intlExported"}),I=(0,h.useCallback)((function(e,r,t){var n;null===(n=u.current)||void 0===n||n.setFieldValue("content",JSON.stringify(e,null,2)),b(JSON.stringify(e,null,2)),y(r),F(t),d(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:I}}));var D=(0,h.useCallback)(o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.clipboard.writeText(x);case 2:s.success("".concat(T));case 3:case"end":return e.stop()}}),e)}))),[x]),R=(0,h.useCallback)((function(){var e="";Z.forEach((function(r){e+="".concat(r.actor,"@").concat(r.permission,"_")})),e="[".concat(e.slice(0,-1),"]");var r="data:,".concat(x),t=document.createElement("a");t.href=r,t.download="".concat(e,"_expiration@").concat(P,"_msig.json"),t.click(),s.info("".concat(z)),d(!1)}),[x,P,Z]);return(0,v.jsxs)(_.Y,{formRef:u,title:E,open:p,onOpenChange:function(e){d(e)},submitter:{render:function(e,r){return[r[0],(0,v.jsx)(N.ZP,{onClick:D,children:q},"copy"),(0,v.jsx)(N.ZP,{type:"primary",onClick:R,children:A},"export")]}},layout:"vertical",width:"700px",modalProps:{style:{top:25}},children:[(0,v.jsx)(ce.Z,{name:"content",fieldProps:{autoSize:{minRows:5},allowClear:!1,autoFocus:!1,onChange:void 0,value:x}}),i]})})),ge=(0,h.memo)(fe);I().extend(R());var xe=function(e){re()(t,e);var r=ne()(t);function t(){return X()(this,t),r.apply(this,arguments)}return G()(t)}(w.AU);se()(xe,"abiName","freecpu"),se()(xe,"abiFields",[{name:"user",type:w.VG}]);var he=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,S.useSelector)((function(e){return e.global.account})),m=(0,S.useSelector)((function(e){return e.global.session})),d=(0,S.useSelector)((function(e){return e.global.privateKey})),g=(0,S.useSelector)((function(e){return e.contract.batchActions})),x=(0,h.useRef)(),b=(0,h.useRef)(),k=(0,h.useState)(!1),y=c()(k,2),T=y[0],q=y[1],A=(0,S.useIntl)(),E=A.formatMessage({id:"contract.intlCreateTransaction"}),z=A.formatMessage({id:"common.intlInputException"}),D=A.formatMessage({id:"account.intlPermissionNotExist"}),R=A.formatMessage({id:"contract.intlCreate"}),Y=A.formatMessage({id:"contract.intlExpiration"}),$=A.formatMessage({id:"contract.intlPermission"}),J=A.formatMessage({id:"common.intlPleaseConnectWallet"}),H=A.formatMessage({id:"common.intlPleaseConnectNetwork"}),V=A.formatMessage({id:"contract.intlCreateAndSign"}),B=A.formatMessage({id:"contract.intlFreeCpu"}),W=A.formatMessage({id:"contract.intlFreeCpuLimit"}),L=A.formatMessage({id:"contract.intlRequested"}),Q=(0,h.useCallback)((function(){q(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:Q}}));var G=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,i,h,b,v,k,j,P,y,S,C,N,M,Z,_,F,O,T,q,A,E,z,R,Y,$,V,B,L,Q;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&m.broadcast){e.next=5;break}return s.error("".concat(J)),e.abrupt("return");case 5:if(u){e.next=8;break}return s.error("".concat(H)),e.abrupt("return");case 8:t=r.freeCpu,n=I()().add(r.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),o=[],r.requested.forEach((function(e){o.find((function(r){return r.actor===e.requestedAccount&&r.permission===e.requestedPermission}))||o.push({actor:e.requestedAccount,permission:e.requestedPermission})})),i=0;case 13:if(!(i<o.length)){e.next=40;break}return e.next=16,(0,f.zI)(m.client.v1.chain.get_account(o[i].actor));case 16:if(h=e.sent,b=c()(h,2),v=b[0],k=b[1],!v){e.next=25;break}return s.error(v),e.abrupt("return",!1);case 25:j=!1,P=0;case 27:if(!(P<k.permissions.length)){e.next=34;break}if(k.permissions[P].perm_name.toString()!==o[i].permission){e.next=31;break}return j=!0,e.abrupt("break",34);case 31:P++,e.next=27;break;case 34:if(j){e.next=37;break}return s.error("".concat(D)),e.abrupt("return",!1);case 37:i++,e.next=13;break;case 40:if(!t){e.next=44;break}if("active"===o[0].permission||"owner"===o[0].permission){e.next=44;break}return s.error("".concat(W)),e.abrupt("return",!1);case 44:return y=[],g.forEach((function(e){var r=JSON.parse(e.typedAction);r.authorization=o,y.push(r)})),S={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},o[0]],data:xe.from({user:o[0].actor})},C=w.aU.from(S),Z=[],e.next=51,m.client.v1.chain.get_info();case 51:_=e.sent,F=_.getTransactionHeader(),t?(N=w.YW.from(p()(p()({},F),{},{expiration:n,actions:[C].concat(y)})),Z[0]=d.signDigest(N.signingDigest(m.chain.id.toString()))):N=w.YW.from(p()(p()({},F),{},{expiration:n,actions:y})),O=[],T=new Set,N.actions.forEach((function(e){T.add(e.account.toString())})),q=U()(T),e.prev=58,q.s();case 60:if((A=q.n()).done){e.next=76;break}return E=A.value,e.next=64,(0,f.zI)(m.client.v1.chain.get_abi(E));case 64:if(z=e.sent,R=c()(z,2),Y=R[0],$=R[1],!Y){e.next=73;break}return s.error(Y),e.abrupt("return",!1);case 73:O.push({abi:w.dL.from($.abi),account:w.VG.from(E)});case 74:e.next=60;break;case 76:e.next=81;break;case 78:e.prev=78,e.t0=e.catch(58),q.e(e.t0);case 81:return e.prev=81,q.f(),e.finish(81);case 84:return e.next=86,(0,f.zI)(m.transact({transaction:N},{broadcast:!1,transactPlugins:[],abis:O}));case 86:if(V=e.sent,B=c()(V,2),L=B[0],Q=B[1],!L){e.next=93;break}return s.error(L),e.abrupt("return",!1);case 93:M=w.uQ.from(p()(p()({},N),{},{signatures:[].concat(Z,l()(Q.signatures))})),x.current.handleOpen(M,n,o);case 95:case"end":return e.stop()}}),e,null,[[58,78,81,84]])})));return function(r){return e.apply(this,arguments)}}(),[m,u]),K=(0,h.useCallback)(o()(a()().mark((function e(){var r,t,n,o,i,u,l,h,v,k,j,P,y,S,C,N,M,Z,_,F,O;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(r=b.current)||void 0===r||r.validateFields(),n=null===(t=b.current)||void 0===t?void 0:t.getFieldsValue(),o=n.freeCpu,i=I()().add(n.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),u=[],n.requested.forEach((function(e){u.find((function(r){return r.actor===e.requestedAccount&&r.permission===e.requestedPermission}))||u.push({actor:e.requestedAccount,permission:e.requestedPermission})})),l=0;case 7:if(!(l<u.length)){e.next=34;break}return e.next=10,(0,f.zI)(m.client.v1.chain.get_account(u[l].actor));case 10:if(h=e.sent,v=c()(h,2),k=v[0],j=v[1],!k){e.next=19;break}return s.error(k),e.abrupt("return",!1);case 19:P=!1,y=0;case 21:if(!(y<j.permissions.length)){e.next=28;break}if(j.permissions[y].perm_name.toString()!==u[l].permission){e.next=25;break}return P=!0,e.abrupt("break",28);case 25:y++,e.next=21;break;case 28:if(P){e.next=31;break}return s.error("".concat(D)),e.abrupt("return",!1);case 31:l++,e.next=7;break;case 34:if(!o){e.next=38;break}if("active"===u[0].permission||"owner"===u[0].permission){e.next=38;break}return s.error("".concat(W)),e.abrupt("return",!1);case 38:return S=[],g.forEach((function(e){var r=JSON.parse(e.typedAction);r.authorization=u,S.push(r)})),C={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},u[0]],data:xe.from({user:u[0].actor})},N=w.aU.from(C),e.next=44,m.client.v1.chain.get_info();case 44:_=e.sent,F=_.getTransactionHeader(),o?(M=w.YW.from(p()(p()({},F),{},{expiration:i,actions:[N].concat(S)})),O=d.signDigest(M.signingDigest(m.chain.id.toString())),Z=w.uQ.from(p()(p()({},M),{},{signatures:[O]}))):(M=w.YW.from(p()(p()({},F),{},{expiration:i,actions:S})),Z=w.uQ.from(p()(p()({},M),{},{signatures:[]}))),x.current.handleOpen(Z,i,u);case 48:case"end":return e.stop()}}),e)}))),[m,d]);return(0,v.jsxs)(_.Y,{formRef:b,title:E,open:T,onFinish:G,onOpenChange:function(e){q(e)},initialValues:{freeCpu:!0,expiration:60},submitter:{searchConfig:{submitText:V},render:function(e,r){return[r[0],(0,v.jsx)(N.ZP,{onClick:K,children:R},"import"),r[1]]}},layout:"vertical",width:"500px",modalProps:{style:{top:25}},children:[(0,v.jsx)(F.Z,{bordered:!0,bodyStyle:{paddingInline:"12px",paddingBlock:"6px"},className:"mb-3 requestedAccount",children:(0,v.jsx)(O.u,{name:"requested",min:1,creatorButtonProps:!1,itemContainerRender:function(e){return(0,v.jsx)("div",{children:e})},initialValue:[{requestedAccount:"",permission:""}],children:(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"requestedAccount",label:L,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(z),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"requestedPermission",label:$,placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(z),pattern:/^[a-z1-5.]{1,12}$/}]})})]})})}),(0,v.jsx)(ie,{name:"expiration",label:Y,marks:{10:"10",30:"30",60:"60"},min:10,max:60,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(z),pattern:/^\d+$/}]}),(0,v.jsx)(j,{name:"freeCpu",label:B}),(0,v.jsx)(ge,{ref:x}),i]})})),be=(0,h.memo)(he),ve=function(){var e=(0,S.useDispatch)(),r=(0,S.useSelector)((function(e){return e.contract.batchActions})),t=(0,S.useSelector)((function(e){return e.global.session})),n=(0,S.useSelector)((function(e){return e.global.account})),s=C.ZP.useMessage(),i=c()(s,2),u=i[0],l=i[1],m=(0,h.useRef)(),p=(0,h.useRef)(),g=(0,h.useRef)(),x=(0,S.useIntl)(),b=x.formatMessage({id:"contract.intlBatchActions"}),k=x.formatMessage({id:"common.intlTxSuccess"}),j=x.formatMessage({id:"common.intlTxFail"}),P=x.formatMessage({id:"common.intlPleaseConnectWallet"}),w=x.formatMessage({id:"common.intlPleaseConnectNetwork"}),M=x.formatMessage({id:"contract.intlMsigPubkey"}),Z=x.formatMessage({id:"contract.intlMsigProposal"}),_=x.formatMessage({id:"contract.intlMsigTransaction"}),F=(0,h.useCallback)(o()(a()().mark((function e(){var s,o,i,l,m;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.broadcast){e.next=5;break}return u.error("".concat(P)),e.abrupt("return");case 5:if(n){e.next=8;break}return u.error("".concat(w)),e.abrupt("return");case 8:return s=[],r.forEach((function(e){s.push(JSON.parse(e.typedAction))})),e.next=12,(0,f.zI)(t.transact({actions:s}));case 12:o=e.sent,i=c()(o,2),l=i[0],m=i[1],l?u.error(l):m&&m.response?u.success("".concat(k)):u.error("".concat(j));case 17:case"end":return e.stop()}}),e)}))),[t,n,r]),O=(0,h.useCallback)((function(t){var n=r.filter((function(e,r){return r!==t}));e(d.N.setBatchActions(n))}),[r]),T=(0,h.useCallback)((function(){e(d.N.setBatchActions([]))}),[]);return(0,v.jsxs)("div",{className:"tab-action",children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:"".concat(b,"(").concat(r.length,")")}),(0,v.jsx)("div",{className:"px-[13px]",children:r.map((function(e,r){return(0,v.jsx)("div",{className:"mb-2",children:(0,v.jsxs)("div",{style:{background:"#e6f4ff",border:"1px solid #91caff",boxSizing:"border-box",margin:"0",padding:"8px 12px",color:"rgba(0, 0, 0, 0.88)",fontSize:"14px",lineHeight:"1.5714285714285714",listStyle:"none",position:"relative",display:"flex",alignItems:"center",wordWrap:"break-word",borderRadius:"8px"},children:[(0,v.jsx)("div",{style:{flex:1,minWidth:0,boxSizing:"border-box"},children:e.untypedAction}),(0,v.jsx)("button",{type:"button",onClick:function(){return O(r)},style:{marginInlineStart:"8px",padding:0,overflow:"hidden",fontSize:"12px",lineHeight:"12px",backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer"},children:(0,v.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.45)",transition:"color 0.2s"},children:(0,v.jsx)("svg",{fillRule:"evenodd",viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor",children:(0,v.jsx)("path",{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"})})})})]})},r)}))}),(0,v.jsx)(y.A,{className:"pl-[13px]",layout:"vertical",onFinish:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F());case 1:case"end":return e.stop()}}),e)}))),onReset:T,submitter:{render:function(e,r){return[r[1],r[0],(0,v.jsx)(N.ZP,{onClick:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.current.handleOpen();case 1:case"end":return e.stop()}}),e)}))),children:Z},"msigProposal"),(0,v.jsx)(N.ZP,{onClick:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.current.handleOpen();case 1:case"end":return e.stop()}}),e)}))),children:M},"msigPubkey"),(0,v.jsx)(N.ZP,{onClick:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.current.handleOpen();case 1:case"end":return e.stop()}}),e)}))),children:_},"msigTransaction")]}}}),(0,v.jsx)(W,{ref:p}),(0,v.jsx)(de,{ref:m}),(0,v.jsx)(be,{ref:g}),l]})},ke=(0,h.memo)(ve),je=function(){var e=(0,S.useSelector)((function(e){return e.contract.decodeData})),r=(0,S.useIntl)().formatMessage({id:"contract.intlDecodeResult"});return(0,v.jsxs)("div",{className:"tab-action",children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:r}),(0,v.jsx)("div",{className:"px-[13px]",children:(0,v.jsx)("pre",{children:e})})]})},Pe=(0,h.memo)(je),ye=function(){var e=(0,S.useSelector)((function(e){return e.contract.encodeData})),r=(0,S.useIntl)().formatMessage({id:"contract.intlEncodeResult"});return(0,v.jsxs)("div",{className:"tab-action",children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-3 mt-3",children:r}),(0,v.jsxs)("div",{className:"px-[13px]",children:[(0,v.jsx)("div",{className:"text-base font-semibold",children:"Action:"}),(0,v.jsx)("pre",{children:e.action}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"Transaction:"}),(0,v.jsx)("pre",{children:e.transaction}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"SigningData:"}),(0,v.jsx)("div",{className:" break-words mb-3",children:e.signingData}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"SigningDigest:"}),(0,v.jsx)("pre",{children:e.signingDigest}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"SignedTransaction:"}),(0,v.jsx)("pre",{children:e.signedTransaction}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"PackedTransaction:"}),(0,v.jsx)("pre",{children:e.packedTransaction}),(0,v.jsx)("div",{className:"text-base font-semibold",children:"Transaction ID:"}),(0,v.jsx)("pre",{children:e.transactionId})]})]})},Se=(0,h.memo)(ye),we=h.forwardRef((function(e,r){var t=(0,S.useDispatch)(),n=C.ZP.useMessage(),s=c()(n,2),i=s[0],u=s[1],l=(0,S.useSelector)((function(e){return e.contract.abi})),m=(0,S.useSelector)((function(e){return e.contract.actionSelection})),p=(0,S.useIntl)(),f=p.formatMessage({id:"contract.intlDecode"}),g=p.formatMessage({id:"common.intlInputException"}),x=p.formatMessage({id:"contract.intlDecodeSuccess"}),b=(0,h.useRef)(),k=(0,h.useState)(!1),j=c()(k,2),P=j[0],y=j[1],N=(0,h.useCallback)((function(){y(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:N}}));var M=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var n,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w.ei.decode({data:r.input,abi:l,type:m}),s=JSON.stringify(n,null,2),t(d.N.setDecodeData(s)),t(d.N.setBatchActions([])),t(d.N.setEncodeData(void 0)),i.success("".concat(x)),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),i.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),[l,m]);return(0,v.jsxs)(_.Y,{formRef:b,title:f,open:P,onFinish:M,onOpenChange:function(e){y(e)},layout:"horizontal",width:"600px",children:[(0,v.jsx)(ce.Z,{placeholder:"example: 000000000090b1ca10270000000000000444465300000000",name:"input",fieldProps:{autoSize:{minRows:5},allowClear:!0,autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(g),pattern:/^[a-fA-F0-9]+$/}]}),u]})})),Ce=(0,h.memo)(we);I().extend(R());var Ne=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,S.useSelector)((function(e){return e.contract.abi})),l=(0,S.useSelector)((function(e){return e.contract.actionSelection})),m=(0,S.useSelector)((function(e){return e.global.account})),d=(0,S.useSelector)((function(e){return e.global.session})),g=(0,S.useSelector)((function(e){return e.contract.fields})),x=(0,S.useSelector)((function(e){return e.contract.contract})),b=(0,h.useState)(!1),k=c()(b,2),j=k[0],y=k[1],N=(0,h.useState)(),T=c()(N,2),q=T[0],A=T[1],z=(0,h.useState)(new Set),D=c()(z,2),R=D[0],J=D[1],H=(0,h.useRef)(),B=(0,h.useRef)(),W=(0,h.useState)(!1),L=c()(W,2),U=L[0],Q=L[1],G=(0,S.useIntl)(),K=G.formatMessage({id:"contract.intlCreateProposal"}),X=G.formatMessage({id:"common.intlInputException"}),ee=G.formatMessage({id:"account.intlPermissionNotExist"}),re=G.formatMessage({id:"contract.intlCreate"}),te=G.formatMessage({id:"contract.intlExpirationError"}),ne=G.formatMessage({id:"contract.intlExpiration"}),ae=G.formatMessage({id:"contract.intlPermission"}),se=G.formatMessage({id:"common.intlTxSuccess"}),oe=G.formatMessage({id:"common.intlTxFail"}),ie=G.formatMessage({id:"common.intlPleaseConnectWallet"}),ce=G.formatMessage({id:"common.intlPleaseConnectNetwork"}),ue=G.formatMessage({id:"contract.intlProposer"}),le=G.formatMessage({id:"contract.intlProposalName"}),me=G.formatMessage({id:"contract.intlMsigAccount"}),pe=G.formatMessage({id:"contract.intlRequested"}),de=G.formatMessage({id:"contract.intlMsigAccountWeightInsufficient"}),fe=G.formatMessage({id:"contract.intlProposalNamePlaceholder"}),ge=(0,h.useCallback)((function(e,r){A(e),J(r),Q(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:ge}}));var xe=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,i,h,b,v,k,j,P,y,S,C,N,M,Z,_,F,O,T,A,E,z,D,Y,$,J,H,V,B,W,L,U;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&d.broadcast){e.next=5;break}return s.error("".concat(ie)),e.abrupt("return");case 5:if(m){e.next=8;break}return s.error("".concat(ce)),e.abrupt("return");case 8:return n=r.proposer,o=r.proposalName,i=r.msigAccount,h=r.msigPermission,b=[],r.requested.forEach((function(e){b.find((function(r){return r.actor===e.requestedAccount&&r.permission===e.requestedPermission}))||b.push({actor:e.requestedAccount,permission:e.requestedPermission})})),v=I()(r.expiration).utc().format("YYYY-MM-DDTHH:mm:ss"),e.next=17,(0,f.zI)(d.client.v1.chain.get_account(i));case 17:if(k=e.sent,j=c()(k,2),P=j[0],y=j[1],!P){e.next=26;break}return s.error(P),e.abrupt("return",!1);case 26:S=!1,C=0;case 28:if(!(C<y.permissions.length)){e.next=51;break}if(y.permissions[C].perm_name.toString()!==h){e.next=48;break}N=y.permissions[C].required_auth.keyThreshold,M=y.permissions[C].required_auth.accounts,Z=0,_=0;case 34:if(!(_<b.length)){e.next=43;break}for(F=!1,O=0;O<M.length;O++)b[_].actor===M[O].permission.actor.toString()&&b[_].permission===M[O].permission.permission.toString()&&(F=!0,Z+=M[O].weight.toNumber());if(F){e.next=40;break}return s.error("".concat(ee)),e.abrupt("return",!1);case 40:_++,e.next=34;break;case 43:if(!(Z<N)){e.next=46;break}return s.error("".concat(de)),e.abrupt("return",!1);case 46:return S=!0,e.abrupt("break",51);case 48:C++,e.next=28;break;case 51:if(S){e.next=54;break}return s.error("".concat(ee)),e.abrupt("return",!1);case 54:return T=null===(t=q.current)||void 0===t?void 0:t.getFieldsValue(),A=/.+\?$/,E=/.+\$$/,z=Object.assign({},T),Object.keys(z).forEach((function(e){R.has(e)&&(z[e]=JSON.parse(z[e]))})),Object.keys(z).forEach((function(e){var r=g.find((function(r){return r.name===e}));r&&A.test(r.type)?void 0!==z[e]&&String(z[e]).trim()||(z[e]=null):r&&E.test(r.type)&&(z[e]="")})),D={account:x,name:l,authorization:[{actor:i,permission:h}],data:z},Y=w.aU.from(D,u),e.next=64,d.client.v1.chain.get_info();case 64:return $=e.sent,J=$.getTransactionHeader(),H=w.YW.from(p()(p()({},J),{},{expiration:v,actions:[Y]})),V={action:{account:"eosio.msig",name:"propose",authorization:[d.permissionLevel],data:{proposer:n,proposal_name:o,requested:b,trx:H.toJSON()}}},e.next=70,(0,f.zI)(d.transact(V));case 70:return B=e.sent,W=c()(B,2),L=W[0],U=W[1],L?s.error(L):U&&U.response?s.success("".concat(se)):s.error("".concat(oe)),e.abrupt("return",!0);case 76:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[d,q,R,g,x,m]),he=(0,h.useCallback)(o()(a()().mark((function e(){var r,t,n,o,i,u,l,m,p,g,x;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),t=null===(r=B.current)||void 0===r?void 0:r.getFieldsValue(),n=t.msigAccount,o=t.msigPermission,i={},e.next=7,(0,f.zI)(d.client.v1.chain.get_account(n));case 7:if(u=e.sent,l=c()(u,2),m=l[0],p=l[1],!m){e.next=17;break}return s.error(m),y(!1),e.abrupt("return",!1);case 17:g=!1,x=0;case 19:if(!(x<p.permissions.length)){e.next=27;break}if(p.permissions[x].perm_name.toString()!==o){e.next=24;break}return i=p.permissions[x].required_auth,g=!0,e.abrupt("break",27);case 24:x++,e.next=19;break;case 27:if(g){e.next=31;break}return s.error("".concat(ee)),y(!1),e.abrupt("return",!1);case 31:y(!1),H.current.handleOpen(i,B);case 33:case"end":return e.stop()}}),e)}))),[d]);return(0,v.jsxs)(_.Y,{formRef:B,title:K,open:U,onFinish:xe,onOpenChange:function(e){Q(e)},initialValues:{proposer:m?m.accountName.toString():""},submitter:{searchConfig:{submitText:re},render:function(e,r){return[r[0],r[1]]}},layout:"vertical",width:"500px",modalProps:{style:{top:25}},children:[(0,v.jsx)(P.Z,{disabled:!0,name:"proposer",label:ue,placeholder:"example: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(P.Z,{name:"proposalName",label:le,placeholder:fe,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"msigAccount",label:me,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"msigPermission",label:(0,v.jsxs)("div",{className:"flex items-center",children:[ae,j?(0,v.jsx)(Y.Z,{spin:j,className:"ml-3 text-blue-600"}):(0,v.jsx)($.Z,{className:"ml-3 text-blue-600 hover:cursor-pointer",onClick:he})]}),placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]})})]}),(0,v.jsx)(F.Z,{bordered:!0,bodyStyle:{paddingInline:"12px",paddingBlock:"6px"},className:"mb-3 requestedAccount",children:(0,v.jsx)(O.u,{name:"requested",min:1,creatorButtonProps:!1,itemContainerRender:function(e){return(0,v.jsx)("div",{children:e})},initialValue:[{requestedAccount:"",permission:""}],children:(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"requestedAccount",label:pe,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"requestedPermission",label:ae,placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(X),pattern:/^[a-z1-5.]{1,12}$/}]})})]})})}),(0,v.jsx)(E,{width:"lg",name:"expiration",label:ne,rules:[{required:!0,validator:function(e,r){try{return r?r.unix()<I()().unix()?Promise.reject(te):Promise.resolve(""):Promise.reject(X)}catch(e){return Promise.reject(e.message)}}}]}),(0,v.jsx)(V,{ref:H}),i]})})),Me=(0,h.memo)(Ne);I().extend(R());var Ze=function(e){re()(t,e);var r=ne()(t);function t(){return X()(this,t),r.apply(this,arguments)}return G()(t)}(w.AU);se()(Ze,"abiName","freecpu"),se()(Ze,"abiFields",[{name:"user",type:w.VG}]);var _e=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,S.useSelector)((function(e){return e.contract.abi})),m=(0,S.useSelector)((function(e){return e.contract.actionSelection})),d=(0,S.useSelector)((function(e){return e.global.account})),g=(0,S.useSelector)((function(e){return e.global.session})),x=(0,S.useSelector)((function(e){return e.contract.fields})),b=(0,S.useSelector)((function(e){return e.contract.contract})),k=(0,S.useSelector)((function(e){return e.global.privateKey})),y=(0,h.useState)(),M=c()(y,2),Z=M[0],F=M[1],O=(0,h.useState)(new Set),T=c()(O,2),q=T[0],A=T[1],E=(0,h.useRef)(),z=(0,S.useIntl)(),D=z.formatMessage({id:"contract.intlCreateTransaction"}),R=z.formatMessage({id:"common.intlInputException"}),Y=z.formatMessage({id:"account.intlPermissionNotExist"}),$=z.formatMessage({id:"contract.intlCreate"}),J=z.formatMessage({id:"contract.intlCreateAndSign"}),H=z.formatMessage({id:"contract.intlExpiration"}),V=z.formatMessage({id:"contract.intlFreeCpu"}),B=z.formatMessage({id:"contract.intlAccount"}),W=z.formatMessage({id:"contract.intlPermission"}),L=z.formatMessage({id:"contract.intlFreeCpuLimit"}),U=z.formatMessage({id:"common.intlPleaseConnectWallet"}),Q=z.formatMessage({id:"common.intlPleaseConnectNetwork"}),G=(0,h.useRef)(),K=(0,h.useState)(!1),X=c()(K,2),ee=X[0],re=X[1],te=(0,h.useCallback)((function(e,r){F(e),A(r),re(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:te}}));var ne=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,i,h,v,j,P,y,S,C,N,M,_,F,O,T,A,z,D,R,$,J,H,V,B,W,G,K;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&g.broadcast){e.next=5;break}return s.error("".concat(U)),e.abrupt("return");case 5:if(d){e.next=8;break}return s.error("".concat(Q)),e.abrupt("return");case 8:return n=r.account,o=r.permission,i=I()().add(r.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),h=r.freeCpu,v=1,e.next=15,(0,f.zI)(g.client.v1.chain.get_account(n));case 15:if(j=e.sent,P=c()(j,2),y=P[0],S=P[1],!y){e.next=24;break}return s.error(y),e.abrupt("return",!1);case 24:C=!1,N=0;case 26:if(!(N<S.permissions.length)){e.next=34;break}if(S.permissions[N].perm_name.toString()!==o){e.next=31;break}return v=S.permissions[N].required_auth.keyThreshold,C=!0,e.abrupt("break",34);case 31:N++,e.next=26;break;case 34:if(C){e.next=37;break}return s.error("".concat(Y)),e.abrupt("return",!1);case 37:if(M=null===(t=Z.current)||void 0===t?void 0:t.getFieldsValue(),_=/.+\?$/,F=/.+\$$/,O=Object.assign({},M),Object.keys(O).forEach((function(e){q.has(e)&&(O[e]=JSON.parse(O[e]))})),Object.keys(O).forEach((function(e){var r=x.find((function(r){return r.name===e}));r&&_.test(r.type)?void 0!==O[e]&&String(O[e]).trim()||(O[e]=null):r&&F.test(r.type)&&(O[e]="")})),!h||"active"===o||"owner"===o){e.next=46;break}return s.error("".concat(L)),e.abrupt("return",!1);case 46:return T={account:b,name:m,authorization:[{actor:n,permission:o}],data:O},A=w.aU.from(T,u),z={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},{actor:n,permission:o}],data:Ze.from({user:n})},D=w.aU.from(z),J=[],e.next=53,g.client.v1.chain.get_info();case 53:return H=e.sent,V=H.getTransactionHeader(),h?(R=w.YW.from(p()(p()({},V),{},{expiration:i,actions:[D,A]})),J[0]=k.signDigest(R.signingDigest(g.chain.id.toString()))):R=w.YW.from(p()(p()({},V),{},{expiration:i,actions:[A]})),e.next=58,(0,f.zI)(g.transact({transaction:R},{broadcast:!1,transactPlugins:[]}));case 58:if(B=e.sent,W=c()(B,2),G=W[0],K=W[1],!G){e.next=65;break}return s.error(G),e.abrupt("return",!1);case 65:$=w.uQ.from(p()(p()({},R),{},{signatures:[].concat(J,l()(K.signatures))})),E.current.handleOpen($,i,n,o,v);case 67:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[g,Z,q,x,b,k,d]),ae=(0,h.useCallback)(o()(a()().mark((function e(){var r,t,n,o,i,l,d,h,v,j,P,y,S,C,N,M,_,F,O,T,A,z,D,R,$,J,H,V;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=G.current)||void 0===r||r.validateFields(),o=null===(t=G.current)||void 0===t?void 0:t.getFieldsValue(),i=o.account,l=o.permission,d=I()().add(o.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),h=o.freeCpu,v=1,e.next=9,(0,f.zI)(g.client.v1.chain.get_account(i));case 9:if(j=e.sent,P=c()(j,2),y=P[0],S=P[1],!y){e.next=18;break}return s.error(y),e.abrupt("return",!1);case 18:C=!1,N=0;case 20:if(!(N<S.permissions.length)){e.next=28;break}if(S.permissions[N].perm_name.toString()!==l){e.next=25;break}return v=S.permissions[N].required_auth.keyThreshold,C=!0,e.abrupt("break",28);case 25:N++,e.next=20;break;case 28:if(C){e.next=31;break}return s.error("".concat(Y)),e.abrupt("return",!1);case 31:if(M=null===(n=Z.current)||void 0===n?void 0:n.getFieldsValue(),_=/.+\?$/,F=/.+\$$/,O=Object.assign({},M),Object.keys(O).forEach((function(e){q.has(e)&&(O[e]=JSON.parse(O[e]))})),Object.keys(O).forEach((function(e){var r=x.find((function(r){return r.name===e}));r&&_.test(r.type)?void 0!==O[e]&&String(O[e]).trim()||(O[e]=null):r&&F.test(r.type)&&(O[e]="")})),!h||"active"===l||"owner"===l){e.next=40;break}return s.error("".concat(L)),e.abrupt("return",!1);case 40:return T={account:b,name:m,authorization:[{actor:i,permission:l}],data:O},A=w.aU.from(T,u),z={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},{actor:i,permission:l}],data:Ze.from({user:i})},D=w.aU.from(z),e.next=46,g.client.v1.chain.get_info();case 46:J=e.sent,H=J.getTransactionHeader(),h?(R=w.YW.from(p()(p()({},H),{},{expiration:d,actions:[D,A]})),V=k.signDigest(R.signingDigest(g.chain.id.toString())),$=w.uQ.from(p()(p()({},R),{},{signatures:[V]}))):(R=w.YW.from(p()(p()({},H),{},{expiration:d,actions:[A]})),$=w.uQ.from(p()(p()({},R),{},{signatures:[]}))),E.current.handleOpen($,d,i,l,v);case 50:case"end":return e.stop()}}),e)}))),[g,Z,q,x,b,k]);return(0,v.jsxs)(_.Y,{formRef:G,title:D,open:ee,onFinish:ne,onOpenChange:function(e){re(e)},initialValues:{freeCpu:!0,expiration:60},submitter:{searchConfig:{submitText:J},render:function(e,r){return[r[0],(0,v.jsx)(N.ZP,{onClick:ae,children:$},"import"),r[1]]}},layout:"vertical",width:"400px",children:[(0,v.jsx)(P.Z,{name:"account",label:B,placeholder:"example: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(P.Z,{name:"permission",label:W,placeholder:"example: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^[a-z1-5.]{1,12}$/}]}),(0,v.jsx)(ie,{name:"expiration",label:H,marks:{10:"10",30:"30",60:"60"},min:10,max:60,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(R),pattern:/^\d+$/}]}),(0,v.jsx)(j,{name:"freeCpu",label:V}),(0,v.jsx)(le,{ref:E}),i]})})),Fe=(0,h.memo)(_e);I().extend(R());var Oe=function(e){re()(t,e);var r=ne()(t);function t(){return X()(this,t),r.apply(this,arguments)}return G()(t)}(w.AU);se()(Oe,"abiName","freecpu"),se()(Oe,"abiFields",[{name:"user",type:w.VG}]);var Te=h.forwardRef((function(e,r){var t=C.ZP.useMessage(),n=c()(t,2),s=n[0],i=n[1],u=(0,S.useSelector)((function(e){return e.contract.abi})),m=(0,S.useSelector)((function(e){return e.contract.actionSelection})),d=(0,S.useSelector)((function(e){return e.global.account})),g=(0,S.useSelector)((function(e){return e.global.session})),x=(0,S.useSelector)((function(e){return e.contract.fields})),b=(0,S.useSelector)((function(e){return e.contract.contract})),k=(0,S.useSelector)((function(e){return e.global.privateKey})),y=(0,h.useState)(),T=c()(y,2),q=T[0],A=T[1],E=(0,h.useState)(new Set),z=c()(E,2),D=z[0],R=z[1],Y=(0,h.useRef)(),$=(0,h.useRef)(),J=(0,h.useState)(!1),H=c()(J,2),V=H[0],B=H[1],W=(0,S.useIntl)(),L=W.formatMessage({id:"contract.intlCreateTransaction"}),U=W.formatMessage({id:"common.intlInputException"}),Q=W.formatMessage({id:"account.intlPermissionNotExist"}),G=W.formatMessage({id:"contract.intlCreate"}),K=W.formatMessage({id:"contract.intlExpiration"}),X=W.formatMessage({id:"contract.intlPermission"}),ee=W.formatMessage({id:"common.intlPleaseConnectWallet"}),re=W.formatMessage({id:"common.intlPleaseConnectNetwork"}),te=W.formatMessage({id:"contract.intlCreateAndSign"}),ne=W.formatMessage({id:"contract.intlFreeCpu"}),ae=W.formatMessage({id:"contract.intlFreeCpuLimit"}),se=W.formatMessage({id:"contract.intlRequested"}),oe=(0,h.useCallback)((function(e,r){A(e),R(r),B(!0)}),[]);(0,h.useImperativeHandle)(r,(function(){return{handleOpen:oe}}));var ce=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,o,i,h,v,j,P,y,S,C,N,M,Z,_,F,O,T,A,E,z,R,$,J,H,V,B,W;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&g.broadcast){e.next=5;break}return s.error("".concat(ee)),e.abrupt("return");case 5:if(d){e.next=8;break}return s.error("".concat(re)),e.abrupt("return");case 8:n=r.freeCpu,o=I()().add(r.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),i=[],r.requested.forEach((function(e){i.find((function(r){return r.actor===e.requestedAccount&&r.permission===e.requestedPermission}))||i.push({actor:e.requestedAccount,permission:e.requestedPermission})})),h=0;case 13:if(!(h<i.length)){e.next=40;break}return e.next=16,(0,f.zI)(g.client.v1.chain.get_account(i[h].actor));case 16:if(v=e.sent,j=c()(v,2),P=j[0],y=j[1],!P){e.next=25;break}return s.error(P),e.abrupt("return",!1);case 25:S=!1,C=0;case 27:if(!(C<y.permissions.length)){e.next=34;break}if(y.permissions[C].perm_name.toString()!==i[h].permission){e.next=31;break}return S=!0,e.abrupt("break",34);case 31:C++,e.next=27;break;case 34:if(S){e.next=37;break}return s.error("".concat(Q)),e.abrupt("return",!1);case 37:h++,e.next=13;break;case 40:if(N=null===(t=q.current)||void 0===t?void 0:t.getFieldsValue(),M=/.+\?$/,Z=/.+\$$/,_=Object.assign({},N),Object.keys(_).forEach((function(e){D.has(e)&&(_[e]=JSON.parse(_[e]))})),Object.keys(_).forEach((function(e){var r=x.find((function(r){return r.name===e}));r&&M.test(r.type)?void 0!==_[e]&&String(_[e]).trim()||(_[e]=null):r&&Z.test(r.type)&&(_[e]="")})),!n){e.next=50;break}if("active"===i[0].permission||"owner"===i[0].permission){e.next=50;break}return s.error("".concat(ae)),e.abrupt("return",!1);case 50:return F={account:b,name:m,authorization:i,data:_},O=w.aU.from(F,u),T={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},i[0]],data:Oe.from({user:i[0].actor})},A=w.aU.from(T),R=[],e.next=57,g.client.v1.chain.get_info();case 57:return $=e.sent,J=$.getTransactionHeader(),n?(E=w.YW.from(p()(p()({},J),{},{expiration:o,actions:[A,O]})),R[0]=k.signDigest(E.signingDigest(g.chain.id.toString()))):E=w.YW.from(p()(p()({},J),{},{expiration:o,actions:[O]})),e.next=62,(0,f.zI)(g.transact({transaction:E},{broadcast:!1,transactPlugins:[]}));case 62:if(H=e.sent,V=c()(H,2),B=V[0],W=V[1],!B){e.next=69;break}return s.error(B),e.abrupt("return",!1);case 69:z=w.uQ.from(p()(p()({},E),{},{signatures:[].concat(R,l()(W.signatures))})),Y.current.handleOpen(z,o,i);case 71:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[g,q,D,x,b,d]),ue=(0,h.useCallback)(o()(a()().mark((function e(){var r,t,n,o,i,l,d,h,v,j,P,y,S,C,N,M,Z,_,F,O,T,A,E,z,R,J,H;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(r=$.current)||void 0===r||r.validateFields(),o=null===(t=$.current)||void 0===t?void 0:t.getFieldsValue(),i=o.freeCpu,l=I()().add(o.expiration,"minutes").utc().format("YYYY-MM-DDTHH:mm:ss"),d=[],o.requested.forEach((function(e){d.find((function(r){return r.actor===e.requestedAccount&&r.permission===e.requestedPermission}))||d.push({actor:e.requestedAccount,permission:e.requestedPermission})})),h=0;case 7:if(!(h<d.length)){e.next=34;break}return e.next=10,(0,f.zI)(g.client.v1.chain.get_account(d[h].actor));case 10:if(v=e.sent,j=c()(v,2),P=j[0],y=j[1],!P){e.next=19;break}return s.error(P),e.abrupt("return",!1);case 19:S=!1,C=0;case 21:if(!(C<y.permissions.length)){e.next=28;break}if(y.permissions[C].perm_name.toString()!==d[h].permission){e.next=25;break}return S=!0,e.abrupt("break",28);case 25:C++,e.next=21;break;case 28:if(S){e.next=31;break}return s.error("".concat(Q)),e.abrupt("return",!1);case 31:h++,e.next=7;break;case 34:if(N=null===(n=q.current)||void 0===n?void 0:n.getFieldsValue(),M=/.+\?$/,Z=/.+\$$/,_=Object.assign({},N),Object.keys(_).forEach((function(e){D.has(e)&&(_[e]=JSON.parse(_[e]))})),Object.keys(_).forEach((function(e){var r=x.find((function(r){return r.name===e}));r&&M.test(r.type)?void 0!==_[e]&&String(_[e]).trim()||(_[e]=null):r&&Z.test(r.type)&&(_[e]="")})),!i){e.next=44;break}if("active"===d[0].permission||"owner"===d[0].permission){e.next=44;break}return s.error("".concat(ae)),e.abrupt("return",!1);case 44:return F={account:b,name:m,authorization:d,data:_},O=w.aU.from(F,u),T={account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"dfs.service",permission:"cpu"},d[0]],data:Oe.from({user:d[0].actor})},A=w.aU.from(T),e.next=50,g.client.v1.chain.get_info();case 50:R=e.sent,J=R.getTransactionHeader(),i?(E=w.YW.from(p()(p()({},J),{},{expiration:l,actions:[A,O]})),H=k.signDigest(E.signingDigest(g.chain.id.toString())),z=w.uQ.from(p()(p()({},E),{},{signatures:[H]}))):(E=w.YW.from(p()(p()({},J),{},{expiration:l,actions:[O]})),z=w.uQ.from(p()(p()({},E),{},{signatures:[]}))),Y.current.handleOpen(z,l,d);case 54:case"end":return e.stop()}}),e)}))),[g,q,D,x,b,k]);return(0,v.jsxs)(_.Y,{formRef:$,title:L,open:V,onFinish:ce,onOpenChange:function(e){B(e)},initialValues:{freeCpu:!0,expiration:60},submitter:{searchConfig:{submitText:te},render:function(e,r){return[r[0],(0,v.jsx)(N.ZP,{onClick:ue,children:G},"import"),r[1]]}},layout:"vertical",width:"500px",modalProps:{style:{top:25}},children:[(0,v.jsx)(F.Z,{bordered:!0,bodyStyle:{paddingInline:"12px",paddingBlock:"6px"},className:"mb-3 requestedAccount",children:(0,v.jsx)(O.u,{name:"requested",min:1,creatorButtonProps:!1,itemContainerRender:function(e){return(0,v.jsx)("div",{children:e})},initialValue:[{requestedAccount:"",permission:""}],children:(0,v.jsxs)(M.Z,{gutter:10,children:[(0,v.jsx)(Z.Z,{lg:{span:"16"},md:{span:"16"},sm:{span:"16"},xs:{span:"16"},children:(0,v.jsx)(P.Z,{name:"requestedAccount",label:se,placeholder:"ex: dfsdeveloper",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(U),pattern:/^[a-z1-5.]{1,12}$/}]})}),(0,v.jsx)(Z.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"8"},children:(0,v.jsx)(P.Z,{name:"requestedPermission",label:X,placeholder:"ex: active",fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(U),pattern:/^[a-z1-5.]{1,12}$/}]})})]})})}),(0,v.jsx)(ie,{name:"expiration",label:K,marks:{10:"10",30:"30",60:"60"},min:10,max:60,fieldProps:{autoFocus:!1},rules:[{required:!0,whitespace:!0,message:"".concat(U),pattern:/^\d+$/}]}),(0,v.jsx)(j,{name:"freeCpu",label:ne}),(0,v.jsx)(ge,{ref:Y}),i]})})),qe=(0,h.memo)(Te),Ae=function(){var e,r=(0,h.useRef)(),t=(0,h.useRef)(),n=(0,h.useRef)(),s=(0,h.useRef)(),i=(0,h.useRef)(),u=(0,S.useDispatch)(),m=(0,h.useState)(new Set),g=c()(m,1)[0],x=(0,S.useSelector)((function(e){return e.contract.abi})),b=(0,S.useSelector)((function(e){return e.contract.actionSelection})),k=(0,S.useSelector)((function(e){return e.contract.actionType})),_=(0,S.useSelector)((function(e){return e.global.session})),F=(0,S.useSelector)((function(e){return e.global.account})),O=(0,S.useSelector)((function(e){return e.contract.contract})),T=(0,S.useSelector)((function(e){return e.contract.batchActions})),q=(0,S.useSelector)((function(e){return e.contract.encodeData})),A=(0,S.useSelector)((function(e){return e.contract.decodeData})),E=(0,S.useSelector)((function(e){return e.contract.fields})),z=C.ZP.useMessage(),I=c()(z,2),D=I[0],R=I[1],Y=(0,S.useIntl)(),$=Y.formatMessage({id:"common.intlCopySuccess"}),J=Y.formatMessage({id:"contract.intlSelectAction"}),H=Y.formatMessage({id:"contract.intlEnterData"}),V=Y.formatMessage({id:"common.intlCopy"}),B=Y.formatMessage({id:"common.intlTxSuccess"}),W=Y.formatMessage({id:"common.intlTxFail"}),L=Y.formatMessage({id:"common.intlPleaseConnectWallet"}),U=Y.formatMessage({id:"common.intlPleaseConnectNetwork"}),Q=Y.formatMessage({id:"contract.intlAdd"}),G=Y.formatMessage({id:"contract.intlEncode"}),K=Y.formatMessage({id:"contract.intlDecode"}),X=Y.formatMessage({id:"contract.intlEncodeSuccess"}),ee=Y.formatMessage({id:"contract.intlMsigPubkey"}),re=Y.formatMessage({id:"contract.intlMsigProposal"}),te=Y.formatMessage({id:"contract.intlMsigTransaction"}),ne=(0,h.useCallback)((function(e,r){var t=/(\$|\?)$/g,n=/^[a-z1-5.]{1,12}$/,a=/^\d+$/,s=/^-?\d+$/,o=/^(-?\d+)(.\d+)?$/,i=/^([0-9a-fA-F][0-9a-fA-F])+$/,c=/^\d+,[A-Z]+$/;if(t.test(e.message)&&!r)return Promise.resolve();switch(e.message.replace(t,"")){case"string":return Promise.resolve("");case"name":try{return n.test(r)?Promise.resolve(w.VG.from(r)):Promise.reject(e.message=String(n))}catch(r){return Promise.reject(e.message=r.message)}case"asset":try{return Promise.resolve(w.xR.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum160":try{return Promise.resolve(w.b9.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum256":try{return Promise.resolve(w.Nz.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"checksum512":try{return Promise.resolve(w.W4.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"uint8":try{return a.test(r)?Promise.resolve(w._A.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"uint16":try{return a.test(r)?Promise.resolve(w.j8.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"uint32":try{return a.test(r)?Promise.resolve(w.xH.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"uint64":try{return a.test(r)?Promise.resolve(w.zM.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"uint128":try{return a.test(r)?Promise.resolve(w.pB.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint16":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint32":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint64":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varuint128":try{return a.test(r)?Promise.resolve(w.mj.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int8":try{return s.test(r)?Promise.resolve(w.tJ.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int16":try{return s.test(r)?Promise.resolve(w.k6.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int32":try{return s.test(r)?Promise.resolve(w.Vq.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int64":try{return s.test(r)?Promise.resolve(w.ni.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"int128":try{return s.test(r)?Promise.resolve(w.Gm.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint16":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint32":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint64":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"varint128":try{return s.test(r)?Promise.resolve(w.yN.from(r)):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"float32":try{return o.test(r)?Promise.resolve(w.yA.from(r)):Promise.reject(e.message=String(o))}catch(r){return Promise.reject(e.message=r.message)}case"float64":try{return o.test(r)?Promise.resolve(w.Dh.from(r)):Promise.reject(e.message=String(o))}catch(r){return Promise.reject(e.message=r.message)}case"bytes":try{return i.test(r)?Promise.resolve(w.Jj.from(r)):Promise.reject(e.message=String(i))}catch(r){return Promise.reject(e.message=r.message)}case"block_timestamp_type":try{return a.test(r)?Promise.resolve(w.wm.from(Number(r))):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"time_point":try{return a.test(r)?Promise.resolve(w.hI.from(Number(r))):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"time_point_sec":try{return a.test(r)?Promise.resolve(w.AQ.from(Number(r))):Promise.reject(e.message=String(a))}catch(r){return Promise.reject(e.message=r.message)}case"public_key":try{return Promise.resolve(w.nh.from(r))}catch(r){return Promise.reject(e.message=r.message)}case"symbol":try{return c.test(r)?Promise.resolve(w.xR.Symbol.from(r)):Promise.reject(e.message=String(c))}catch(r){return Promise.reject(e.message=r.message)}default:try{return JSON.parse(r),g.add(e.field),Promise.resolve()}catch(r){return Promise.reject(e.message=r.message)}}}),[b,g]),ae=(0,h.useCallback)((function(e){switch(e.replace(/(\$|\?)$/g,"")){case"name":return"Enter account name...";case"asset":return"example: 1.00000000 DFS";case"uint8":case"uint16":case"uint32":case"uint64":case"uint128":case"varuint":case"varuint16":case"varuint32":case"varuint64":case"varuint128":case"int8":case"int16":case"int32":case"int64":case"int128":case"varint":case"varint16":case"varint32":case"varint64":case"varint128":case"float32":case"float64":return"Enter number...";case"string":return"Enter string...";case"permission_level":return'example: {"actor": "foo", "permission": "active"}';case"bytes":return"example: 1234abcdff";case"checksum256":return"example: 73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d";case"authority":return'example: {"threshold": 1, "keys": [{"key": "EOS6RrvujLQN1x5Tacbep1KAk8zzKpSThAQXBCKYFfGUYeABhJRin", "weight": 1}], "accounts": [], "waits": []}';case"symbol":return"example: 8,DFS";case"name[]":return'example: ["david", "mary"]';case"asset[]":return'example: ["1.00000000 DFS", "2.00000000 USDT"]';case"uint8[]":case"uint16[]":case"uint32[]":case"uint64[]":case"uint128[]":case"varuint[]":case"varuint16[]":case"varuint32[]":case"varuint64[]":case"varuint128[]":return"example: [12, 34]";case"int8[]":case"int16[]":case"int32[]":case"int64[]":case"int128[]":case"varint[]":case"varint16[]":case"varint32[]":case"varint64[]":case"varint128[]":return"example: [12, -34]";case"float32[]":case"float64[]":return"example: [12.12, -34.34]";case"string[]":return'example: ["abc", "def"]';case"permission_level[]":return'example: [{"actor": "foo", "permission": "active"}, {"actor": "foo", "permission": "active"}]';case"bytes[]":return'example: ["123abc", "456def"]';case"checksum256[]":return'example: ["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d", "73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d"]';case"symbol[]":return'example: ["8,DFS", "8,USDT"]';default:return"Enter ".concat(e,"...")}}),[]),se=(0,h.useCallback)((function(){var e=/.+(\$|\?)$/;return E.map((function(r,t){return"bool"===r.type?(0,v.jsx)(j,{name:r.name,label:(0,v.jsx)("span",{className:"font-semibold",children:r.name})},t):(0,v.jsx)(P.Z,{placeholder:ae(r.type),name:r.name,label:(0,v.jsx)("span",{className:"font-semibold",children:r.name}),rules:[{required:!e.test(r.type),message:r.type,validator:ne}],hasFeedback:!0,fieldProps:{allowClear:!0,autoFocus:!1,addonAfter:r.type,size:"large"}},t)}))}),[x,b,k,E]),oe=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r){var t,n,s,o,i,u,l,m,d,h;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&_.broadcast){e.next=5;break}return D.error("".concat(L)),e.abrupt("return");case 5:if(F){e.next=8;break}return D.error("".concat(U)),e.abrupt("return");case 8:return t={},n=/.+\?$/,s=/.+\$$/,E.forEach((function(e){s.test(e.type)?t[e.name]="":n.test(e.type)&&(t[e.name]=null)})),o=Object.assign(p()({},t),r),Object.keys(o).forEach((function(e){g.has(e)&&(o[e]=JSON.parse(o[e]))})),Object.keys(o).forEach((function(e){var r=E.find((function(r){return r.name===e}));r&&n.test(r.type)&&(String(o[e]).trim()||(o[e]=null))})),i={account:O,name:b,authorization:[_.permissionLevel],data:o},u=w.aU.from(i,x),e.next=19,(0,f.zI)(_.transact({actions:[u]}));case 19:l=e.sent,m=c()(l,2),d=m[0],h=m[1],d?D.error(d):h&&h.response?D.success("".concat(B)):D.error("".concat(W));case 24:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[b,x,g,O,_,F,E]),ie=(0,h.useCallback)(o()(a()().mark((function e(){var t,n,s,o,i,c;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=r.current)||void 0===t?void 0:t.getFieldsValue(),s=/.+\?$/,o=/.+\$$/,i=Object.assign({},n),Object.keys(i).forEach((function(e){g.has(e)&&(i[e]=JSON.parse(i[e]))})),Object.keys(i).forEach((function(e){var r=E.find((function(r){return r.name===e}));r&&s.test(r.type)?void 0!==i[e]&&String(i[e]).trim()||(i[e]=null):r&&o.test(r.type)&&(i[e]="")})),_.broadcast){e.next=11;break}return e.next=9,window.navigator.clipboard.writeText(JSON.stringify(i));case 9:e.next=14;break;case 11:return c={account:O,name:b,authorization:[{actor:_.actor,permission:_.permission}],data:i},e.next=14,window.navigator.clipboard.writeText(JSON.stringify(c,null,2));case 14:D.success("".concat($));case 15:case"end":return e.stop()}}),e)}))),[D,_,O,b,E]),ce=(0,h.useCallback)(o()(a()().mark((function e(){var t,n,s,o,i,c,m,p;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:if(_&&_.broadcast){e.next=7;break}return D.error("".concat(L)),e.abrupt("return");case 7:if(F){e.next=10;break}return D.error("".concat(U)),e.abrupt("return");case 10:s=null===(n=r.current)||void 0===n?void 0:n.getFieldsValue(),o=/.+\?$/,i=/.+\$$/,c=Object.assign({},s),Object.keys(c).forEach((function(e){g.has(e)&&(c[e]=JSON.parse(c[e]))})),Object.keys(c).forEach((function(e){var r=E.find((function(r){return r.name===e}));r&&o.test(r.type)?void 0!==c[e]&&String(c[e]).trim()||(c[e]=null):r&&i.test(r.type)&&(c[e]="")})),m={account:O,name:b,authorization:[{actor:_.actor,permission:_.permission}],data:c},p=w.aU.from(m,x),u(d.N.setEncodeData(void 0)),u(d.N.setDecodeData(void 0)),u(d.N.setBatchActions([].concat(l()(T),[{untypedAction:JSON.stringify(m),typedAction:JSON.stringify(p)}])));case 21:case"end":return e.stop()}}),e)}))),[D,x,_,F,O,b,T,E]),ue=(0,h.useCallback)(o()(a()().mark((function e(){var t,n,s,o,i,l,m,h,v,k,j,P,y,S,C,N,M,Z,F,T,q,A,z,I;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:if(s=null===(n=r.current)||void 0===n?void 0:n.getFieldsValue(),o=/.+\?$/,i=/.+\$$/,l=Object.assign({},s),Object.keys(l).forEach((function(e){g.has(e)&&(l[e]=JSON.parse(l[e]))})),Object.keys(l).forEach((function(e){var r=E.find((function(r){return r.name===e}));r&&o.test(r.type)?void 0!==l[e]&&String(l[e]).trim()||(l[e]=null):r&&i.test(r.type)&&(l[e]="")})),m=_.broadcast?[_.permissionLevel]:[],h={account:O,name:b,authorization:m,data:l},v=w.aU.from(h,x),k=JSON.stringify(v,null,2),j={expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],transaction_extensions:[]},P=w.YW.from(p()(p()({},j),{},{actions:[v]})),y=JSON.stringify(P,null,2),S=P.id.toString(),C="",N="",M="",Z="",!_||!_.broadcast){e.next=27;break}return e.next=23,(0,f.zI)(_.transact({actions:[v]},{broadcast:!1,transactPlugins:[]}));case 23:F=e.sent,T=c()(F,2),(q=T[1])&&(P=q.resolved.transaction,y=JSON.stringify(P,null,2),A=q.signatures[0],z=w.uQ.from(p()(p()({},P),{},{signatures:[A]})),I=w.f1.fromSigned(z),C=JSON.stringify(z,null,2),N=JSON.stringify(I,null,2),M=q.resolved.signingData.toString(),Z=q.resolved.signingDigest.toString());case 27:u(d.N.setEncodeData({action:k,transaction:y,transactionId:S,signedTransaction:C,packedTransaction:N,signingData:M,signingDigest:Z})),u(d.N.setBatchActions([])),u(d.N.setDecodeData(void 0)),D.success("".concat(X));case 31:case"end":return e.stop()}}),e)}))),[b,x,g,O,_,E]),le=(0,h.useCallback)((function(){var e;null===(e=r.current)||void 0===e||e.resetFields(),u(d.N.setEncodeData(void 0))}),[]),me=(0,h.useCallback)((function(e){var r,t=null==x||null===(r=x.structs)||void 0===r?void 0:r.find((function(r){return r.name===e.type.toString()})),n=null==t?void 0:t.fields;u(d.N.setFields(n)),u(d.N.setActionSelection(e.name.toString())),u(d.N.setActionType(e.type.toString())),le()}),[le,E,x]);return(0,v.jsxs)("div",{className:"tab-action",children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-3",children:J}),(0,v.jsx)("div",{className:"flex flex-start flex-wrap pl-[13px]",children:null==x||null===(e=x.actions)||void 0===e?void 0:e.map((function(e,r){return(0,v.jsx)(N.ZP,{className:"w-[150px] mr-2 mb-2",ghost:b!==e.name.toString(),type:"primary",size:"large",onClick:function(){return me(e)},children:e.name.toString()},r)}))}),!!b&&(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:H}),(0,v.jsx)(M.Z,{gutter:10,className:"w-full",children:(0,v.jsx)(Z.Z,{lg:{span:"12"},md:{span:"20"},sm:{span:"20"},xs:{span:"24"},children:(0,v.jsx)(y.A,{formRef:r,className:"pl-[13px]",layout:"vertical",onFinish:function(){var e=o()(a()().mark((function e(r){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),onReset:function(){return le()},submitter:{render:function(e,c){return(0,v.jsxs)("div",{className:"flex flex-wrap",style:{marginTop:"10px"},children:[(0,v.jsx)("div",{className:"mr-[8px] mt-[14px]",children:c[1]}),(0,v.jsx)("div",{className:"mr-[8px] mt-[14px]",children:c[0]}),(0,v.jsx)(N.ZP,{className:"mr-[8px] mt-[14px]",onClick:ie,children:V},"copy"),(0,v.jsx)(N.ZP,{className:"mr-[8px] mt-[14px]",onClick:ce,children:Q},"add"),(0,v.jsx)(N.ZP,{className:"mr-[8px] mt-[14px]",onClick:ue,children:G},"encode"),(0,v.jsx)(N.ZP,{className:"mr-[8px] mt-[14px]",onClick:function(){return t.current.handleOpen()},children:K},"decode"),(0,v.jsx)(N.ZP,{className:"mr-[8px] mt-[14px]",onClick:o()(a()().mark((function e(){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:s.current.handleOpen(r,g);case 3:case"end":return e.stop()}}),e)}))),children:re},"msigProposal"),(0,v.jsx)(N.ZP,{className:"mr-[8px] mt-[14px]",onClick:o()(a()().mark((function e(){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:n.current.handleOpen(r,g);case 3:case"end":return e.stop()}}),e)}))),children:ee},"msigPubkey"),(0,v.jsx)(N.ZP,{className:"mr-[8px] mt-[14px]",onClick:o()(a()().mark((function e(){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r.current)||void 0===t?void 0:t.validateFields();case 2:i.current.handleOpen(r,g);case 3:case"end":return e.stop()}}),e)}))),children:te},"msigTx")]})}},children:se()})})})]}),(0,v.jsx)(Fe,{ref:n}),(0,v.jsx)(Me,{ref:s}),(0,v.jsx)(Ce,{ref:t}),(0,v.jsx)(qe,{ref:i}),!!A&&(0,v.jsx)(Pe,{}),!!q&&(0,v.jsx)(Se,{}),!!T.length&&(0,v.jsx)(ke,{}),R]})},Ee=(0,h.memo)(Ae),ze=t(64317),Ie=t(92340),De=t(72269),Re=t(57953),Ye=t(96486),$e=function(){var e,r=(0,S.useDispatch)(),t=(0,h.useRef)(),n=(0,S.useSelector)((function(e){return e.contract.abi})),s=(0,S.useSelector)((function(e){return e.contract.contract})),i=(0,S.useSelector)((function(e){return e.global.session})),u=(0,S.useSelector)((function(e){return e.contract.tableSelection})),l=(0,S.useSelector)((function(e){return e.contract.tableDataSource})),m=(0,S.useSelector)((function(e){return e.contract.tableColumns})),g=(0,S.useSelector)((function(e){return e.contract.tableByScope})),x=(0,S.useSelector)((function(e){return e.contract.tableParams})),b=(0,S.useSelector)((function(e){return e.contract.tableByScopeParams})),k=C.ZP.useMessage(),w=c()(k,2),M=w[0],Z=w[1],_=(0,h.useState)(!1),F=c()(_,2),O=F[0],T=F[1],q=(0,S.useIntl)(),A=q.formatMessage({id:"common.intlCopySuccess"}),E=q.formatMessage({id:"contract.intlSelectTable"}),z=q.formatMessage({id:"contract.intlEnterParameters"}),I=q.formatMessage({id:"common.intlCopy"}),D=q.formatMessage({id:"contract.intlTableResult"}),R=q.formatMessage({id:"contract.intlNoData"}),Y=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(t){var n,s,o,u,l,m,g,x;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],s=[],T(!0),e.next=5,(0,f.zI)(i.client.v1.chain.get_table_rows(t));case 5:if(o=e.sent,u=c()(o,2),l=u[0],m=u[1],T(!1),!l){e.next=13;break}return M.error(l),e.abrupt("return");case 13:if((g=m.rows).length){e.next=18;break}return r(d.N.setTableColumns(n)),r(d.N.setTableDataSource(g)),e.abrupt("return");case 18:t.json?(x=Object.keys(g[0]),n.push({title:"#",dataIndex:"_key",key:"_key",width:"50px",align:"center",render:function(e,r,t){return(0,v.jsx)("span",{children:t+1})}}),x.forEach((function(e){n.push({title:e,dataIndex:e,key:e,render:function(r,t){return(0,Ye.isObject)(t[e])?(0,v.jsx)("span",{children:JSON.stringify(t[e])}):(0,v.jsx)("span",{children:t[e]})}})})),t.show_payer?(n.push({title:"payer",dataIndex:"payer",key:"payer",render:function(e,r){return(0,v.jsx)("span",{children:r.payer})}}),g.forEach((function(e,r){g[r]._key=r,s.push(p()(p()({},g[r]),{},{payer:m.ram_payers[r].toString()}))}))):g.forEach((function(e,r){g[r]._key=r,s.push(p()({},g[r]))}))):(n.push({title:"#",dataIndex:"_key",key:"_key",width:"50px",align:"center",render:function(e,r,t){return(0,v.jsx)("span",{children:t+1})}}),n.push({title:"bytes",dataIndex:"bytes",key:"bytes",render:function(e,r){return(0,v.jsx)("span",{children:r.bytes})}}),t.show_payer?(n.push({title:"payer",dataIndex:"payer",key:"payer",render:function(e,r){return(0,v.jsx)("span",{children:r.payer})}}),g.forEach((function(e,r){s.push({_key:r,bytes:e,payer:m.ram_payers[r].toString()})}))):g.forEach((function(e,r){s.push({_key:r,bytes:e})}))),r(d.N.setTableColumns(n)),r(d.N.setTableDataSource(s));case 21:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[i,M]),$=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(t){var n,s,o,u,l,m,g,x;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],s=[],T(!0),e.next=5,(0,f.zI)(i.client.v1.chain.get_table_by_scope(t));case 5:if(o=e.sent,u=c()(o,2),l=u[0],m=u[1],T(!1),!l){e.next=13;break}return T(!1),e.abrupt("return");case 13:if((g=JSON.parse(JSON.stringify(m.rows))).length){e.next=18;break}return r(d.N.setTableColumns(n)),r(d.N.setTableDataSource(g)),e.abrupt("return");case 18:x=Object.keys(g[0]),n.push({title:"#",dataIndex:"_key",key:"_key",width:"50px",align:"center",render:function(e,r,t){return(0,v.jsx)("span",{children:t+1})}}),x.forEach((function(e){n.push({title:e,dataIndex:e,key:e,render:function(r,t){return(0,Ye.isObject)(t[e])?(0,v.jsx)("span",{children:JSON.stringify(t[e])}):(0,v.jsx)("span",{children:t[e]})}})})),g.forEach((function(e,r){g[r]._key=r,s.push(p()({},g[r]))})),r(d.N.setTableColumns(n)),r(d.N.setTableDataSource(s));case 24:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[i,M]),J=(0,h.useCallback)(o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g?$(b):Y(x);case 1:case"end":return e.stop()}}),e)}))),[x,b,g,Y,$]),H=(0,h.useCallback)((function(e){var t=p()(p()({},x),{},{code:s,table:e.name.toString(),scope:x.scope?x.scope:s}),n=p()(p()({},b),{},{code:s,table:e.name.toString()});r(d.N.setTableSelection(e.name.toString())),r(d.N.setTableParams(t)),r(d.N.setTableByScopeParams(n)),g?$(n):Y(t)}),[s,Y,$,x,b]),V=(0,h.useCallback)((function(e){r(d.N.setTableByScope(e)),u&&(e?$(b):Y(x))}),[u,x,b]),B=(0,h.useCallback)((function(e,t){if(g){var n={};e.hasOwnProperty("lower_bound2")?n.lower_bound=e.lower_bound2:e.hasOwnProperty("upper_bound2")?n.upper_bound=e.upper_bound2:e.hasOwnProperty("limit2")?n.limit=e.limit2:e.hasOwnProperty("reverse2")&&(n.reverse=e.reverse2),r(d.N.setTableByScopeParams(p()(p()({},b),n)))}else r(d.N.setTableParams(p()(p()({},x),t)))}),[g,x,b]),W=(0,h.useCallback)(o()(a()().mark((function e(){var r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},g?Object.keys(b).forEach((function(e){b[e]&&(r[e]=b[e])})):Object.keys(x).forEach((function(e){x[e]&&(r[e]=x[e])})),e.next=4,window.navigator.clipboard.writeText(JSON.stringify(r));case 4:M.success("".concat(A));case 5:case"end":return e.stop()}}),e)}))),[M,g,x,b]);return(0,v.jsxs)("div",{className:"tab-table",children:[(0,v.jsxs)("div",{className:"hardline text-lg font-semibold mb-3",children:[(0,v.jsx)("span",{children:E}),(0,v.jsx)("span",{className:"ml-[30px] mr-3",children:"Table by Scope"}),(0,v.jsx)(De.Z,{value:g,onChange:V})]}),(0,v.jsx)("div",{className:"flex flex-start flex-wrap pl-[13px]",children:null==n||null===(e=n.tables)||void 0===e?void 0:e.map((function(e,r){return(0,v.jsx)(N.ZP,{className:"w-[150px] mr-2 mb-2",ghost:u!==e.name.toString(),type:"primary",size:"large",onClick:function(){return H(e)},children:e.name.toString()},r)}))}),!!u&&(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:z}),(0,v.jsx)(y.A,{initialValues:{scope:void 0===x.scope?s:x.scope,lower_bound:x.lower_bound,upper_bound:x.upper_bound,limit:x.limit,reverse:x.reverse,index_position:x.index_position,json:x.json,show_payer:x.show_payer,lower_bound2:b.lower_bound,upper_bound2:b.upper_bound,limit2:b.limit,reverse2:b.reverse},className:"pl-[13px]",formRef:t,layout:"vertical",onValuesChange:B,onFinish:o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J());case 1:case"end":return e.stop()}}),e)}))),submitter:{render:function(e,r){return[(0,v.jsx)(Re.Z,{spinning:O,size:"small",children:r[1]},"comfirm"),(0,v.jsx)(N.ZP,{onClick:W,children:I},"copy")]}},children:g?(0,v.jsxs)(y.A.Group,{children:[(0,v.jsx)(P.Z,{name:"lower_bound2",label:"Lower Bound",placeholder:"Search...",fieldProps:{autoFocus:!1}}),(0,v.jsx)(P.Z,{name:"upper_bound2",label:"Upper Bound",placeholder:"Search..."}),(0,v.jsx)(P.Z,{name:"limit2",label:"Limit",placeholder:"Search...",transform:function(e){return Number(e)},fieldProps:{type:"number"}}),(0,v.jsx)(j,{name:"reverse2",label:"Reverse",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}})]}):(0,v.jsxs)(y.A.Group,{children:[(0,v.jsx)(P.Z,{name:"scope",label:"Scope",placeholder:"Search...",fieldProps:{defaultValue:"".concat(s),autoFocus:!1}}),(0,v.jsx)(P.Z,{name:"lower_bound",label:"Lower Bound",placeholder:"Search..."}),(0,v.jsx)(P.Z,{name:"upper_bound",label:"Upper Bound",placeholder:"Search..."}),(0,v.jsx)(P.Z,{name:"limit",label:"Limit",placeholder:"Search...",transform:function(e){return Number(e)},fieldProps:{type:"number"}}),(0,v.jsx)(ze.Z,{name:"Index Position",label:"index_position",placeholder:"Search...",options:["primary","secondary","tertiary","fourth","fifth","sixth","seventh","eighth","ninth","tenth"]}),(0,v.jsxs)(y.A.Group,{children:[(0,v.jsx)(j,{name:"reverse",label:"Reverse",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}}),(0,v.jsx)(j,{name:"show_payer",label:"Show Payer",fieldProps:{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}}),(0,v.jsx)(j,{name:"json",label:"JSON",fieldProps:{defaultValue:!0,onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.submit()}}})]})]})}),(0,v.jsx)("div",{className:"hardline text-lg font-semibold mb-2 mt-3",children:D}),l.length?(0,v.jsx)(Ie.Z,{loading:O,rowKey:"_key",scroll:{x:!0},size:"small",columns:m,dataSource:l,defaultData:[],search:!1,options:!1,pagination:!1}):(0,v.jsx)("div",{className:"text-base pl-[13px]",children:R})]}),Z]})},Je=(0,h.memo)($e),He=t(57132),Ve=t(11774),Be=t(69677),We=t(92398),Le=t(79123),Ue=(t(20034),t(31145),function(){var e=C.ZP.useMessage(),r=c()(e,2),t=r[0],n=r[1],s=(0,S.useDispatch)(),i=(0,S.useSelector)((function(e){return e.global.session})),u=(0,S.useSelector)((function(e){return e.global.contractKit})),l=(0,S.useSelector)((function(e){return e.contract.rawAbi})),m=(0,S.useSelector)((function(e){return e.contract.contract})),p=(0,S.useSelector)((function(e){return e.contract.tableSelection})),g=(0,S.useSelector)((function(e){return e.contract.actionSelection})),x=(0,S.useSelector)((function(e){return e.contract.activeKey})),b=(0,h.useState)(""),k=c()(b,2),j=k[0],P=k[1],y=(0,h.useState)(!1),w=c()(y,2),N=w[0],M=w[1],Z=(0,S.useSearchParams)(),_=c()(Z,2),O=_[0],T=_[1],q=O.get("tab")?O.get("tab"):void 0,A=(0,S.useIntl)(),E=A.formatMessage({id:"contract.intlContract"}),z=A.formatMessage({id:"contract.intlSearch"}),I=A.formatMessage({id:"contract.intlAccountFormatError"}),D=A.formatMessage({id:"contract.intlNonContractAccount"}),R=A.formatMessage({id:"contract.intlSearchContract"}),Y=A.formatMessage({id:"common.intlCopySuccess"}),$=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r,n){var s,o,u,l;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^[a-z1-5.]{1,12}$/.test(r)){e.next=8;break}if(r||n.hasOwnProperty("type")){e.next=4;break}return e.abrupt("return",!1);case 4:return t.error("".concat(I)),e.abrupt("return",!1);case 8:return e.next=10,(0,f.zI)(i.client.v1.chain.get_abi(r));case 10:if(s=e.sent,o=c()(s,2),u=o[0],l=o[1],!u){e.next=17;break}return t.error(u),e.abrupt("return",!1);case 17:if(u||!l.hasOwnProperty("abi")){e.next=21;break}return e.abrupt("return",!0);case 21:return t.error("".concat(D)),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[i,t]),J=(0,h.useCallback)(function(){var e=o()(a()().mark((function e(r,n){var o,i,l,m,p,g;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=16;break}return M(!0),e.next=4,$(r,n);case 4:if(e.sent){e.next=7;break}return M(!1),e.abrupt("return");case 7:return e.next=9,(0,f.zI)(u.load(r));case 9:o=e.sent,i=c()(o,2),l=i[0],m=i[1],l?t.error(l):(p=m.abi.toJSON(),g=JSON.stringify(p),g=JSON.parse(g),s(d.N.setContract(r)),s(d.N.setABI(p)),s(d.N.setRawABI(g)),s(d.N.setActionType("")),s(d.N.setActionSelection("")),s(d.N.setTableSelection("")),s(d.N.setTableDataSource([])),s(d.N.setTableColumns([])),s(d.N.setTableByScope(!1)),s(d.N.setTableParams({code:"",table:"",scope:void 0,lower_bound:void 0,upper_bound:void 0,limit:100,reverse:void 0,index_position:void 0,json:!0,show_payer:void 0})),s(d.N.setTableByScopeParams({code:"",table:"",lower_bound:void 0,upper_bound:void 0,limit:100,reverse:void 0}))),P(""),M(!1);case 16:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),[u,$,t]),H=(0,h.useCallback)((0,Ye.debounce)(function(){var e=o()(a()().mark((function e(r){var t,n,s,o,u;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.target.value,/^[a-z1-5.]{1,12}$/.test(t)){e.next=6;break}0===t.trim().length?P(""):P("error"),e.next=13;break;case 6:return e.next=8,(0,f.zI)(i.client.v1.chain.get_abi(t));case 8:n=e.sent,s=c()(n,2),o=s[0],u=s[1],!o&&u.hasOwnProperty("abi")?P(""):P("error");case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),1e3),[i]),V=(0,h.useMemo)((function(){return"tables"===x&&p?m+"::"+p:"actions"===x&&g?m+"::"+g:m||""}),[x,p,g,m]),B=(0,h.useCallback)(o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.clipboard.writeText(JSON.stringify(l));case 2:t.success("".concat(Y));case 3:case"end":return e.stop()}}),e)}))),[l]),W=[{key:"tables",label:(0,v.jsx)("span",{className:"text-lg font-semibold",children:"Tables"}),children:!!l&&(0,v.jsx)(Je,{})},{key:"actions",label:(0,v.jsx)("span",{className:"text-lg font-semibold",children:"Actions"}),children:!!l&&(0,v.jsx)(Ee,{})},{key:"abi",label:(0,v.jsx)("span",{className:"text-lg font-semibold",children:"ABI"}),children:!!l&&(0,v.jsxs)("div",{className:"pl-[13px]",children:[(0,v.jsx)(He.Z,{className:"cursor-pointer",style:{color:"#1677ff"},onClick:B}),(0,v.jsx)(Le.ZP,{className:"text-lg",src:l,collapsed:3,displaySize:!0,enableClipboard:!1})]})},{key:"tip",label:(0,v.jsx)("span",{className:"text-lg font-semibold",children:V}),disabled:!0}],L=(0,h.useCallback)((function(e,r){var t={};e&&(t.search=e),t.tab=r||x,T(t)}),[x]);return(0,h.useEffect)((function(){var e=O.get("search"),r=O.get("tab");r&&s(d.N.setActiveKey(r)),e&&J(e,""),L(e,r)}),[J]),(0,h.useEffect)((function(){L(m||"",x)}),[m,x,L]),(0,v.jsxs)(Ve._z,{className:"contract",ghost:!0,children:[(0,v.jsxs)(F.Z,{title:(0,v.jsx)("span",{className:"hardline font-semibold text-lg mb-3",children:R}),children:[(0,v.jsx)(Be.Z.Search,{className:"",loading:N,addonBefore:(0,v.jsx)(Re.Z,{spinning:N,children:E}),placeholder:"Search...",allowClear:!0,enterButton:z,size:"large",status:j,onSearch:J,onChange:H}),(0,v.jsx)(We.Z,{className:"mt-2",defaultActiveKey:"tables",items:W,activeKey:q,onChange:function(e){return s(d.N.setActiveKey(e))}})]}),n]})})},31145:function(){},64599:function(e,r,t){var n=t(96263);e.exports=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=n(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);