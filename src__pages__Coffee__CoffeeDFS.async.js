"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2569],{13231:function(e,r,a){a.r(r);var n=a(15009),t=a.n(n),s=a(99289),o=a.n(s),c=a(5574),i=a.n(c),u=a(64119),l=a(11774),f=a(38345),m=a(97269),d=a(5966),p=a(59530),b=a(80507),g=a(45360),x=a(15867),h=a(62435),k=(a(82267),a(86074));r.default=function(){var e=g.ZP.useMessage(),r=i()(e,2),a=r[0],n=r[1],s=(0,p.useSelector)((function(e){return e.global.session})),c=(0,p.useSelector)((function(e){return e.global.account})),w=(0,p.useIntl)(),v=w.formatMessage({id:"common.intlCopy"}),M=w.formatMessage({id:"common.intlTransferSuccess"}),y=w.formatMessage({id:"common.intlTransferFail"}),j=w.formatMessage({id:"common.intlCopySuccess"}),C=w.formatMessage({id:"coffee.inputException"}),_=w.formatMessage({id:"coffee.account"}),P=w.formatMessage({id:"coffee.pleaseInputTokenNumber"},{symbol:s?s.chain.name:"DFS"}),S=w.formatMessage({id:"coffee.cardTitle"}),q=w.formatMessage({id:"coffee.message"}),z=w.formatMessage({id:"coffee.leaveAMessage"}),N=w.formatMessage({id:"common.intlPleaseConnectWallet"}),Z=w.formatMessage({id:"common.intlPleaseConnectNetwork"}),T=w.formatMessage({id:"common.intlInsufficientBalance"}),F=(0,h.useCallback)(function(){var e=o()(t()().mark((function e(r){var n,o,l,f,m,d,p,g,x,h;return t()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&s.broadcast){e.next=5;break}return a.error("".concat(N)),e.abrupt("return");case 5:if(c){e.next=8;break}return a.error("".concat(Z)),e.abrupt("return");case 8:if(c.data.core_liquid_balance){e.next=11;break}return a.error("".concat(T)),e.abrupt("return");case 11:if(n=c.data.core_liquid_balance.value,o=c.data.core_liquid_balance.symbol.name,l=c.data.core_liquid_balance.symbol.precision,!((f=Number(r.value))>n)){e.next=18;break}return a.error("".concat(T)),e.abrupt("return");case 18:return m=b.xR.from(f,b.xR.Symbol.fromParts(o,l)),d={action:{account:"eosio.token",name:"transfer",authorization:[s.permissionLevel],data:{from:s.actor,to:r.to,quantity:m.toString(),memo:r.memo}}},e.next=22,(0,u.zI)(s.transact(d));case 22:return p=e.sent,g=i()(p,2),x=g[0],h=g[1],x?a.error(x):h&&h.response?a.success("".concat(M)):a.error("".concat(y)),e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[s,c]),I=(0,h.useCallback)(o()(t()().mark((function e(){return t()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.clipboard.writeText("dfsnetworkbp");case 2:a.success("".concat(j));case 3:case"end":return e.stop()}}),e)}))),[]);return(0,k.jsxs)(l._z,{className:"coffee",ghost:!0,children:[(0,k.jsx)("div",{className:"flex justify-center",children:(0,k.jsx)(f.Z,{title:(0,k.jsx)("span",{className:" font-semibold text-lg",children:S}),style:{width:"450px"},children:(0,k.jsxs)(m.A,{initialValues:{memo:""},onFinish:function(){var e=o()(t()().mark((function e(r){return t()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),submitter:{render:function(e,r){return[r[1],r[0],(0,k.jsx)(x.ZP,{onClick:I,children:v},"copy")]}},children:[(0,k.jsx)(d.Z,{name:"to",label:_,disabled:!0,initialValue:"dfsnetworkbp",fieldProps:{size:"large"}}),(0,k.jsx)(d.Z,{name:"memo",label:q,placeholder:z,fieldProps:{size:"large"}}),(0,k.jsx)(d.Z,{name:"value",label:s?s.chain.name:"DFS",placeholder:P,rules:[{required:!0,message:"".concat(C),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{size:"large"}})]})})}),n]})}},82267:function(){}}]);