"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6564],{33304:function(e,t,r){r.r(t);var n=r(15009),a=r.n(n),o=r(99289),s=r.n(o),c=r(5574),u=r.n(c),i=r(64119),l=r(37476),f=r(5966),m=r(59530),p=r(80507),d=r(45360),g=r(62435),b=r(86074),h=g.forwardRef((function(e,t){var r=(0,m.useSelector)((function(e){return e.global.session})),n=(0,m.useSelector)((function(e){return e.global.contractKit})),o=(0,m.useSelector)((function(e){return e.global.account})),c=d.ZP.useMessage(),h=u()(c,2),v=h[0],k=h[1],x=(0,g.useState)("liq"),C=u()(x,2),S=C[0],M=C[1],w=(0,m.useIntl)(),y=w.formatMessage({id:"tools.autoclaim.intlCharge"}),F=w.formatMessage({id:"coffee.intlQuantity"}),P=w.formatMessage({id:"coffee.inputException"}),R=w.formatMessage({id:"tools.autoclaim.intlChargeNumber"}),q=w.formatMessage({id:"common.intlTransferSuccess"}),z=w.formatMessage({id:"common.intlTransferFail"}),I=w.formatMessage({id:"common.intlPleaseConnectWallet"}),N=w.formatMessage({id:"common.intlPleaseConnectNetwork"}),T=(0,g.useRef)(),j=(0,g.useState)(!1),D=u()(j,2),O=D[0],Z=D[1],E=(0,g.useCallback)((function(e){0===e?M("liq"):1===e&&M("node"),Z(!0)}),[]);(0,g.useImperativeHandle)(t,(function(){return{handleOpen:E}}));var H=(0,g.useCallback)(function(){var t=s()(a()().mark((function t(s){var c,l,f,m,d,g,b;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r&&r.broadcast){t.next=6;break}return v.error("".concat(I)),t.abrupt("return");case 6:if(o){t.next=9;break}return v.error("".concat(N)),t.abrupt("return");case 9:return c=Number(s.value),l=p.xR.from(c,p.xR.Symbol.fromParts("DFS",8)),f={action:{account:"eosio.token",name:"transfer",authorization:[r.permissionLevel],data:{from:r.actor,to:"autoclaimbot",quantity:l.toString(),memo:S}}},t.next=14,(0,i.zI)(r.transact(f));case 14:return m=t.sent,d=u()(m,2),g=d[0],b=d[1],g?v.error(g):b&&b.response?(v.success("".concat(q)),setTimeout((function(){e.handleClaims(o,n)}),500)):v.error("".concat(z)),t.abrupt("return",!0);case 22:t.prev=22,t.t0=t.catch(0),console.log(t.t0.message),v.error(t.t0.message);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e){return t.apply(this,arguments)}}(),[S,r,o,n,e]);return(0,b.jsxs)(l.Y,{formRef:T,title:y+"DFS",open:O,onFinish:H,onOpenChange:function(e){Z(e)},layout:"vertical",width:"450px",children:[(0,b.jsx)(f.Z,{name:"value",label:F,placeholder:R,rules:[{required:!0,message:"".concat(P),whitespace:!0,pattern:/^\d+(\.\d{1,8})?$/}],fieldProps:{size:"large",autoFocus:!1}}),k]})}));t.default=(0,g.memo)(h)}}]);