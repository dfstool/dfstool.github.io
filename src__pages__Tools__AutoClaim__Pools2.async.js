"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7066],{80652:function(e,t,a){var r=a(62435),n=a(20701),i=a(11924),s=a(79360),l=a(24770),o=a(79642),c=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},u=(0,r.forwardRef)((function(e,t){var a=e.chartRef,u=e.style,m=void 0===u?{height:"inherit"}:u,d=e.className,f=e.loading,p=e.loadingTemplate,h=e.errorTemplate,g=c(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),x=(0,i.Z)(n.x1,g),y=x.chart,b=x.container;return(0,r.useEffect)((function(){(0,s.J)(a,y.current)}),[y.current]),(0,r.useImperativeHandle)(t,(function(){return{getChart:function(){return y.current}}})),r.createElement(l.Z,{errorTemplate:h},f&&r.createElement(o.Z,{loadingTemplate:p,theme:e.theme}),r.createElement("div",{className:d,style:m,ref:b}))}));t.Z=u},63343:function(e,t,a){a.r(t);var r=a(97857),n=a.n(r),i=a(15009),s=a.n(i),l=a(99289),o=a.n(l),c=a(5574),u=a.n(c),m=a(5621),d=a(64119),f=a(80652),p=a(38345),h=a(59530),g=a(45360),x=a(57953),y=a(32983),b=a(9669),E=a.n(b),v=a(27484),N=a.n(v),S=a(70178),Z=a.n(S),M=a(62435),j=a(86074);N().extend(Z());t.default=function(){var e=(0,h.useDispatch)(),t=g.ZP.useMessage(),a=u()(t,2),r=a[0],i=a[1],l=(0,M.useState)(!1),c=u()(l,2),b=c[0],v=c[1],S=(0,M.useState)(""),Z=u()(S,1)[0],F=(0,h.useSelector)((function(e){return e.statistics.minuteDataSource})),P=(0,h.useSelector)((function(e){return e.statistics.minuteApyDataSource})),D=(0,h.useSelector)((function(e){return e.statistics.minuteNodeDataSource})),I=(0,h.useSelector)((function(e){return e.global.host})),T=(0,h.useIntl)(),O=T.formatMessage({id:"statistics.intlMinutePool"}),w=T.formatMessage({id:"statistics.intlMinuteApy"}),k=T.formatMessage({id:"statistics.intlMinuteNode"}),A=(0,M.useCallback)(o()(s()().mark((function t(){var a,n,i,l,o,c,f,p;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=[],n=[],i=[],t.next=6,(0,d.zI)(E().get("".concat(I,"/api/pools")));case 6:l=t.sent,o=u()(l,2),c=o[0],f=o[1],c||200!==f.status?r.error(c):((p=f.data).liq.forEach((function(e,t){t%10==0&&(a.push({time:N().unix(Number(e.time)).format().slice(8,16),value:Number(e.quantity.toFixed(0)),category:O}),n.push({time:N().unix(Number(e.time)).format().slice(8,16),value:Number(e.apy.toFixed(2)),category:w}))})),p.node.forEach((function(e,t){t%30==0&&i.push({time:N().unix(Number(e.time)).format().slice(8,16),value:Number(e.quantity.toFixed(2)),category:k})})),e(m.N.setMinuteDataSource(a)),e(m.N.setMinuteApyDataSource(n)),e(m.N.setMinuteNodeDataSource(i))),v(!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),v(!1),(0,d.Tv)(t.t0,r,"handleGetPool");case 18:case"end":return t.stop()}}),t,null,[[0,14]])}))),[I]),R={data:F,xField:"time",yField:"value",seriesField:"category",slider:{start:0,end:1},smooth:!0,label:{}},_={data:P,xField:"time",yField:"value",seriesField:"category",slider:{start:0,end:1},smooth:!0,label:{}},C={data:D,xField:"time",yField:"value",seriesField:"category",slider:{start:0,end:1},smooth:!0,label:{}};return(0,M.useEffect)((function(){F.length?v(!1):v(!0),A()}),[A]),(0,j.jsxs)("div",{className:"autoclaim",children:[(0,j.jsxs)(x.Z,{size:"large",spinning:b,tip:Z,children:[(0,j.jsx)(p.Z,{className:"mb-3",children:F.length?(0,j.jsx)(f.Z,n()(n()({},R),{},{loading:b})):(0,j.jsx)(y.Z,{image:y.Z.PRESENTED_IMAGE_SIMPLE})}),(0,j.jsx)(p.Z,{className:"mb-3",children:P.length?(0,j.jsx)(f.Z,n()(n()({},_),{},{loading:b})):(0,j.jsx)(y.Z,{image:y.Z.PRESENTED_IMAGE_SIMPLE})}),(0,j.jsx)(p.Z,{className:"mb-3",children:D.length?(0,j.jsx)(f.Z,n()(n()({},C),{},{loading:b})):(0,j.jsx)(y.Z,{image:y.Z.PRESENTED_IMAGE_SIMPLE})})]}),i]})}}}]);