"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3105],{12806:function(e,r,t){t.r(r);var n=t(15009),a=t.n(n),s=t(99289),c=t.n(s),o=t(5574),i=t.n(o),l=t(64119),u=t(57132),p=t(11774),f=t(38345),d=t(97269),h=t(5966),g=t(59530),v=t(80507),x=t(45360),b=t(62435),w=t(86074);r.default=function(){var e=x.ZP.useMessage(),r=i()(e,2),t=r[0],n=r[1],s=(0,b.useState)(),o=i()(s,2),m=o[0],y=o[1],k=(0,g.useIntl)(),j=k.formatMessage({id:"tools.pubkeyswitch.intlPubkeySwitch"}),C=k.formatMessage({id:"common.intlCopySuccess"}),P=k.formatMessage({id:"account.intlPublicKey"}),S=k.formatMessage({id:"tools.pubkeyswitch.intlNotSupportPubkeyFormat"}),Z=k.formatMessage({id:"coffee.inputException"}),F=(0,b.useRef)(),M=(0,b.useCallback)(function(){var e=c()(a()().mark((function e(r){var n,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=r.publicKey).startsWith("PUB_WA")){e.next=5;break}return t.error(S),e.abrupt("return",!1);case 5:s=v.nh.from(n),y(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,l.Tv)(e.t0,t,"handleFinish");case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),[]),N=(0,b.useCallback)(function(){var e=c()(a()().mark((function e(r){var n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="","new"===r?n=null==m?void 0:m.toString():"legacy"===r&&(n=null==m?void 0:m.toLegacyString()),e.next=4,window.navigator.clipboard.writeText(n);case 4:t.success("".concat(C));case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[m]);return(0,w.jsx)(p._z,{className:"",ghost:!0,children:(0,w.jsx)("div",{className:"flex justify-center",children:(0,w.jsx)(f.Z,{title:(0,w.jsx)("div",{children:(0,w.jsx)("span",{children:j})}),style:{width:"650px"},children:(0,w.jsxs)(d.A,{formRef:F,onFinish:M,layout:"vertical",submitter:{render:function(e,r){return[r[1]]}},children:[(0,w.jsx)(h.Z,{label:P,name:"publicKey",placeholder:"ex: EOS7Fq3Ag... or PUB_K1_8Zsq9...",rules:[{required:!0,message:"".concat(Z),whitespace:!0,pattern:/^(EOS|PUB_).+$/}],fieldProps:{size:"large",autoFocus:!1,allowClear:!0}}),(0,w.jsx)(h.Z,{label:P+"(New)",placeholder:"",fieldProps:{autoFocus:!1,value:m?m.toString():"",onChange:void 0,allowClear:!1,size:"large",addonAfter:(0,w.jsx)(u.Z,{className:"cursor-pointer",onClick:function(){return N("new")}})}}),(0,w.jsx)(h.Z,{label:P+"(Legacy)",placeholder:"",fieldProps:{autoFocus:!1,value:m?m.toLegacyString():"",onChange:void 0,allowClear:!1,size:"large",addonAfter:(0,w.jsx)(u.Z,{className:"cursor-pointer",onClick:function(){return N("legacy")}})}}),n]})})})})}}}]);