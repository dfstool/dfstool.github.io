(self.webpackChunk=self.webpackChunk||[]).push([[8346],{48346:function(e,t,r){"use strict";r.d(t,{Wo:function(){return f},tw:function(){return b},SX:function(){return k}});var n=r(62435),o=r(75633),i=r(5574),a=r.n(i),s=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function u(e,t){var r=t.format,n=void 0===r?"":r,o=new Date(e).getTime(),i=Date.now();return function(e,t){var r=e,n=/\[[^\]]*]/g,o=(t.match(n)||[]).map((function(e){return e.slice(1,-1)})),i=t.replace(n,"[]"),u=s.reduce((function(e,t){var n=a()(t,2),o=n[0],i=n[1];if(e.includes(o)){var s=Math.floor(r/i);return r-=s*i,e.replace(new RegExp("".concat(o,"+"),"g"),(function(e){var t=e.length;return s.toString().padStart(t,"0")}))}return e}),i),c=0;return u.replace(n,(function(){var e=o[c];return c+=1,e}))}(Math.max(o-i,0),n)}var c=r(51409),l=r(86074);var d=function(e){var t=e.value,r=e.format,i=void 0===r?"HH:mm:ss":r,a=e.onChange,s=e.onFinish,d=e.className,f=(0,o.N)(),p=n.useRef(null),m=function(){var e=function(e){return new Date(e).getTime()}(t);e>=Date.now()&&(p.current=(0,c.Zi)((function(){f(),null==a||a(e-Date.now()),e<Date.now()&&(null==s||s(),p.current&&((0,c.cv)(p.current),p.current=null))}),33.333333333333336))};return n.useEffect((function(){return m(),function(){p.current&&((0,c.cv)(p.current),p.current=null)}}),[t]),(0,l.jsx)("div",{className:d,children:u(t,{format:i})})},f=n.memo(d),p=r(40956),m=r(92340),h=r(59530),v=r(15867),w=r(27484),y=r.n(w),g=r(70178),x=r.n(g);y().extend(x());var j=(0,n.forwardRef)((function(e,t){var r=(0,h.useDispatch)(),o=(0,h.useNavigate)(),i=(0,h.useSelector)((function(e){return e.ppp.projectNft})),a=(0,h.useSelector)((function(e){return e.ppp.projectNftReset})),s=(0,h.useSelector)((function(e){return e.ppp.projectId})),u=(0,h.useSelector)((function(e){return e.ppp.projectSecToBurnNft})),c=(0,h.useSelector)((function(e){return e.ppp.projectAccountFilter})),d=(0,h.useSelector)((function(e){return e.ppp.projectNftLoading})),w=(0,h.useIntl)().formatMessage({id:"tokens.intlUpdate"}),g=(0,n.useCallback)((function(e){var t=e.owner,n=i.filter((function(e){return e.owner===t}));r(p.N.setProjectNft(n))}),[i]),x=(0,n.useCallback)((function(){r(p.N.setProjectNft(a))}),[a]),j=(0,n.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",search:!1,render:function(e,t,r){return(0,l.jsx)("span",{children:r+1})}},{title:"ID",dataIndex:"id",key:"id",search:!1,render:function(e,t){return(0,l.jsx)("div",{children:t.id})}},{title:"CID",dataIndex:"cid",key:"cid",search:!1,render:function(e,t){return(0,l.jsxs)("div",{children:["#",t.cid]})}},{title:"状态",dataIndex:"status",key:"status",filters:[{text:"可买",value:"buy"},{text:"已售",value:"sell"},{text:"可拆分",value:"split"},{text:"可销毁",value:"burn"}],onFilter:function(e,t){return"buy"===e?t.status.includes("可买"):"sell"===e?"已售"===t.status:"split"===e?"可拆分"===t.status:"burn"!==e||t.status.includes("可销毁")},sorter:function(e,t){return e.status.localeCompare(t.status)},search:!1,render:function(e,t){return(0,l.jsx)("div",{children:t.status})}},{title:"持有者",dataIndex:"owner",key:"owner",filters:c,onFilter:function(e,t){return e===t.owner},sorter:function(e,t){return e.owner.localeCompare(t.owner)},render:function(e,t){return(0,l.jsx)("a",{onClick:function(){return o("/query/account?search=".concat(t.owner,"&tab=info"))},children:t.owner})}},{title:"当前价格",dataIndex:"current_price",key:"current_price",sorter:function(e,t){return e.current_price.localeCompare(t.current_price)},search:!1,render:function(e,t){return(0,l.jsx)("div",{children:t.current_price})}},{title:"卖出利润",dataIndex:"profit",key:"profit",sorter:function(e,t){return e.profit.localeCompare(t.profit)},search:!1,render:function(e,t){return(0,l.jsx)("div",{children:t.profit})}},{title:"购买时间",dataIndex:"last_trade",key:"last_trade",sorter:function(e,t){return y()(e.last_trade).valueOf()-y()(t.last_trade).valueOf()},search:!1,render:function(e,t){var r=y().utc(t.last_trade).local().format("YYYY-MM-DDTHH:mm:ss");return(0,l.jsx)("div",{children:r})}},{title:"销毁时间",dataIndex:"last_trade",key:"last_trade",sorter:function(e,t){return y()(e.last_trade).valueOf()-y()(t.last_trade).valueOf()},search:!1,render:function(e,t){var r=y().utc(t.last_trade).add(u,"seconds").local().format("YYYY-MM-DDTHH:mm:ss");return(0,l.jsx)("div",{children:r})}},{title:"销毁倒计时",dataIndex:"last_trade",key:"last_trade",search:!1,render:function(e,t){var r=y().utc(t.last_trade).add(u,"seconds").local().valueOf();return(0,l.jsx)(f,{value:r})}}]}),[i,u,c]);return(0,l.jsx)("div",{className:"ppp-tab-nft",children:(0,l.jsx)(m.Z,{loading:{spinning:d,size:"large"},scroll:{x:!0},size:"small",columns:j,dataSource:i,defaultData:[],search:{defaultCollapsed:!1,layout:"horizontal",labelWidth:"auto",collapseRender:!1,className:"p-[0px]",optionRender:function(t,r,n){return[n[1],(0,l.jsx)(v.ZP,{type:"primary",onClick:function(){e.handleGetProjectNft(s)},children:w},"update"),n[0]]}},onSubmit:g,onReset:x,options:!1,tableAlertRender:!1,tableAlertOptionRender:!1,pagination:!1})})})),b=(0,n.memo)(j);y().extend(x());var I=(0,n.forwardRef)((function(e,t){var r=(0,h.useDispatch)(),o=(0,h.useNavigate)(),i=(0,h.useSelector)((function(e){return e.ppp.projectNftRank})),a=(0,h.useSelector)((function(e){return e.ppp.projectNftRankReset})),s=(0,h.useSelector)((function(e){return e.ppp.projectId})),u=(0,h.useSelector)((function(e){return e.ppp.projectAccountFilter})),c=(0,h.useSelector)((function(e){return e.ppp.projectNftLoading})),d=(0,h.useSelector)((function(e){return e.ppp.projectTotalHolder})),f=(0,h.useSelector)((function(e){return e.ppp.projectTotalInvest})),w=(0,h.useSelector)((function(e){return e.ppp.projectTotalProfit})),y=(0,h.useIntl)().formatMessage({id:"tokens.intlUpdate"}),g=(0,n.useCallback)((function(e){var t=e.owner,n=i.filter((function(e){return e.owner===t}));r(p.N.setProjectNftRank(n))}),[i]),x=(0,n.useCallback)((function(){r(p.N.setProjectNftRank(a))}),[a]),j=(0,n.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",search:!1,render:function(e,t,r){return(0,l.jsx)("span",{children:r+1})}},{title:"持有者(".concat(d,")"),dataIndex:"owner",key:"owner",filters:u,onFilter:function(e,t){return e===t.owner},sorter:function(e,t){return e.owner.localeCompare(t.owner)},render:function(e,t){return(0,l.jsx)("a",{onClick:function(){return o("/query/account?search=".concat(t.owner,"&tab=info"))},children:t.owner})}},{title:"持有数量",dataIndex:"number",key:"number",sorter:function(e,t){return e.number-t.number},search:!1,render:function(e,t){return(0,l.jsx)("div",{children:t.number})}},{title:"持有占比",dataIndex:"percent",key:"percent",search:!1,render:function(e,t){return(0,l.jsxs)("div",{children:[t.percent.toFixed(2),"%"]})}},{title:"投入成本(".concat(f.toFixed(0),")"),dataIndex:"invest",key:"invest",sorter:function(e,t){return e.invest-t.invest},search:!1,render:function(e,t){return(0,l.jsx)("div",{children:t.investAsset})}},{title:"卖出利润(".concat(w.toFixed(0),")"),dataIndex:"profit",key:"profit",sorter:function(e,t){return e.profit-t.profit},search:!1,render:function(e,t){return(0,l.jsx)("div",{children:t.profitAsset})}}]}),[i,u,w,f,d]);return(0,l.jsx)("div",{className:"ppp-tab-rank",children:(0,l.jsx)(m.Z,{loading:{spinning:c,size:"large"},scroll:{x:!0},size:"small",columns:j,dataSource:i,defaultData:[],search:{defaultCollapsed:!1,layout:"horizontal",labelWidth:"auto",collapseRender:!1,className:"p-[0px]",optionRender:function(t,r,n){return[n[1],(0,l.jsx)(v.ZP,{type:"primary",onClick:function(){e.handleGetProjectNft(s)},children:y},"update"),n[0]]}},onSubmit:g,onReset:x,options:!1,tableAlertRender:!1,tableAlertOptionRender:!1,pagination:!1})})})),k=(0,n.memo)(I)},76650:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,i=2*o,a=function(e,t){return function(r){var a=t.get(r),s=void 0===a?r.size:a<i?a+1:0;if(!r.has(s))return e(r,s);if(r.size<o){for(;r.has(s);)s=Math.floor(Math.random()*i);return e(r,s)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(s);)s=Math.floor(Math.random()*n);return e(r,s)}},s=new WeakMap,u=r(s),c=a(u,s),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)},51409:function(e,t,r){"use strict";r.d(t,{cv:function(){return i},gr:function(){return a},Zi:function(){return s},iK:function(){return u}});var n=r(76650);const o=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob([t],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=e(o),setTimeout((()=>URL.revokeObjectURL(o))),r}})((e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),o=new Map,i=new Worker(e);i.addEventListener("message",(({data:e})=>{if(void 0!==(n=e).method&&"call"===n.method){const{params:{timerId:n,timerType:i}}=e;if("interval"===i){const e=t.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const t=o.get(e);if(void 0===t||t.timerId!==n||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&e()}else if("timeout"===i){const e=r.get(n);if(void 0===typeof e)throw new Error("The timer is in an undefined state.");if("number"==typeof e){const t=o.get(e);if(void 0===t||t.timerId!==n||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else"function"==typeof e&&(e(),r.delete(n))}}else{if(!(e=>"number"==typeof e.id&&"boolean"==typeof e.result)(e)){const{error:{message:t}}=e;throw new Error(t)}{const{id:n}=e,i=o.get(n);if(void 0===i)throw new Error("The timer is in an undefined state.");const{timerId:a,timerType:s}=i;o.delete(n),"interval"===s?t.delete(a):r.delete(a)}}var n}));return{clearInterval:e=>{if("function"==typeof t.get(e)){const r=(0,n.generateUniqueNumber)(o);o.set(r,{timerId:e,timerType:"interval"}),t.set(e,r),i.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"interval"}})}},clearTimeout:e=>{if("function"==typeof r.get(e)){const t=(0,n.generateUniqueNumber)(o);o.set(t,{timerId:e,timerType:"timeout"}),r.set(e,t),i.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})}},setInterval:(e,r=0,...o)=>{const a=(0,n.generateUniqueNumber)(t);return t.set(a,(()=>{e(...o),"function"==typeof t.get(a)&&i.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}})})),i.postMessage({id:null,method:"set",params:{delay:r,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}}),a},setTimeout:(e,t=0,...o)=>{const a=(0,n.generateUniqueNumber)(r);return r.set(a,(()=>e(...o))),i.postMessage({id:null,method:"set",params:{delay:t,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"timeout"}}),a}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=t=>{const r=e.get(t);return void 0!==r&&(clearTimeout(r),e.delete(t),!0)},s=e=>{const r=t.get(e);return void 0!==r&&(clearTimeout(r),t.delete(e),!0)},o=(e,t)=>{const r=performance.now(),s=e+t-r-performance.timeOrigin;return{expected:r+s,remainingDelay:s}},i=(e,t,r,s)=>{const o=r-performance.now();o>0?e.set(t,setTimeout(i,o,e,t,r,s)):(e.delete(t),postMessage({id:null,method:"call",params:{timerId:t,timerType:s}}))};addEventListener("message",(({data:n})=>{try{if("clear"===n.method){const{id:e,params:{timerId:t,timerType:o}}=n;if("interval"===o)postMessage({id:e,result:r(t)});else{if("timeout"!==o)throw new Error(\'The given type "\'.concat(o,\'" is not supported\'));postMessage({id:e,result:s(t)})}}else{if("set"!==n.method)throw new Error(\'The given method "\'.concat(n.method,\'" is not supported\'));{const{params:{delay:r,now:s,timerId:a,timerType:m}}=n;if("interval"===m)((t,r,s)=>{const{expected:n,remainingDelay:a}=o(t,s);e.set(r,setTimeout(i,a,e,r,n,"interval"))})(r,a,s);else{if("timeout"!==m)throw new Error(\'The given type "\'.concat(m,\'" is not supported\'));((e,r,s)=>{const{expected:n,remainingDelay:a}=o(e,s);t.set(r,setTimeout(i,a,t,r,n,"timeout"))})(r,a,s)}}}}catch(e){postMessage({error:{message:e.message},id:n.id,result:null})}}))})();'),i=e=>o().clearInterval(e),a=e=>o().clearTimeout(e),s=(...e)=>o().setInterval(...e),u=(...e)=>o().setTimeout(...e)}}]);